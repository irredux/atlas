{"version":3,"file":"static/js/814.5997c050.chunk.js","mappings":"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","sources":["changelog.js","editor/overview.js","../node_modules/react-bootstrap/esm/createUtilityClasses.js","../node_modules/react-bootstrap/esm/Stack.js","../node_modules/react-bootstrap/esm/types.js","../node_modules/react-bootstrap/esm/DropdownButton.js","../node_modules/react-bootstrap/esm/Badge.js","editor/zettel.js","editor/outline.js","editor/export.js","editor/editor.js","editor/mainContent.js","settings.js","../node_modules/react-bootstrap/esm/CardImg.js","../node_modules/react-bootstrap/esm/CardHeader.js","../node_modules/react-bootstrap/esm/Card.js","../node_modules/react-bootstrap/esm/InputGroup.js"],"sourcesContent":["import { Alert, Container } from \"react-bootstrap\";\nimport { arachne } from \"./arachne.js\";\nimport { useState } from \"react\";\n\nfunction  ChangeLog(){\n    arachne.changeLog = arachne.changeLog.sort((a,b)=>a.date<b.date);\n    arachne.changeLog = arachne.changeLog.filter(a=>(a.project===undefined||a.project===arachne.project_name));\n    const [displayAll, setDisplayAll] = useState(arachne.changeLog.length>5?false:true);\n    const formatDate = d=>{\n        const numToMonth = {\n            \"01\": \"Januar\",\n            \"02\": \"Februar\",\n            \"03\": \"März\",\n            \"04\": \"April\",\n            \"05\": \"Mai\",\n            \"06\": \"Juni\",\n            \"07\": \"Juli\",\n            \"08\": \"August\",\n            \"09\": \"September\",\n            \"10\": \"Oktober\",\n            \"11\": \"November\",\n            \"12\": \"Dezember\",\n        };\n        return `${d.substring(8,10)}. ${numToMonth[d.substring(5,7)]} ${d.substring(0,4)}`;\n    };\n    return <Container>\n        {arachne.changeLog.map((c,i)=>{if(displayAll||i<5){return <Alert key={i} variant={i===0?\"primary\":\"secondary\"}><Alert.Heading>{c.title}</Alert.Heading><i>{formatDate(c.date)}</i>{c.description}</Alert>}else{return null}})}\n        {displayAll?null:<Alert style={{cursor: \"pointer\", marginTop: \"100px\", textAlign: \"center\"}} variant=\"info\" onClick={()=>{setDisplayAll(true)}}>Alle Änderungen anzeigen.</Alert>}\n    </Container>;\n    \n}\n\nexport { ChangeLog };","import { Container, Table, Tabs, Tab, Dropdown, Navbar } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { getSettings, setSetting } from \"./mainContent.js\";\n\nimport { arachne } from \"./../arachne.js\";\nimport { Message, ToolKit } from \"./../elements.js\";\n\nfunction Overview(props){\n    const [sortName, setSortName] = useState(getSettings().projectSort);\n    const [renameId, setRenameId] = useState(0);\n    const [shareId, setShareId] = useState(0);\n    const [renameName, setRenameName] = useState(\"\");\n    const [activeProjects, setActiveProjects] = useState([]);\n    const [archiveProjects, setArchiveProjects] = useState([]);\n    const [sharedProjects, setSharedProjects] = useState([]);\n    const [userLst, setUserLst] = useState([]);\n    useEffect(()=>{\n        refreshPage();\n    }, [sortName]);\n    useEffect(()=>{\n        const fetchData = async () => {\n            await refreshPage();\n            const users = await arachne.user.getAll({order: [\"last_name\"]});\n            setUserLst(users.map(u=>[u.id, `${u.first_name} ${u.last_name}`]))\n        };\n        fetchData();\n    }, [])\n    const refreshPage = async ()=>{\n        setActiveProjects(await arachne.project.get({user_id: arachne.me.id, status: 1}, {order: [sortName]}));\n        setArchiveProjects(await arachne.project.get({status: 2}, {order: [sortName]}));\n        setSharedProjects(await arachne.project.get({shared_id: arachne.me.id}, {order: [sortName]}));\n    };\n    const deleteProject = async id => {\n        if(window.confirm(`Soll das Projekt mit der ID '${id}' wirklich gelöscht werden? Dieser Schritt kann nicht rückgängig gemacht werden.`)){\n            //article\n            const articleLst = await arachne.article.get({project_id: id});\n            if(articleLst.length>0){await arachne.article.delete(articleLst.map(a=>a.id))}\n            //sections\n            const zettelLst = await arachne.sections.get({project_id: id});\n            if(zettelLst.length>0){await arachne.sections.delete(zettelLst.map(z=>z.id))}\n            // tags\n            const tagLst = await arachne.tags.get({project_id: id});\n            if(tagLst.length>0){await arachne.tags.delete(tagLst.map(z=>z.id))}\n            // tag_lnks\n            const tagLnkLst = await arachne.tag_lnks.get({project_id: id});\n            if(tagLnkLst.length>0){await arachne.tag_lnks.delete(tagLnkLst.map(z=>z.id))}\n            //project\n            await arachne.project.delete(id)\n            await refreshPage();\n        }\n    };\n    const copyProject = async oldProjectId => {\n        // copy project\n        let oldProject = await arachne.project.get({id: oldProjectId});\n        oldProject = oldProject[0];\n        delete oldProject.id;\n        oldProject.shared_id = null;\n        oldProject.name = `${oldProject.name}  (Kopie)`;\n        const newProjectId = await arachne.project.save(oldProject);\n        //copy sections\n        const zettelLnk = await arachne.sections.get({project_id: oldProjectId});\n        await arachne.sections.save(zettelLnk.map(z=>{\n            z.project_id = newProjectId;\n            z.shared_id = null;\n            return z;\n        }));\n        //copy article + sections\n        const articleLst = await arachne.article.get({project_id: oldProjectId});\n        await arachne.article.save(articleLst.map(a=>{\n            a.project_id = newProjectId;\n            a.shared_id = null;\n            return a;\n        }));\n        // copy tags and tag_lnks!\n        const oldTags = await arachne.tags.get({project_id: oldProjectId});\n        await arachne.tags.save(oldTags.map(t=>{\n            t.project_id = newProjectId;\n            t.shared_id = null;\n            return t;\n        }))\n        const oldTagLnks = await arachne.tag_lnks.get({project_id: oldProjectId});\n        await arachne.tag_lnks.save(oldTagLnks.map(t=>{\n            t.project_id = newProjectId;\n            t.shared_id = null;\n            return t;\n        }))\n        await refreshPage();\n    };\n    const shareProject = async (newUserId, projectId) => {\n        // to un-share project: newUserId = null\n        let shared_id = null\n        let user_id = null\n\n        if(newUserId){\n            const oldUserId = await arachne.project.get({id:projectId},{select: [\"user_id\"]})\n            user_id = newUserId\n            shared_id = oldUserId[0].user_id\n        }else{\n            const oldUserId = await arachne.project.get({id:projectId},{select: [\"shared_id\"]})\n            shared_id = null\n            user_id = oldUserId[0].shared_id\n        }\n        await arachne.project.save({id: projectId, shared_id: shared_id, user_id: user_id});\n        const articleLst = await arachne.article.get({project_id: projectId});\n        //copy zettelLnk\n        for(const a of articleLst){\n            a.user_id = user_id;\n            a.shared_id = shared_id;\n            const newArticleId = await arachne.article.save(a);\n        }\n        const zettelLnk = await arachne.sections.get({project_id: projectId});\n        for(const z of zettelLnk){\n            z.user_id = user_id;\n            z.shared_id = shared_id;\n            await arachne.sections.save(z)\n        }\n        await refreshPage();\n    };\n    return <>\n        <Message show={renameId>0?true:false} title=\"Projekt umbenennen\" msg=\"Geben Sie einen neuen Namen für das Projekt ein:\" input={renameName} onReplay={async e=>{if(e!=-1 && e!=\"\"){\n            await arachne.project.save({id: renameId, name: e})\n            await refreshPage();\n        };\n        setRenameId(0);\n        }} />\n        <Message show={shareId>0?true:false} title=\"Projekt freigeben\" msg=\"Wem wollen Sie das Projekt freigeben?\" dropDown={userLst} onReplay={async e=>{\n            console.log(e);\n            if(e!=-1 && e!=\"\"){\n                await shareProject(e, shareId);\n            }\n            setShareId(0);\n        }} />\n        <Container>\n        <Tabs defaultActiveKey=\"active\">\n            <Tab eventKey=\"active\" title=\"aktive Projekte\">\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\"></th><th width=\"20%\">Änderungsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {activeProjects.map(p => {\n                                let editMenu = [\n                                    [\"umbenennen\", ()=>{ \n                                        setRenameName(p.name);\n                                        setRenameId(p.id);\n                                    }],\n                                    [\"kopieren\", async ()=>{copyProject(p.id)}],\n                                    [\"ins Archiv\", async ()=>{await arachne.project.save({id: p.id, status:2});await refreshPage();}],\n                                    [\"freigeben\", ()=>{setShareId(p.id)}]\n                                ];\n                                if(p.shared_id>0){\n                                    editMenu = [\n                                        [\"umbenennen\", ()=>{ \n                                            setRenameName(p.name);\n                                            setRenameId(p.id);\n                                        }],\n                                        [\"kopieren\", async ()=>{copyProject(p.id)}],\n                                        [\"freigabe beenden\", async ()=>{await shareProject(null, p.id)}]\n                                    ];\n                                }\n                                return <ProjectRow\n                                key={p.id}\n                                p={p}\n                                openProject={()=>{props.loadMain(null, \"editor\", p.id)}}\n                                editMenu={editMenu}\n                                deleteProject={async i=>{await deleteProject(i)}}\n                            />;})}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"archive\" title=\"Archiv\" disabled={archiveProjects.length===0?true:false}>\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\"></th><th width=\"20%\">Änderungsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {archiveProjects.map(p => {\n                                return <ProjectRow\n                                key={p.id}\n                                openProject={null}\n                                p={p}\n                                editMenu={[\n                                    [\"zu den aktiven Projekten\", async ()=>{await arachne.project.save({id: p.id, status:1});await refreshPage();}],\n                                ]}\n                                deleteProject={async i=>{await deleteProject(i)}}\n                            />;\n                            })}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"shared\" title=\"freigegebene Projekte\" disabled={sharedProjects.length===0?true:false}>\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\">freigegeben</th><th width=\"20%\">Änderufrengsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {sharedProjects.map(p => {return <ProjectRow\n                                key={p.id}\n                                p={p}\n                                editMenu={[\n                                    [\"nicht mehr freigeben\", ()=>{shareProject(null, p.id)}]\n                                ]}\n                            />;})}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n        </Tabs>\n        </Container>\n        <NavBarBottom refreshPage={async ()=>{await refreshPage();}} setSortName={e=>setSortName(e)} />\n    </>\n};\n\nfunction ProjectRow(props){\n    const [showEdit, setShowEdit] = useState(false)\n    const [shared, setShared] = useState();\n    const [isShared, setIsShared] = useState(false);\n    useEffect(()=>{\n        const getUserName = async id=>{\n            const userName = await arachne.user.get({id: id});\n            setShared(`${userName[0].first_name} ${userName[0].last_name}`);\n        };\n        if(props.p.shared_id>0&&props.p.status===4){getUserName(props.p.user_id)}\n        else if(props.p.shared_id>0&&props.p.status===1){getUserName(props.p.shared_id);setIsShared(true)}\n    },[]);\n    return <tr style={{height: \"49px\"}} className={isShared?\"text-primary\":null} onMouseEnter={()=>{setShowEdit(true)}} onMouseLeave={()=>{setShowEdit(false)}}><td><b style={{cursor: props.openProject?\"pointer\":\"default\"}} onClick={()=>{if(props.openProject){props.openProject(props.p.id)}}}>{props.p.name}</b></td><td>{shared}</td><td>{props.p.u_date.substring(0, 16)}</td><td>{props.p.c_date.substring(0, 16)}</td><td style={{minWidth: \"115px\"}}>\n    <Dropdown style={{display: showEdit?\"block\":\"none\"}}>\n        <Dropdown.Toggle size=\"sm\" variant=\"outline-primary\">bearbeiten</Dropdown.Toggle>\n        <Dropdown.Menu variant=\"dark\">\n            {props.editMenu.map(e=>{return <Dropdown.Item key={e[0]} onClick={()=>{e[1]()}}>{e[0]}</Dropdown.Item>;})}\n            {props.deleteProject?<>\n                <Dropdown.Divider />\n                <Dropdown.Item onClick={()=>{props.deleteProject(props.p.id)}}>löschen</Dropdown.Item>\n            </>:null}\n        </Dropdown.Menu>\n    </Dropdown>\n    </td></tr>;\n}\nfunction NavBarBottom(props){\n    const [showSort, setShowSort] = useState(false);\n    const ToolKitItems = [\n        [\"Sortieren nach\", ()=>{setShowSort(true)}],\n        [\"neues Projekt erstellen\", async ()=>{\n            if(window.confirm(\"Soll ein neues Projekt erstellt werden?\")){\n                await arachne.project.save({name: \"Neues Projekt\", user_id: arachne.me.id, status: 1});\n                await props.refreshPage();\n            }\n        }],\n    ];\n    return <Navbar fixed=\"bottom\" bg=\"light\">\n        <Message show={showSort} title=\"Sortierung der Projekte\" msg=\"Wie sollen die Projekte sortiert werden? Nach ...\" dropDown={[\n            [\"name\", \"Name\"],\n            [\"u_date\", \"Änderungsdatum\"],\n            [\"c_date\", \"Erstelldatum\"],\n        ]} onReplay={async e=>{\n            setSetting(\"projectSort\", e);\n            props.setSortName(e);\n            setShowSort(false);\n        }} />\n        <Container fluid>\n            <Navbar.Collapse className=\"justify-content-start\"></Navbar.Collapse>\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Navbar.Text>\n                    <ToolKit menuItems={ToolKitItems} />\n                </Navbar.Text>\n            </Navbar.Collapse>\n        </Container>\n    </Navbar>;\n}\n\nexport { Overview };","import PropTypes from 'prop-types';\nimport { DEFAULT_BREAKPOINTS } from './ThemeProvider';\nexport function responsivePropType(propType) {\n  return PropTypes.oneOfType([propType, PropTypes.shape({\n    xs: propType,\n    sm: propType,\n    md: propType,\n    lg: propType,\n    xl: propType,\n    xxl: propType\n  })]);\n}\nexport default function createUtilityClassName(utilityValues, breakpoints = DEFAULT_BREAKPOINTS) {\n  const classes = [];\n  Object.entries(utilityValues).forEach(([utilName, utilValue]) => {\n    if (utilValue != null) {\n      if (typeof utilValue === 'object') {\n        breakpoints.forEach(brkPoint => {\n          const bpValue = utilValue[brkPoint];\n\n          if (bpValue != null) {\n            const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n            classes.push(`${utilName}${infix}-${bpValue}`);\n          }\n        });\n      } else {\n        classes.push(`${utilName}-${utilValue}`);\n      }\n    }\n  });\n  return classes;\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints } from './ThemeProvider';\nimport createUtilityClassName, { responsivePropType } from './createUtilityClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Stack = /*#__PURE__*/React.forwardRef(({\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  direction,\n  gap,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, direction === 'horizontal' ? 'hstack' : 'vstack');\n  const breakpoints = useBootstrapBreakpoints();\n  return /*#__PURE__*/_jsx(Component, { ...props,\n    ref: ref,\n    className: classNames(className, bsPrefix, ...createUtilityClassName({\n      gap,\n      breakpoints\n    }))\n  });\n});\nStack.displayName = 'Stack';\nexport default Stack;","import PropTypes from 'prop-types';\nconst alignDirection = PropTypes.oneOf(['start', 'end']);\nexport const alignPropType = PropTypes.oneOfType([alignDirection, PropTypes.shape({\n  sm: alignDirection\n}), PropTypes.shape({\n  md: alignDirection\n}), PropTypes.shape({\n  lg: alignDirection\n}), PropTypes.shape({\n  xl: alignDirection\n}), PropTypes.shape({\n  xxl: alignDirection\n}), PropTypes.object]);","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nimport DropdownToggle from './DropdownToggle';\nimport DropdownMenu from './DropdownMenu';\nimport { alignPropType } from './types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst propTypes = {\n  /**\n   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.\n   * @type {string}\n   */\n  id: PropTypes.string,\n\n  /** An `href` passed to the Toggle component */\n  href: PropTypes.string,\n\n  /** An `onClick` handler passed to the Toggle component */\n  onClick: PropTypes.func,\n\n  /** The content of the non-toggle Button.  */\n  title: PropTypes.node.isRequired,\n\n  /** Disables both Buttons  */\n  disabled: PropTypes.bool,\n\n  /**\n   * Aligns the dropdown menu.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   *\n   * @type {\"start\"|\"end\"|{ sm: \"start\"|\"end\" }|{ md: \"start\"|\"end\" }|{ lg: \"start\"|\"end\" }|{ xl: \"start\"|\"end\"}|{ xxl: \"start\"|\"end\"} }\n   */\n  align: alignPropType,\n\n  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */\n  menuRole: PropTypes.string,\n\n  /** Whether to render the dropdown menu in the DOM before the first time it is shown */\n  renderMenuOnMount: PropTypes.bool,\n\n  /**\n   *  Which event when fired outside the component will cause it to be closed.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   */\n  rootCloseEvent: PropTypes.string,\n\n  /**\n   * Menu color variant.\n   *\n   * Omitting this will use the default light color.\n   */\n  menuVariant: PropTypes.oneOf(['dark']),\n\n  /** @ignore */\n  bsPrefix: PropTypes.string,\n\n  /** @ignore */\n  variant: PropTypes.string,\n\n  /** @ignore */\n  size: PropTypes.string\n};\n/**\n * A convenience component for simple or general use dropdowns. Renders a `Button` toggle and all `children`\n * are passed directly to the default `Dropdown.Menu`. This component accepts all of\n * [`Dropdown`'s props](#dropdown-props).\n *\n * _All unknown props are passed through to the `Dropdown` component._ Only\n * the Button `variant`, `size` and `bsPrefix` props are passed to the toggle,\n * along with menu-related props are passed to the `Dropdown.Menu`\n */\n\nconst DropdownButton = /*#__PURE__*/React.forwardRef(({\n  title,\n  children,\n  bsPrefix,\n  rootCloseEvent,\n  variant,\n  size,\n  menuRole,\n  renderMenuOnMount,\n  disabled,\n  href,\n  id,\n  menuVariant,\n  ...props\n}, ref) => /*#__PURE__*/_jsxs(Dropdown, {\n  ref: ref,\n  ...props,\n  children: [/*#__PURE__*/_jsx(DropdownToggle, {\n    id: id,\n    href: href,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    childBsPrefix: bsPrefix,\n    children: title\n  }), /*#__PURE__*/_jsx(DropdownMenu, {\n    role: menuRole,\n    renderOnMount: renderMenuOnMount,\n    rootCloseEvent: rootCloseEvent,\n    variant: menuVariant,\n    children: children\n  })]\n}));\nDropdownButton.displayName = 'DropdownButton';\nDropdownButton.propTypes = propTypes;\nexport default DropdownButton;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  bg: 'primary',\n  pill: false\n};\nconst Badge = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  bg,\n  pill,\n  text,\n  className,\n  as: Component = 'span',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, pill && `rounded-pill`, text && `text-${text}`, bg && `bg-${bg}`)\n  });\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import { useEffect, useState, useRef } from \"react\";\nimport { Button, ButtonGroup, Dropdown, DropdownButton, Table, Badge, Card, Col, Form, Container, Navbar, Nav, Row, Modal, Accordion, Stack, Spinner, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGear, faPlusCircle, faMinusCircle, faTimesCircle, faRotate, faPenToSquare, faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { arachne } from \"./../arachne.js\";\nimport { AutoComplete, SearchInput, ToolKit, useIntersectionObserver, Message, useShortcuts } from \"./../elements.js\"\n\nfunction ZettelBox(props){\n    const [currentZettel, setCurrentZettel] = useState(\"?\")\n    const [wideScreen, setWideScreen] = useState(true);\n    const [splitView, setSplitView] = useState(false);\n    const [splitViewURL, setSplitViewURL] = useState(\"\");\n    const setRessourceView = url => {\n        if(!splitView){setSplitView(true)}\n        setSplitViewURL(url)\n    }\n    useEffect(()=>{\n        const resizeObserver = new ResizeObserver(entries=>{\n            if(wideScreen===true&&entries[0].contentRect.width<1000){\n                setWideScreen(false)\n            }\n            if(wideScreen===false&&entries[0].contentRect.width>=1000){\n                setWideScreen(true)\n            }\n        });\n        resizeObserver.observe(document.getElementById(\"cardBox\"));\n        return ()=>{if(document.getElementById(\"cardBox\")){resizeObserver.unobserve(document.getElementById(\"cardBox\"))}};\n    },[wideScreen]);\n    return <>\n    <ImportZettel show={props.showImport} project={props.project} onReplay={e=>{\n            if(e){props.updateSections()};\n            props.setShowImport(false);\n        }} />\n    <Container fluid>\n        <Row>\n            <Col id=\"cardBox\">\n                <Stack gap={5}>\n                    {props.filterLst.map(sId=><SectionCard updateSections={props.updateSections} wideScreen={wideScreen} setRessourceView={url=>{setRessourceView(url)}} project={props.project} sId={sId} key={sId} />)}\n                </Stack>\n            </Col>\n            {splitView?<Col>\n            <iframe src={splitViewURL} style={{position: \"fixed\", top:\"0px\", left: \"50%\", height: \"100%\", width: \"50%\"}}></iframe>\n            <FontAwesomeIcon icon={faTimesCircle} style={{color: \"var(--bs-danger)\", fontSize:\"24px\", zIndex:\"99999999\", position: \"fixed\", top: \"80px\", right: \"30px\"}} onClick={()=>{setSplitView(false)}} />\n            </Col>:null}\n        </Row>\n    </Container>\n    {<MenuLeft setLimitFilterResults={v=>{props.setLimitFilterResults(v)}} project={props.project} filterTags={props.filterTags} setFilterTags={newTags=>{props.setFilterTags(newTags)}} tagLst={props.tagLst} show={props.showMenuLeft} onHide={()=>{props.setShowMenuLeft(false)}} updateSections={()=>{props.updateSections()}} />}\n    <div style={{fontSize: \"95%\", position: \"fixed\", display: \"flex\", justifyContent:\"space-between\", bottom: \"0px\", left: 0, right: 0, backgroundColor: \"#ced4da\", padding: \"5px 20px\"}}>\n        <div style={{display: \"flex\", justifyContent:\"space-around\", gap: \"10px\"}}>{props.filterTags&&props.filterTags.length>0?props.filterTags.map(t=><div style={{cursor: \"default\", backgroundColor: t.color, fontWeight: \"bold\", color: \"rgba(255,255,255, 0.8)\", margin: \"1px 2px\", padding: \"1px 10px 1px 13px\", borderRadius: \"18px\"}}>{t.name}</div>):<div style={{color: \"gray\"}}><small><i>kein Filter</i></small></div>}</div>\n        <div><input style={{background: \"none\", border: \"none\", outline: \"none\", width: \"60px\", textAlign: \"right\"}} id=\"editor_zettel_current_active\" value={currentZettel} onChange={e=>{setCurrentZettel(e.target.value)}} onKeyUp={e=>{\n            if(e.keyCode===13){\n                const els = document.getElementsByClassName(\"editor_zettel_card\");\n                if(els[parseInt(currentZettel)-1]){els[parseInt(currentZettel)-1].scrollIntoView({behavior: \"auto\", block: \"center\"})}\n            }\n        }} /> / {props.filterLst.length}</div>\n    </div>\n    </>;\n}\nfunction MenuLeft(props){\n    const [activeTabKey, setActiveTabKey] = useState(\"filter\");\n    const [tags, setTags] = useState([]);\n    const [renameId, setRenameId] = useState(0);\n    const [renameName, setRenameName] = useState(\"\");\n\n    useEffect(()=>{\n        if(props.show){loadTags()}\n    }, [props.show]);\n    const loadTags = async ()=>{\n        const allTags = await arachne.tags.get({project_id: props.project.id});\n        let enhancedTags = []\n        for(let tag of allTags){\n            const tagCount = await arachne.tag_lnks.get({tag_id: tag.id}, {count: true});\n            tag.sections = tagCount[0].count;\n            enhancedTags.push(tag);\n        }\n        setTags(enhancedTags);\n    };\n    const deleteTag = async tag=>{\n        if(window.confirm(`Soll das Schlagwort '${tag.name}' wirklich gelöscht werden? Es wird aus allen Stellen entfernt!`)){\n            const oldTagLnks = await arachne.tag_lnks.get({tag_id: tag.id}, {select: [\"id\"]});\n            await arachne.tag_lnks.delete(oldTagLnks.map(t=>t.id));\n            await arachne.tags.delete(tag.id);\n            await loadTags();\n        }\n    };\n    return <Offcanvas show={props.show} backdrop={false} scroll={true} onHide={()=>{props.onHide()}}>\n    <Offcanvas.Header closeButton>\n      <Offcanvas.Title></Offcanvas.Title>\n    </Offcanvas.Header>\n    <Offcanvas.Body>\n        <Message show={renameId>0?true:false} title=\"Projekt umbenennen\" msg=\"Geben Sie einen neuen Namen für das Schlagwort ein:\" input={renameName} onReplay={async e=>{\n            const tagNames = tags.map(t=>t.name.toLowerCase());\n            if(e!=-1&&e!=\"\"){\n                if(tagNames.includes(e.toLowerCase())){\n                    alert(`Der Name '${e}' wird bereits verwendet!`)\n                }else{\n                    await arachne.tags.save({id: renameId, name: e});\n                    await loadTags();\n                }\n            };\n            setRenameId(0);\n        }} />\n        <Tabs defaultActiveKey=\"filter\" className=\"mb-3\" activeKey={activeTabKey} onSelect={k=>{setActiveTabKey(k)}}>\n            <Tab eventKey=\"filter\" title=\"Filter\">\n                <Container>\n                    <Row className=\"mb-3\"><Col><FilterBox filterTags={props.filterTags} setFilterTags={newTags=>{props.setFilterTags(newTags)}} project={props.project} /></Col></Row>\n                    <Row className=\"mb-4\"><Col></Col><Col><Button style={{width: \"100%\"}} onClick={()=>{props.updateSections()}}>Zettel filtern</Button></Col></Row>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"tags\" title=\"Schlagworte\">\n                <Table>\n                    <tbody>\n                        {tags.map(t=><tr key={t.id}>\n                            <td><Form.Control\n                                style={{display: \"inline\"}}\n                                size=\"sm\"\n                                type=\"color\"\n                                id=\"exampleColorInput\"\n                                defaultValue={t.color}\n                                title=\"Choose your color\"\n                                onChange={async e=>{await arachne.tags.save({id: t.id, color: e.target.value});await loadTags()}}\n                            /></td>\n                            <td><b style={{marginLeft: \"10px\", color: t.color, cursor: \"pointer\"}} onClick={()=>{props.setFilterTags([t]);setActiveTabKey(\"filter\")}}>{t.name}</b></td>\n                            <td>{t.sections}</td>\n                            <td><FontAwesomeIcon icon={faPenToSquare} style={{cursor: \"pointer\", color: \"var(--bs-primary)\"}} onClick={()=>{setRenameName(t.name);setRenameId(t.id)}} /></td>\n                            <td><FontAwesomeIcon icon={faTrashCan} style={{cursor: \"pointer\", color: \"var(--bs-primary)\"}} onClick={()=>{deleteTag(t)}} /></td>\n                        </tr>)}\n                    </tbody>\n                </Table>\n            </Tab>\n        </Tabs>\n    </Offcanvas.Body>\n  </Offcanvas>;\n}\nfunction SectionCard(props){\n    const [ressources, setRessources] = useState([]);\n    const [showComment, setShowComment] = useState(false);\n    const [comment, setComment] = useState(\"\");\n    const [img, setImg] = useState(null);\n    const [reference, setReference] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [verso, setVerso] = useState(false);\n    const [tags, setTags] = useState([]);\n    const [unusedTags, setUnusedTags] = useState([]);\n    const [section, setSection] = useState({});\n    const [isVisible, setIsVisible] = useState(false);\n\n    const refImg = useRef();\n    const centerSection = () =>{document.getElementById(\"s_\"+props.sId).scrollIntoView({block: \"center\"})};\n    useIntersectionObserver({\n      target: refImg,\n      onIntersect: ([{ isIntersecting }], observerElement) => {\n        if (isIntersecting) {\n          setIsVisible(true);\n          observerElement.unobserve(refImg.current);\n        }\n      }\n    });\n    useEffect(()=>{\n        if(isVisible){\n            loadSection();\n            loadTags();\n        }else{\n            setImg(null);\n            setTags([]);\n        }\n    },[isVisible]);\n    useEffect(()=>{if(isVisible){setImg(arachne.url+section.img+`${verso?\"v\":\"\"}.jpg`)}}, [verso]);\n    const loadSection = async () =>{\n        const newSection = await arachne.sections.get({id: props.sId});\n        if(newSection[0].img){setImg(arachne.url+newSection[0].img+`${verso?\"v\":\"\"}.jpg`)}\n        else{setImg(null)}\n        setReference(newSection[0].ref);\n        setText(newSection[0].text);\n        setComment(newSection[0].comment);\n        if(newSection[0].comment!=null&&newSection[0].comment!=\"\"){setShowComment(true)}\n        setSection(newSection[0]);\n        // load ressources\n        setRessources(await arachne.edition.get({work_id: newSection[0].work_id}, {select: [\"id\", \"label\", \"url\"]}));\n    };\n    const loadTags =  async () =>{\n        let cAllTags = await arachne.tags.get({project_id: props.project.id});\n        const cTagLnks = await arachne.tag_lnks.get({section_id: props.sId});\n        let newTags = [];\n        for(const cTagLnk of cTagLnks){\n            const newTagIndex = cAllTags.findIndex(t=>t.id===cTagLnk.tag_id);\n            if(newTagIndex===-1){throw \"ERROR! CANNOT FIND TAG INDEX!\"}\n            else{\n                newTags.push(cAllTags[newTagIndex]);\n                cAllTags.splice(newTagIndex,1);\n            }\n        }\n        setUnusedTags(cAllTags);\n        setTags(newTags);\n    };\n    const openZettelDB = () =>{\n        localStorage.setItem(arachne.project_name+\"_searchBox_zettel\",`[[{\"id\":0,\"c\":\"id\",\"o\":\"=\",\"v\":\"${section.zettel_id}\"}],1,[\"id\"]]`);\n        window.open(\"/?site=zettel\");\n    }//style={{ width: '80%', maxWidth: \"600px\", margin: \"auto\" }}>\n    return <Card ref={refImg} className={props.wideScreen?\"largeScreen editor_zettel_card\":\"editor_zettel_card\"} id={\"s_\"+props.sId} style={{ width: \"80%\", margin: \"auto\" }} onFocus={e=>{\n        const el = document.getElementById(\"editor_zettel_current_active\");\n        if(el){\n            const allCards = document.getElementsByClassName(\"editor_zettel_card\");\n            for(let i = 0; i<allCards.length;i++){\n                if(allCards[i].id===\"s_\"+props.sId){\n                    el.value = i+1;\n                    break;\n                }\n            }\n        }\n        }}>\n        {img?<Card.Img style={{aspectRatio: \"10/7\"}} variant=\"top\" src={img} />:null}\n        <Card.Body className=\"editor_zettel_CardBox\">\n            <Row className=\"mb-3\" style={{marginBottom: \"47px\"}}><Col><Form.Control placeholder=\"Zitiertitel...\" onFocus={()=>{centerSection()}} size=\"sm\" type=\"text\" value={reference?reference:\"\"} onChange={e=>{setReference(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, ref: e.target.value})}} /></Col></Row>\n            <Row className=\"mb-3\">\n                <Col>\n                    <Form.Control placeholder=\"Text der Stelle...\" onFocus={()=>{centerSection()}} as=\"textarea\" rows={3} style={{minHeight: \"120px\",fontSize: \"95%\"}} value={text?text:\"\"} onChange={e=>{setText(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, text: e.target.value})}} />\n                    </Col>\n            </Row>\n            {showComment?<Row className=\"mb-3\">\n                <Col><Form.Control className=\"mt-2\" placeholder=\"Schreiben Sie einen Kommentar...\" onFocus={()=>{centerSection()}} as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={comment?comment:\"\"} onChange={e=>{setComment(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, comment: e.target.value})}} /></Col>\n            </Row>:null}\n            <Row style={{marginBottom: \"47px\"}}>\n                <Col>\n            <TagBox isVisible={isVisible} loadTags={async ()=>{await loadTags()}} tags={tags} project={props.project} s={section} unusedTags={unusedTags} centerSection={()=>{centerSection()}} />\n            </Col>\n            </Row>\n            <div style={{display: \"flex\", justifyContent: \"flex-end\", gap: \"15px\", margin: \"0 0.4rem 0 0.4rem\", position: \"absolute\",  bottom: \"10px\", left: \"10px\", right: \"10px\"}}>\n            <RessourcesButtons setRessourceView={url=>{props.setRessourceView(url)}} ressources={ressources} />\n            <DropdownButton tabIndex=\"-1\" variant=\"outline-dark\" id=\"dropdown-basic-button\" title={<FontAwesomeIcon icon={faGear} />}>\n              <Dropdown.Item onClick={()=>{openZettelDB()}}>Zettel bearbeiten</Dropdown.Item>\n              <Dropdown.Item onClick={()=>{setVerso(!verso)}}>Zettel drehen</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item>verknpft. Werk ändern</Dropdown.Item>\n              <Dropdown.Item onClick={()=>{setShowComment(true)}}>Kommentar hinzufügen</Dropdown.Item>\n              <Dropdown.Divider />\n              <Dropdown.Item>Stelle kopieren</Dropdown.Item>\n              <Dropdown.Item onClick={async ()=>{if(window.confirm(\"Soll die Stelle aus dem Projekt entfernt werden? Alle Änderungen gehen verloren.\")){await arachne.sections.delete(props.sId);props.updateSections()}}} className=\"text-danger\">Stelle löschen</Dropdown.Item>\n            </DropdownButton>\n            </div>\n        </Card.Body>\n    </Card>;\n}\nfunction RessourcesButtons(props){\n    const [button, setButton] = useState(null);\n    const [selected, setSelected] = useState(null);\n    const openRessource = (url) => {\n        switch(arachne.options.openExternally){\n            case 0:\n                props.setRessourceView(url);\n                break;\n            case 1:\n                window.open(url);\n                break;\n            case 2:\n                arachne.sendEcho({type: \"edition\", url: url});\n                break;\n            default:\n                props.setRessourceView(url);\n        }\n    }\n    useEffect(()=>{\n        if(props.ressources.length===0){setButton(null)}\n        else if(props.ressources.length===1){setButton(<Button tabIndex=\"-1\" size=\"sm\" variant=\"outline-secondary\" onClick={()=>{openRessource(props.ressources[0].url===null||props.ressources[0].url===\"\"?\"/site/argos/\"+props.ressources[0].id:props.ressources[0].url)}}>{props.ressources[0].label}</Button>)}\n        else{\n            setSelected(props.ressources[0]);\n        }\n    }, [props.ressources]);\n    useEffect(()=>{\n        if(selected!=null){\n            setButton(<Dropdown as={ButtonGroup}>\n                <Button size=\"sm\" variant=\"outline-secondary\" style={{width: \"100%\"}} onClick={()=>{openRessource(selected.url===null||selected.url===\"\"?\"/site/argos/\"+selected.id:selected.url)}}>{selected.label}</Button>\n                <Dropdown.Toggle split size=\"sm\" variant=\"secondary\" id=\"dropdown-split-basic\" />\n                <Dropdown.Menu>\n                    {props.ressources.map(r=><Dropdown.Item key={r.id} onClick={()=>{setSelected(r)}}>{r.label}</Dropdown.Item>)}\n                </Dropdown.Menu>\n            </Dropdown>);\n        }\n    }, [selected])\n    return button;\n}\nfunction FilterBox(props){\n    const [inputMode, setInputMode] = useState(0); // 0 = normal; 1 = remove; 2 = exclude\n    useEffect(()=>{\n    },[props.filterTags]);\n    const removeTag = t => {props.setFilterTags(props.filterTags.filter(ft=>ft.id!==t.id))}\n    const addTag = async tName => {\n        let newTags = structuredClone(props.filterTags); // deep copy\n        const newTag = await arachne.tags.get({project_id: props.project.id, name: tName});\n        if(inputMode===2){newTag[0].exclude=true}\n        newTags.push(newTag[0])\n        props.setFilterTags(newTags);\n    }\n    let borderStyle = \"1px solid #ced4da\"\n    let backgroundColor = null\n    if(inputMode===1){\n        borderStyle = \"1px solid var(--bs-yellow)\"\n        backgroundColor = \"#ffecb1\"\n    }else if(inputMode===2){\n        borderStyle = \"1px solid var(--bs-teal)\"\n        backgroundColor = \"#e2f7ed\"\n    }\n    return <div className=\"mt-2\" id=\"filter_box\" style={{border: borderStyle, backgroundColor: backgroundColor,padding: \"2px 5px\", display: \"flex\", alignContent: \"flex-start\", alignItems: \"flex-start\", flexWrap: \"wrap\", minHeight: \"220px\", borderRadius: \"0.25rem\", fontSize: \"100%\"}} onClick={()=>{\n        let tb = document.getElementById(\"filter_box\");\n        tb.children[tb.children.length-1].children[0].focus()\n        }}>\n            {props.filterTags.map(t=><FilterTag key={t.id} t={t} removeTag={t=>{removeTag(t)}} />)}\n            <FilterBoxInput inputMode={inputMode} setInputMode={v=>{setInputMode(v)}} tags={props.filterTags} addTag={newTag=>{addTag(newTag)}} removeTag={t=>{removeTag(t)}} project={props.project} />\n    </div>;\n}\nfunction FilterBoxInput(props){\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acTags, setACTags] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(-1);\n    const loadACTags = async ()=>{\n        if(props.inputMode===0||props.inputMode===2){\n            const currentTags = props.tags.map(t=>t.name);\n            const newACTags = await arachne.tags.get({project_id: props.project.id});\n            let currentACTags = newACTags.filter(t=>!currentTags.includes(t.name));\n            if(inputValue===\"\"){setACTags(currentACTags)}\n            else{setACTags(currentACTags.filter(t=>t.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1))}\n        }else{\n            if(inputValue===\"\"){setACTags(props.tags)}\n            else{setACTags(props.tags.filter(t=>t.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1))}\n        }\n        setCurrentFocus(-1);\n    };\n    useEffect(()=>{\n        if(acTags.length>0||inputValue!==\"\"){loadACTags()}\n    }, [props.tags,inputValue,props.inputMode]);\n    const onKeyDown = e=>{\n        if(e.keyCode===13&&acTags.length===1){\n            e.preventDefault();\n            createNewTag(acTags[0].name);\n        }else if(e.keyCode===27){ // esc\n            setACTags([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n            if(props.inputMode!==1){props.setInputMode(1)}\n            else{props.setInputMode(0)}\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n            if(props.inputMode!==2){props.setInputMode(2)}\n            else{props.setInputMode(0)}\n        }else if (e.keyCode===40) { //down\n            if(currentFocus+1 >= acTags.length){setCurrentFocus(0)}\n            else{setCurrentFocus(currentFocus+1)}\n        } else if (e.keyCode===38) { //up\n            if (currentFocus-1 < 0){setCurrentFocus(acTags.length - 1)}\n            else{setCurrentFocus(currentFocus-1)}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            if (currentFocus > -1) {\n                createNewTag(acTags[currentFocus].name);\n            } else if(e.target.value!==\"\") {\n                createNewTag(e.target.value);\n            }\n        }\n    };\n    const createNewTag = async (newTag, exitInput=false) =>{\n        if(props.inputMode===0||props.inputMode===2){ // save new tag\n            if(!props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase())){\n                props.addTag(newTag)\n                if(props.inputMode===2){props.setInputMode(0)}\n            }\n            \n        }else{ // remove existing tag\n            const existingTag = props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n            if(existingTag){\n                props.removeTag(existingTag);\n                props.setInputMode(0);\n            }\n        }\n        setInputValue(\"\");\n        if(exitInput){setACTags([])}\n        else{loadACTags()}\n    };\n    let borderStyle = \"#ced4da\"\n    let backgroundColor = null\n    if(props.inputMode===1){\n        borderStyle = \"var(--bs-yellow)\"\n        backgroundColor = \"#ffecb1\"\n    }else if(props.inputMode===2){\n        borderStyle = \"var(--bs-teal)\"\n        backgroundColor = \"#e2f7ed\"\n    }\n    return <div style={{width:\"300px\", position: \"relative\", display: \"inline-block\"}}>\n        <input value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{loadACTags()}} onBlur={()=>{setInputValue(\"\");setACTags([]);if(props.inputMode>0){props.setInputMode(0)}}} type=\"text\" style={{background: \"none\", outline: \"none\", border: \"none\", margin: \"1px 2px\", padding: \"4px 10px\"}} onKeyDown={e=>{onKeyDown(e)}} />\n    {acTags.length>0&&<div className=\"autocomplete-items\" style={{borderColor: borderStyle}}>\n        {acTags.map((t,i)=><div key={t.id} style={{backgroundColor: backgroundColor, borderColor: borderStyle}} onMouseDown={async ()=>{await createNewTag(t.name, true)}} className={i===currentFocus?\"autocomplete-active\":\"\"}>{t.name}</div>)}\n    </div>}\n    </div>;\n}\nfunction FilterTag(props){\n    return <div style={{cursor: \"default\", backgroundColor: props.t.exclude?\"rgb(248,248,248)\":props.t.color, fontWeight: \"bold\", color: props.t.exclude?props.t.color:\"rgba(255,255,255, 0.8)\", border: `1px solid ${props.t.color}`, margin: \"1px 2px\", padding: \"3px 15px 3px 18px\", borderRadius: \"18px\"}}>\n        {props.t.name}\n        <FontAwesomeIcon onClick={async e=>{\n            e.stopPropagation();\n            props.removeTag(props.t);\n            }} style={{cursor: \"pointer\", margin: \"4px 0 0 9px\"}} icon={faMinusCircle} />\n    </div>;\n}\nfunction TagBox(props){\n    const [inputMode, setInputMode] = useState(true);\n    return <div className=\"mt-2\" id={\"tagBox_\"+props.s.id} style={{border: inputMode?\"1px solid #ced4da\":\"1px solid var(--bs-yellow)\", backgroundColor: inputMode?null:\"#ffecb1\",padding: \"2px 5px\", display: \"flex\", alignItems: \"flex-start\", flexWrap: \"wrap\", minHeight: \"110px\", borderRadius: \"0.25rem\", fontSize: \"100%\"}} onClick={e=>{\n        const inputEl = e.target.querySelector(\"input\")\n        if(inputEl){inputEl.focus()};\n        }}>\n        {props.isVisible&&props.tags.map(t=><Tag key={t.id} t={t} sectionId={props.s.id} loadTags={async ()=>{await props.loadTags()}} />)}\n        <TagBoxInput inputMode={inputMode} setInputMode={v=>{setInputMode(!inputMode)}} project={props.project} tags={props.tags} loadTags={async ()=>{await props.loadTags()}} sectionId={props.s.id} centerSection={()=>{props.centerSection()}} />\n    </div>;\n}\nfunction TagBoxInput(props){\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acTags, setACTags] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(-1);\n    const loadACTags = async (iValue)=>{\n        if(props.inputMode){\n            const currentTags = props.tags.map(t=>t.name);\n            const newACTags = await arachne.tags.get({project_id: props.project.id});\n            let currentACTags = newACTags.filter(t=>!currentTags.includes(t.name));\n            if(iValue===\"\"){setACTags(currentACTags)}\n            else{setACTags(currentACTags.filter(t=>t.name.toLowerCase().indexOf(iValue.toLowerCase())>-1))}\n        }else{\n            if(iValue===\"\"){setACTags(props.tags)}\n            else{setACTags(props.tags.filter(t=>t.name.toLowerCase().indexOf(iValue.toLowerCase())>-1))}\n        }\n        setCurrentFocus(-1);\n    };\n    useEffect(()=>{\n        if(acTags.length>0||inputValue!==\"\"){loadACTags(inputValue)}\n    }, [props.tags,inputValue,props.inputMode]);\n    const onKeyDown = e=>{\n        if(e.keyCode===13&&acTags.length===1){\n            e.preventDefault();\n            createNewTag(acTags[0].name);\n        }else if(e.keyCode===27){ // esc\n            setACTags([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n            props.setInputMode();\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n        }else if (e.keyCode===40) { //down\n            if(currentFocus+1 >= acTags.length){setCurrentFocus(0)}\n            else{setCurrentFocus(currentFocus+1)}\n        } else if (e.keyCode===38) { //up\n            if (currentFocus-1 < 0){setCurrentFocus(acTags.length - 1)}\n            else{setCurrentFocus(currentFocus-1)}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            if (currentFocus > -1) {\n                createNewTag(acTags[currentFocus].name);\n            } else if(e.target.value!==\"\") {\n                createNewTag(e.target.value);\n            }\n        }\n    };\n    const createNewTag = async (newTag, exitInput=false) =>{\n        if(props.inputMode){ // save new tag\n            if(!props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase())){\n                const inTags = acTags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n                if(inTags){ // create new tag_lnk\n                    await arachne.tag_lnks.save({tag_id: inTags.id, section_id: props.sectionId, project_id: props.project.id});\n                    await props.loadTags();\n                }else{ // create new\n                    const newTagId = await arachne.tags.save({\n                        name: newTag,\n                        color: colorPicker(),\n                        project_id: props.project.id,\n                        user_id: props.project.user_id,\n                        shared_id: props.project.shared_id,\n                    });\n                    await arachne.tag_lnks.save({tag_id: newTagId, section_id: props.sectionId, project_id: props.project.id});\n                    await props.loadTags();\n                }\n            }\n            \n        }else{ // remove existing tag\n            const existingTag = props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n            if(existingTag){\n                const currentTagLnk = await arachne.tag_lnks.get({tag_id: existingTag.id, section_id: props.sectionId});\n                await arachne.tag_lnks.delete(currentTagLnk[0].id)\n                await props.loadTags();\n                props.setInputMode();\n            }\n        }\n        setInputValue(\"\");\n        if(exitInput){setACTags([])}\n        else{loadACTags(\"\")}\n    };\n    return <div style={{width:\"300px\", position: \"relative\", display: \"inline-block\"}}>\n        <input value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{loadACTags(\"\");props.centerSection()}} onBlur={()=>{setInputValue(\"\");setACTags([]);if(!props.inputMode){props.setInputMode()}}} type=\"text\" style={{background: \"none\", outline: \"none\", border: \"none\", margin: \"1px 2px\", padding: \"4px 10px\"}} onKeyDown={e=>{onKeyDown(e)}} />\n    {acTags.length>0&&<div className=\"autocomplete-items\" style={{borderColor: props.inputMode?null:\"var(--bs-yellow)\"}}>\n        {acTags.map((t,i)=><div key={t.id} style={{backgroundColor: props.inputMode?null:\"#ffecb1\", borderColor: props.inputMode?null:\"var(--bs-yellow)\"}} onMouseDown={async ()=>{await createNewTag(t.name, true)}} className={i===currentFocus?\"autocomplete-active\":\"\"}>{t.name}</div>)}\n    </div>}\n    </div>;\n}\nfunction Tag(props){\n    return <div style={{cursor: \"default\", backgroundColor: props.t.color, fontWeight: \"bold\", color: \"rgba(255,255,255, 0.8)\", margin: \"1px 2px\", padding: \"3px 15px 3px 18px\", borderRadius: \"18px\"}}>\n        {props.t.name}\n        <FontAwesomeIcon onClick={async e=>{\n            e.stopPropagation();\n            const cTagLnk = await arachne.tag_lnks.get({tag_id: props.t.id, section_id: props.sectionId}, {select: [\"id\"]});\n            await arachne.tag_lnks.delete(cTagLnk[0].id);\n            await props.loadTags();\n            }} style={{cursor: \"pointer\", margin: \"4px 0 0 9px\"}} icon={faMinusCircle} />\n    </div>;\n}\nfunction ImportZettel(props){\n    const [mode, setMode] = useState(\"lemma\")\n    const [status, setStatus] = useState(null);\n    const [lemma, setLemma] =useState(\"\");\n    const [SF, setSF] = useState(null);\n    const [lemmaId, setLemmaId] = useState(null);\n    const [lemmaZettelCount, setLemmaZettelCount] = useState(0);\n    const [zettelZettelCount, setZettelZettelCount] = useState(0);\n    const [searchFields, setSearchFields] = useState([]);\n    const [nextID, setNextID] = useState(1);\n    const [importZettelText, setImportZettelText] = useState(false);\n    useEffect(()=>{\n        const fetchData = async () => {\n            if(lemmaId){\n                const count = await arachne.zettel.get({lemma_id: lemmaId}, {count: true});\n                setLemmaZettelCount(count[0].count);\n            }else{setLemmaZettelCount(0)}\n        };\n        fetchData();\n    }, [lemmaId]);\n\n    const searchOptions = [\n        [\"lemma\", \"Wort\"],\n        [\"type\", \"Typ\"],\n        [\"id\", \"ID\"],\n        [\"ac_web\", \"Werk\"],\n        [\"date_type\", \"Datum-Typ\"],\n        [\"date_own\", \"eigenes Sortierdatum\"],\n        [\"date_own_display\", \"eigenes Anzeigedatum\"],\n    ];\n    const removeSearchFields = id => { setSearchFields(searchFields.filter(s => s.id!==id)) };\n    const addSearchFields = () => {\n        let nSearchFields = searchFields;\n        nSearchFields.push({\n            id: nextID,\n            c: searchOptions[0][0],\n            o: \"=\",\n            v: \"\"\n        });\n        setNextID(nextID+1);\n        setSearchFields(nSearchFields);\n    };\n    const sendQuery = async () => {\n        let exportSF = [];\n        for(const sF of searchFields){\n            if(sF.v !== \"\"){\n                exportSF.push({\n                    c: sF.c,\n                    o: sF.o,\n                    v: sF.v\n                });\n            }\n        }\n\n        if(exportSF.length > 0){\n            setSF(exportSF);\n            const count = await arachne.zettel.search(exportSF, {count:true});\n            setZettelZettelCount(count[0].count);\n        } else {setZettelZettelCount(0)}\n    };\n    let cSF = [];\n    for(const sF of searchFields){\n        cSF.push(<SearchInput searchOptions={searchOptions} removeSearchFields={id => {removeSearchFields(id)}} itemId={sF.id} key={sF.id} c={sF.c} o={sF.o} v={sF.v} clickButton={sendQuery} changeItem={item=>{\n            setSearchFields(searchFields.map(s=>{if(s.id===item.id){return item}else{return s}}));\n        }} />);\n    }\n\n    return <Modal show={props.show} size=\"lg\" onHide={()=>{props.onReplay(false)}} backdrop=\"static\">\n        <Modal.Header closeButton>\n            <Modal.Title>Zettel importieren</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <Container>\n                <Accordion defaultActiveKey=\"0\">\n                    <Accordion.Item eventKey=\"0\" onClick={()=>{setMode(\"lemma\")}}>\n                        <Accordion.Header>Wort-Liste</Accordion.Header>\n                        <Accordion.Body>\n                        <AutoComplete style={{width: \"100%\"}} onChange={(value, id)=>{setLemmaId(id);setLemma(value)}} value={lemma} tbl=\"lemma\" searchCol=\"lemma\" returnCol=\"lemma_ac\" />\n                        {lemmaZettelCount>0?<Badge pill bg=\"success\" className=\"mt-2\">{lemmaZettelCount} Zettel gefunden.</Badge>:null}\n                        </Accordion.Body>\n                    </Accordion.Item>\n                    <Accordion.Item eventKey=\"1\" onClick={()=>{setMode(\"zettel\")}}>\n                        <Accordion.Header>Zettel-Datenbank</Accordion.Header>\n                        <Accordion.Body>\n                        <div className=\"searchBox d-flex flex-wrap\">\n                            {cSF}\n                            <FontAwesomeIcon color=\"LightGray\" icon={faPlusCircle} style={{color: \"var(--mainColor)\", position: \"relative\", top: \"6px\", fontSize: \"25px\", cursor: \"pointer\"}}  onClick={() => {addSearchFields()}}\n                            />\n                        </div>\n                        <div style={{textAlign: \"right\"}}>{zettelZettelCount>0?<Badge pill bg=\"success\" className=\"mt-2\" style={{marginRight: \"15px\"}}>{zettelZettelCount} Zettel gefunden.</Badge>:null}<Button variant=\"light\" onClick={()=>{sendQuery()}}>Suchen</Button></div>\n                        </Accordion.Body>\n                    </Accordion.Item>\n                    </Accordion>\n            </Container>\n        </Modal.Body>\n        <Modal.Footer>\n            <Form.Check\n                style={{position: \"absolute\", left: \"30px\"}}\n                type=\"switch\"\n                id=\"custom-switch\"\n                label=\"Zettel-Text importieren (experimentell)\"\n                onChange={e=>{setImportZettelText(e.target.checked)}}\n            />\n            <Button variant=\"secondary\" onClick={()=>{props.onReplay(false)}}>Abbrechen</Button>\n            <Button variant=\"primary\" onClick={async ()=>{\n                setStatus(<Spinner style={{marginLeft: \"10px\"}} animation=\"border\" size=\"sm\" />);\n                const select = [\"id\", \"ac_web\", \"img_path\", \"date_sort\", \"txt\", \"type\", \"work_id\", \"ocr_text_corr\", \"ocr_text\"];\n                let zettelLst = [];\n                if(mode===\"lemma\"){zettelLst=await arachne.zettel.get({lemma_id: lemmaId}, {select: select})}\n                else{zettelLst=await arachne.zettel.search(SF, {select:select})}\n                let tagObj = {};\n                const currentTags = await arachne.tags.get({project_id: props.project.id});\n                currentTags.forEach(t=>{tagObj[t.name]=t.id});\n                let zettel_save_lst = []\n                let tag_lnks_save_lst = []\n                for(const z of zettelLst){\n                    const cmnts = await arachne.comment.get({zettel_id: z.id}, {select: [\"comment\", \"user\"]});\n                    zettel_save_lst.push({\n                        zettel_id: z.id,\n                        project_id: props.project.id,\n                        ref: z.ac_web,\n                        text: z.txt?z.txt:(z.ocr_text_corr&&importZettelText)?z.ocr_text_corr:(z.ocr_text&&importZettelText)?z.ocr_text:null,\n                        comment: cmnts.length>0?cmnts.map(c=>`${c.user}:\\n${c.comment}\\n`).join(\"\\n\\n\"):null,\n                        date_sort: z.date_sort,\n                        img: z.img_path,\n                        user_id: props.project.user_id,\n                        shared_id: props.project.shared_id,\n                        work_id: z.work_id,\n                    });\n                    let typeTag = \"unbekannter Zetteltyp\";\n                    if(z.type===1){typeTag=\"verzettelt\"}\n                    else if(z.type===2){typeTag=\"Exzerpt\"}\n                    else if(z.type===3){typeTag=\"Index\"}\n                    else if(z.type===6){typeTag=\"Index (unkl. Werk)\"}\n                    else if(z.type===7){typeTag=\"Notiz\"}\n                    if(typeTag){\n                        if(!Object.keys(tagObj).includes(typeTag)){\n                            const newTagId = await arachne.tags.save({\n                                name: typeTag,\n                                color: colorPicker(),\n                                project_id: props.project.id,\n                                user_id: props.project.user_id,\n                                shared_id: props.project.shared_id,\n                            });\n                            tagObj[typeTag] = newTagId;\n                        }\n                        tag_lnks_save_lst.push({\n                            tag_id: tagObj[typeTag],\n                            //section_id: newSecId,\n                            user_id: props.project.user_id,\n                            shared_id: props.project.shared_id,\n                            project_id: props.project.id,\n                        });\n                    }\n                }\n                const newSecIds = await arachne.sections.save(zettel_save_lst);\n                tag_lnks_save_lst = tag_lnks_save_lst.map((t,i)=>{\n                    t.section_id = newSecIds[i];\n                    return t;\n                });\n                await arachne.tag_lnks.save(tag_lnks_save_lst);\n                setStatus(null);\n                props.onReplay(true);\n            }} disabled={(mode===\"lemma\"&&lemmaZettelCount>0)||(mode===\"zettel\"&&zettelZettelCount>0)?false:true}>Zettel laden{status}</Button>\n        </Modal.Footer>\n    </Modal>;\n}\nfunction colorPicker(){\n    const colors = [\n        \"#023FA5\",\"#7D87A5\",\"#BEC1D4\",\"#D6BCC0\",\"#BB7784\",\"#8E063B\",\n        \"#4A6FE3\",\"#8595E1\",\"#B5BBE3\",\"#E6AFB9\",\"#E07B91\",\"#D33F6A\",\n        \"#11C638\",\"#8DD593\",\"#C6DEC7\",\"#EAD3C6\",\"#F0B98D\",\"#EF9708\",\n        \"#0FCFC0\",\"#9CDED6\",\"#D5EAE7\",\"#F3E1EB\",\"#F6C4E1\",\"#F79CD4\",\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n}\nexport { ZettelBox, RessourcesButtons, TagBox };","import { useState, useEffect } from \"react\";\nimport { Modal, Card, Col, Container, Form, Row, FormControl, InputGroup, Dropdown, DropdownButton } from \"react-bootstrap\";\nimport { arachne } from \"./../arachne\";\nimport { parseHTML } from \"./../elements\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faRotate, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { RessourcesButtons, TagBox } from \"./zettel.js\";\n\nconst defaultArticleHeadFields = [\n    [900, \"LEMMA\"],\n    [901, \"VEL\"],\n    [902, \"GRAMMATIK\"],\n    [903, \"ETYMOLOGIE\"],\n    [904, \"SCHREIBWEISE\"],\n    [905, \"FORM\"],\n    [906, \"STRUKTUR\"],\n    [907, \"GEBRAUCH\"],\n    [908, \"METRIK\"],\n    [909, \"VERWECHSELBAR\"],\n];\n\nfunction OutlineBox(props){\n    const [displayHead, setDisplayHead] = useState(true);\n    const [displayBody, setDisplayBody] = useState(true);\n    const [dragObjectId, setDragObjectId] = useState(null);\n    const [articleHeadFields, setArticleHeadFields] = useState([]);\n    const [articleHeadSelect, setArticleHeadSelect] = useState(\"\");\n    const [articleHeadSelectId, setArticleHeadSelectId] = useState(null);\n    const devider = {\n        borderTop: \"4px dotted transparent\",\n        margin: \"0 20px\",\n        height: \"10px\"\n    }\n    useEffect(()=>{\n        const articleTypes = props.articles.map(a=>a.type);\n        setArticleHeadFields(defaultArticleHeadFields.filter(d=>!articleTypes.includes(d[0])));\n    }, [props.articles]);\n    useEffect(()=>{if(articleHeadFields.length>0){setArticleHeadSelect(articleHeadFields[0][1]);setArticleHeadSelectId(articleHeadFields[0][0])}}, [articleHeadFields]);\n    const displayArticles = (a, depth) => {\n        return <div key={a.id} style={{marginLeft: `${25*depth}px`}}>\n            <div\n                style={devider}\n                onDrop={e=>{props.dropArticle(dragObjectId, a.parent_id, a.sort_nr);e.target.style.borderColor=\"transparent\"}}\n                onDragOver={e=>{e.preventDefault();e.target.style.borderColor=\"var(--bs-primary)\"}}\n                onDragLeave={e=>{e.target.style.borderColor=\"transparent\"}}\n            ></div>\n            <ArticleBox changeArticle={props.changeArticle} project={props.project} articles={props.articles} a={a} dragObjectId={dragObjectId} setDragObjectId={id=>{setDragObjectId(id)}} dropArticle={(a,b,c)=>{props.dropArticle(a,b,c)}} collapsed={props.collapsedArticlesLst.includes(a.id)} toogleCollapse={a=>{props.toogleCollapse(a)}} />\n        </div>;\n    };\n    return <Container className=\"outlineBox\" fluid>\n            <Row className=\"mb-3\">\n                <Col></Col>\n                <Col xs=\"8\" style={{userSelect: \"none\", textAlign: \"right\", cursor: \"pointer\", color: \"var(--bs-gray-500)\"}} onClick={()=>{setDisplayHead(!displayHead)}}>{displayHead?null:<><FontAwesomeIcon icon={faAngleDown} /> </>}Artikelkopf</Col>\n                <Col></Col>\n            </Row>\n            {displayHead?<>\n                {props.articles.filter(a=>a.type>=900).sort((a,b)=>a.type>b.type).map(a=><Row key={a.id}>\n                    <Col></Col>\n                    <Col xs=\"8\">\n                    <div style={{display: \"flex\", marginBottom: \"20px\"}}>\n                        <div style={{width: \"200px\", fontWeight: \"bold\"}}>{defaultArticleHeadFields.find(d=>d[0]===a.type)[1]}</div>\n                        <input value={a.name} onChange={e=>{props.changeArticle({id: a.id, name: e.target.value})}}\n                            onBlur={async(e)=>{await arachne.article.save({id: a.id, name: e.target.value})}} style={{width: \"100%\", outline: \"none\", border: \"none\", borderBottom: \"1px solid var(--bs-gray-500)\"}} type=\"text\" />\n                    </div>\n\n\n                    {/*<InputGroup className=\"mb-3\">\n                                        <InputGroup.Text style={{width: \"165px\"}}></InputGroup.Text>\n                                        <FormControl\n                                          \n                                          \n                                        />\n                                  </InputGroup>*/}\n                  </Col>\n                    <Col></Col>\n                </Row>)}\n                \n                {articleHeadFields.length>0?<Row>\n                    <Col></Col>\n                    <Col xs=\"8\">\n                    <InputGroup className=\"mb-3\">\n                        <DropdownButton\n                            style={{width: \"165px\"}} \n                            variant=\"outline-secondary\"\n                            title={articleHeadSelect}\n                            id=\"input-group-dropdown-1\"\n                        >\n                            {articleHeadFields.map(f=><Dropdown.Item onClick={()=>{setArticleHeadSelect(f[1]);setArticleHeadSelectId(f[0])}} key={f[0]} value={f[0]}>{f[1]}</Dropdown.Item>)}\n                        </DropdownButton>\n                        <FormControl onKeyUp={e=>{\n                            if(e.keyCode===13){\n                                props.createNewArticle({type: articleHeadSelectId, name: e.target.value, sort_nr: -1});\n                                setArticleHeadFields(articleHeadFields.filter(d=>d[0]!==articleHeadSelectId));\n                                e.target.value = \"\";\n                            }\n                        }} />\n                    </InputGroup>\n                    </Col>\n                    <Col></Col>\n                    \n                </Row>:null}\n            </>:null}\n            <Row>\n                <Col></Col>\n                <Col xs=\"8\" style={{paddingBottom: \"15px\", marginBottom: \"15px\", borderBottom: \"1px solid var(--bs-gray-500)\"}}></Col>\n                <Col></Col>\n            </Row>\n            <Row>\n                <Col></Col>\n                <Col xs=\"8\" style={{userSelect: \"none\", textAlign: \"right\", cursor: \"pointer\", color: \"var(--bs-gray-500)\"}} onClick={()=>{setDisplayBody(!displayBody)}}>{displayBody?null:<><FontAwesomeIcon icon={faAngleDown} /> </>}Stellen</Col>\n                <Col></Col>\n            </Row>\n            {displayBody?<Row>\n                <Col></Col>\n                <Col xs=\"8\">\n                    {props.articlesLst.map(a=>displayArticles(props.articles.find(b=>b.id===parseInt(a.split(\"-\")[1])), a.split(\"-\")[0]))}\n                </Col>\n                <Col></Col>\n            </Row>:null}\n        </Container>;\n}\nfunction ArticleBox(props){\n    const [displaySections, setDisplaySections] = useState(false);\n\n    const dblClickCallback = e => {\n        const target = e.target.closest(\".articleBox\");\n        const el = target.getElementsByClassName(\"articleBoxName\")[0];\n        el.contentEditable = true;\n        el.focus();\n    };\n    return <><div\n        className=\"articleBox\"\n        id={`articleBox_${props.a.id}`}\n        draggable\n        onDragStart={()=>{props.setDragObjectId(props.a.id)}}\n        onDrop={e=>{if(props.dragObjectId!==props.a.id){props.dropArticle(props.dragObjectId, props.a.id, 1)}; e.target.style.borderColor=\"transparent\"}}\n        onDragOver={e=>{e.preventDefault();if(props.dragObjectId!==props.a.id){e.target.style.borderColor=\"var(--bs-primary)\"}}}\n        onDragLeave={e=>{e.target.style.borderColor=\"transparent\"}}\n        tabIndex=\"0\"\n        onClick={e=>{e.target.focus()}}\n        onDoubleClick={e=>{dblClickCallback(e)}}\n        onKeyDown={e=>{\n            if(e.target.className===\"articleBox\"){\n                if(e.keyCode!==9){e.preventDefault()}\n                if(e.keyCode===13){\n                    dblClickCallback(e);\n                }else if(e.keyCode===37&&e.shiftKey){ // left+shift\n                    if(props.a.parent_id>0){\n                        const parentArticle = props.articles.find(a=>a.id===props.a.parent_id);\n                        props.dropArticle(props.a.id, parentArticle.parent_id, parentArticle.sort_nr+1);\n                    }\n                    \n                }else if(e.keyCode===37&&e.shiftKey===false){ // left\n                    props.toogleCollapse(props.a.id);\n                }else if(e.keyCode===38&&e.shiftKey){ // up+shift\n                    let previousArticles = props.articles.filter(a=>a.parent_id===props.a.parent_id&&a.sort_nr<props.a.sort_nr).sort((a,b)=>a.sort_nr>b.sort_nr);\n                    if(previousArticles.length>0){\n                        props.dropArticle(props.a.id, props.a.parent_id, previousArticles[previousArticles.length-1].sort_nr);\n                    }\n                }else if(e.keyCode===38&&e.shiftKey===false){ // up\n                    const articleBoxes = document.getElementsByClassName(\"articleBox\");\n                    for(let i = 0; i<articleBoxes.length;i++){\n                        if(articleBoxes[i].id === e.target.id){\n                            if(i===0){articleBoxes[articleBoxes.length-1].focus()}\n                            else{articleBoxes[i-1].focus()}\n                            break;\n                        }\n                    }\n                }else if(e.keyCode===39&&e.shiftKey){ // right+shift\n                    let previousArticles = props.articles.filter(a=>a.parent_id===props.a.parent_id&&a.sort_nr<props.a.sort_nr).sort((a,b)=>a.sort_nr>b.sort_nr);\n                    if(previousArticles.length>0){\n                        const previousArticleChildren = props.articles.filter(a=>a.parent_id===previousArticles[previousArticles.length-1].id).sort((a,b)=>a.sort_nr>b.sort_nr);\n                        if(previousArticleChildren.length>0){props.dropArticle(props.a.id, previousArticles[previousArticles.length-1].id, previousArticleChildren[previousArticleChildren.length-1].sort_nr+1)}\n                        else{props.dropArticle(props.a.id, previousArticles[previousArticles.length-1].id, 1)}\n                    }\n                }else if(e.keyCode===39&&e.shiftKey===false){ // right\n                    if(displaySections){setDisplaySections(false)}\n                    else{setDisplaySections(true)}\n                }else if(e.keyCode===40&&e.shiftKey){ // down+shift\n                    const nextArticle = props.articles.find(a=>a.parent_id===props.a.parent_id&&a.sort_nr>props.a.sort_nr);\n                    if(nextArticle){props.dropArticle(props.a.id, props.a.parent_id, props.a.sort_nr+1)};\n                }else if(e.keyCode===40&&e.shiftKey===false){ // down\n                    const articleBoxes = document.getElementsByClassName(\"articleBox\");\n                    for(let i = 0; i<articleBoxes.length;i++){\n                        if(articleBoxes[i].id === e.target.id){\n                            if(i===articleBoxes.length-1){articleBoxes[0].focus()}\n                            else{articleBoxes[i+1].focus()}\n                            break;\n                        }\n                    }\n                }\n            }\n        }}\n    >{props.a.sort_nr}. <span\n        className=\"articleBoxName\"\n        onBlur={async e=>{\n            e.target.contentEditable=false;\n            e.target.parentElement.focus();\n            await arachne.article.save({id: props.a.id, name: e.target.innerText})\n            props.changeArticle({id: props.a.id, name: e.target.innerText});\n        }}\n        onKeyDown={e=>{\n            if(e.keyCode===13){\n                e.preventDefault();\n                e.target.blur();\n            }\n        }}\n    >{props.a.name}</span> {/*<i>({props.a.id})</i>*/}{props.collapsed?<span className=\"text-primary\" style={{marginLeft: \"15px\"}}>...</span>:null}</div>\n    {displaySections?<ArticleBoxSections setSectionDetailId={id=>{props.setSectionDetailId(id)}} inputMode={1} project={props.project} articleId={props.a.id} />:null}\n    </>;\n}\nfunction ArticleBoxSections(props){\n    const [sections, setSections] = useState([]);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acLst, setACLst] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(0);\n    const [sectionDetailId, setSectionDetailId] = useState(0);\n    const [tagLst, setTagLst] = useState([]);\n    useEffect(()=>{loadSections()}, []);\n    useEffect(()=>{loadACLst()},[inputValue]);\n    const loadACLst=async()=>{\n        if(inputValue!==\"\"){\n            let allSections = await arachne.sections.get({project_id: props.project.id})\n            allSections = allSections.filter(a=>a.ref!==null&&a.ref.toLowerCase().indexOf(inputValue.toLowerCase())>-1);\n            allSections = allSections.map(a=>{return {id: a.id, type: \"section\", name: `${a.ref}; ${a.text!==null?a.text.substring(0, 10):\"\"}...`}});\n            let allTags = await arachne.tags.get({project_id: props.project.id});\n            allTags = allTags.filter(a=>a.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1);\n            allTags = allTags.map(t=>{return {id: t.id, type: \"tag\", name: t.name}});\n            allSections = allSections.concat(allTags);\n            allSections.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase());\n            setACLst(allSections);\n        }else if(acLst.length>0){\n            setACLst([]);\n        }\n    }\n    const addSections=async(item)=>{\n        if(item.type===\"tag\"){\n            const tagLnks = await arachne.tag_lnks.get({tag_id: item.id});\n            await arachne.sections.save(tagLnks.map(t=>{return {id: t.section_id, article_id: props.articleId}}));\n            await loadSections();\n        }else{\n            await arachne.sections.save({id: item.id, article_id: props.articleId});\n            await loadSections();\n        }\n    };\n    const loadSections=async()=>{\n        const articleSections = await arachne.sections.get({article_id: props.articleId}, {order: [\"date_sort\"]});\n        setSections(articleSections);\n        const tagLnkLst = [];\n        for(const s of articleSections){\n            const tagLnks = await arachne.tag_lnks.get({section_id: s.id});\n            tagLnks.forEach(t=>{if(!tagLnkLst.includes(t.tag_id)){tagLnkLst.push(t.tag_id)}});\n        }\n        const newTags = [];\n        for (const tl of tagLnkLst){\n            const newTag = await arachne.tags.get({id: tl});\n            if(newTag[0]){newTags.push(newTag[0])}\n        }\n        setTagLst(newTags);\n    };\n    const onKeyDown=e=>{\n        if(e.keyCode===9&&acLst.length===1){\n            e.preventDefault();\n            //createNewTag(acTags[0].name);\n        }else if(e.keyCode===27){ // esc\n            setInputValue(\"\");\n            //setACLst([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n            //if(props.inputMode!==1){props.setInputMode(1)}\n            //else{props.setInputMode(0)}\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n            //if(props.inputMode!==2){props.setInputMode(2)}\n            //else{props.setInputMode(0)}\n        }else if (e.keyCode===40) { //down\n            e.preventDefault();\n            if(acLst.length>0){\n                if(currentFocus+1 >= acLst.length){setCurrentFocus(0)}\n                else{setCurrentFocus(currentFocus+1)}\n            }else{e.target.parentNode.parentNode.firstChild.firstChild.focus()}\n        } else if (e.keyCode===38) { //up\n            e.preventDefault();\n            if(acLst.length>0){\n                if (currentFocus-1 < 0){setCurrentFocus(acLst.length - 1)}\n                else{setCurrentFocus(currentFocus-1)}\n            }else{e.target.parentNode.parentNode.firstChild.lastChild.focus()}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            addSections(acLst[currentFocus]);\n        }\n    }\n    return <>\n    <SectionDetailEdit project={props.project} handleClose={()=>{loadSections();setSectionDetailId(0)}} sectionDetailId={sectionDetailId} />\n    <div className=\"ArticleBoxSections\">\n        <div className=\"outlineSectionTagBox\">{tagLst.map(t=><div className=\"outlineSectionTags\" style={{backgroundColor: t.color}}>{t.name}</div>)}</div>\n        <div>{sections.map(s=><SectionBox s={s} setSectionDetailId={setSectionDetailId} />)}</div>\n        <div style={{width:\"100%\", position: \"relative\", display: \"inline-block\"}}>\n            <input className=\"tagBoxOutlineSection\" value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{loadACLst()}} onBlur={()=>{setInputValue(\"\");setACLst([]);/*if(!props.inputMode){props.setInputMode()}*/}} type=\"text\" onKeyDown={e=>{onKeyDown(e)}} />\n            {acLst.length>0&&<div className=\"autocomplete-items\" style={{borderColor: props.inputMode?null:\"var(--bs-yellow)\"}}>\n                {acLst.map((t,i)=><div key={t.id} style={{fontWeight: t.type===\"tag\"?\"bold\":null, fontStyle: t.type===\"tag\"?\"italic\":null, backgroundColor: props.inputMode?null:\"#ffecb1\", borderColor: props.inputMode?null:\"var(--bs-yellow)\"}} onMouseDown={async ()=>{await addSections(t)}} className={i===currentFocus?\"autocomplete-active\":\"\"} dangerouslySetInnerHTML={parseHTML(t.name.replace(new RegExp(`(${inputValue})`, \"gi\"), \"<u>$1</u>\"))}></div>)}\n            </div>}\n        </div>\n\n    </div></>;\n}\nfunction SectionBox(props){\n    const [tagLst, setTagLst] = useState([]);\n    useEffect(()=>{\n        const fetchData = async()=>{\n            const tagLnks = await arachne.tag_lnks.get({section_id: props.s.id}, {select: [\"tag_id\"]});\n            let newTags = [];\n            for (const tl of tagLnks){\n                const t = await arachne.tags.get({id: tl.tag_id});\n                newTags.push(t[0]);\n            }\n            newTags.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase());\n            setTagLst(newTags);\n        }\n        fetchData();\n    }, []);\n    return <div key={props.s.id} className=\"sectionBox\" tabIndex=\"0\" onClick={e=>{\n            e.target.closest(\".sectionBox\").focus();\n        }} onKeyDown={e=>{\n            if(e.keyCode===38){ // up\n                e.preventDefault();\n                if(e.target.previousSibling){e.target.previousSibling.focus()}\n                else(e.target.parentNode.parentNode.lastChild.lastChild.focus())\n            }else if(e.keyCode===40){ // down\n                e.preventDefault();\n                if(e.target.nextSibling){e.target.nextSibling.focus()}\n                else{e.target.parentNode.parentNode.lastChild.lastChild.focus()}\n                \n            }else if(e.keyCode===13){\n                e.preventDefault();\n                props.setSectionDetailId(props.s.id);\n            }\n        }}><span className=\"sectionBoxTitle\">{props.s.ref}</span> {props.s.text}\n        <div className=\"outlineSectionTagBox\">{tagLst.map(t=><div className=\"outlineSectionTags\" style={{backgroundColor: t.color}}>{t.name}</div>)}</div>\n    </div>;\n}\nfunction SectionDetailEdit(props) {\n    const [ressources, setRessources] = useState([]);\n    const [showComment, setShowComment] = useState(false);\n    const [comment, setComment] = useState(\"\");\n    const [img, setImg] = useState(null);\n    const [reference, setReference] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [verso, setVerso] = useState(false);\n    const [tags, setTags] = useState([]);\n    const [unusedTags, setUnusedTags] = useState([]);\n    const [section, setSection] = useState({});\n    useEffect(()=>{setImg(section.img+`${verso?\"v\":\"\"}.jpg`)}, [verso]);\n    useEffect(()=>{if(props.sectionDetailId>0){loadSection();if(document.getElementById(\"sectionDetailEditFirstInput\")){document.getElementById(\"sectionDetailEditFirstInput\").focus()}}}, [props.sectionDetailId]);\n    const loadSection = async () =>{\n        const newSection = await arachne.sections.get({id: props.sectionDetailId});\n        //console.log(newSection[0].img+`${verso?\"v\":\"\"}.jpg`);\n        setImg(arachne.url+newSection[0].img+`${verso?\"v\":\"\"}.jpg`);\n        setReference(newSection[0].ref);\n        setText(newSection[0].text);\n        setComment(newSection[0].comment);\n        if(newSection[0].comment!==null&&newSection[0].comment!==\"\"){setShowComment(true)}\n        setSection(newSection[0]);\n        // load ressources\n        setRessources(await arachne.edition.get({work_id: newSection[0].work_id}, {select: [\"id\", \"label\", \"url\"]}));\n    };\n    const loadTags =  async () =>{\n        let cAllTags = await arachne.tags.get({project_id: props.project.id});\n        const cTagLnks = await arachne.tag_lnks.get({section_id: props.sectionDetailId});\n        let newTags = [];\n        for(const cTagLnk of cTagLnks){\n            const newTagIndex = cAllTags.findIndex(t=>t.id===cTagLnk.tag_id);\n            if(newTagIndex===-1){throw \"ERROR! CANNOT FIND TAG INDEX!\"}\n            else{\n                newTags.push(cAllTags[newTagIndex]);\n                cAllTags.splice(newTagIndex,1);\n            }\n        }\n        setUnusedTags(cAllTags);\n        setTags(newTags);\n    };\n    return <Modal show={props.sectionDetailId>0} onHide={props.handleClose} size=\"xl\">\n        <Modal.Header closeButton>\n            <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <Card className=\"largeScreen\" id={\"s_\"+props.sectionDetailId} style={{ margin: \"auto\" }}>\n                <Card.Img style={{aspectRatio: \"10/7\"}} variant=\"top\" src={img} />\n                <Card.Body>\n                    <div style={{position: \"absolute\", top:\"5px\", left: \"10px\", right: \"430px\", opacity: \"0.5\"}}><a onClick={()=>{setVerso(!verso)}} title=\"Zettel drehen\"><FontAwesomeIcon icon={faRotate} /></a></div>\n                    <Row className=\"mb-2\"><Col><Form.Control id=\"sectionDetailEditFirstInput\" placeholder=\"Zitiertitel...\" size=\"sm\" type=\"text\" value={reference?reference:\"\"} onChange={e=>{setReference(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, ref: e.target.value})}} /></Col><Col style={{textAlign: \"right\"}} xs={4}><RessourcesButtons setRessourceView={url=>{props.setRessourceView(url)}} ressources={ressources} /></Col></Row>\n                \n                    <Form.Control placeholder=\"Text der Stelle...\" as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={text?text:\"\"} onChange={e=>{setText(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, text: e.target.value})}} />\n                    {showComment?<div><Form.Control className=\"mt-2\" placeholder=\"Schreiben Sie einen Kommentar...\" as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={comment?comment:\"\"} onChange={e=>{setComment(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, comment: e.target.value})}} /></div>:<div style={{textAlign: \"right\"}}><a style={{fontSize: \"90%\"}} className=\"link-secondary\" onClick={()=>{setShowComment(true)}}>Kommentar hinzufügen</a></div>}\n                    <TagBox centerSection={()=>{}} loadTags={async ()=>{await loadTags()}} tags={tags} project={props.project} s={section} unusedTags={unusedTags} />\n                </Card.Body>\n            </Card>\n        </Modal.Body>\n        {/*<Modal.Footer></Modal.Footer>*/}\n    </Modal>;\n}\nexport { OutlineBox, defaultArticleHeadFields }","import { useState, useEffect } from \"react\";\nimport { arachne } from \"./../arachne\";\nimport { defaultArticleHeadFields } from \"./outline.js\";\nimport { Button, ButtonGroup, Dropdown, Table, Badge, Card, Col, Form, Container, Navbar, Nav, Row, Modal, Accordion, Stack, Spinner, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\n\nfunction ExportBox(props){\n\tconst [exportTxt, setExportTxt] = useState(\"\");\n\tconst [exportComment, setExportComment] = useState(true);\n\tconst [exportTags, setExportTags] = useState(true);\n\tconst [preview, setPreview] = useState(null);\n\tuseEffect(()=>{\n\t\tconst fetchData=async()=>{\n\t\t\tlet exportLst = [];\n\t\t\tconst articles = await arachne.article.get({project_id: props.project.id});\n\t\t\tconst sections = await arachne.sections.get({project_id: props.project.id});\n\t\t\tlet tags = [];\n\t\t\tlet tag_lnks = [];\n\t\t\tif(exportTags){\n\t\t\t\ttags = await arachne.tags.get({project_id: props.project.id});\n\t\t\t\ttag_lnks = await arachne.tag_lnks.get({project_id: props.project.id});\n\t\t\t}\n\t\t\texportLst=exportLst.concat(articles.filter(a=>a.type>=900).map(a=>`${defaultArticleHeadFields.find(d=>d[0]===a.type)[1]} ${a.name}`))\n\t\t\tconst getArticle = (article, depth) => {\n\t\t\t\tif(depth===0){\n\t\t\t\t\texportLst.push(`BEDEUTUNG ${article.name}`);\n\t\t\t\t}else if(depth===1){\n\t\t\t\t\texportLst.push(`    UNTER_BEDEUTUNG ${article.name}`);\n\t\t\t\t}else if(depth===2){\n\t\t\t\t\texportLst.push(`        UNTER_UNTER_BEDEUTUNG ${article.name}`);\n\t\t\t\t}else{\n\t\t\t\t\texportLst.push(`${\"    \".repeat(depth)}${\"U\".repeat(depth)}_BEDEUTUNG ${article.name}`);\n\t\t\t\t}\n\t\t\t\tsections.filter(s=>s.article_id===article.id).forEach(s=>{\n\t\t\t\t\tlet tagLst = [];\n\t\t\t\t\tif(exportTags){\n\t\t\t\t\t\ttagLst = tag_lnks.filter(tl=>tl.section_id===s.id).map(tl=>tags.find(t=>t.id===tl.tag_id).name);\n\t\t\t\t\t}\n\t\t\t\t\texportLst.push(`${\"    \".repeat(depth+1)}* ${s.ref} \"${s.text?s.text:\"\"}\"${tagLst.length>0?\" // \"+tagLst.join(\", \"):\"\"}`);\n\t\t\t\t\tif(exportComment&&s.comment){exportLst.push(`${\"    \".repeat(depth+2)}/*\\n${\"    \".repeat(depth+3)}${s.comment.replace(new RegExp(\"\\n\", \"g\"), `\\n${\"    \".repeat(depth+3)}`)}\\n${\"    \".repeat(depth+2)}*/`)}\n\t\t\t\t});\n\n\t\t\t\tarticles.filter(a=>a.parent_id===article.id).forEach(a=>{getArticle(a,depth+1)});\n\t\t\t}\n\t\t\tarticles.filter(a=>a.parent_id===0&&a.type<900).forEach(a=>{getArticle(a,0)});\n\t\t\texportLst.push(`AUTORIN ${arachne.me.last_name}`)\n\t\t\tsetExportTxt(exportLst.join(\"\\n\"));\n\n\t\t\t//get preview\n\t\t\tconst exportTxt = exportLst.join(\"\\n\");\n\t\t\tconsole.log(await arachne.exec(\"mlw_preview\", true, exportTxt));\n\t\t\t//setPreview();\n\t\t};\n\t\tfetchData();\n\t}, [exportComment, exportTags]);\n\treturn <Container>\n\t\t<Row>\n\t\t\t<Col>\n\t\t\t\t<Form.Check\n                    type=\"switch\"\n                    id=\"custom-switch\"\n                    label=\"Kommentare in Export aufnehmen.\"\n                    checked={exportComment}\n                    value={exportComment}\n                    onChange={e=>{setExportComment(!exportComment)}}\n                />\n                <Form.Check\n                    type=\"switch\"\n                    id=\"custom-switch\"\n                    label=\"Tags in Export aufnehmen.\"\n                    checked={exportTags}\n                    value={exportTags}\n                    onChange={e=>{setExportTags(!exportTags)}}\n                />\n\t\t\t</Col>\n\t\t</Row>\n\t\t<Row>{preview}</Row>\n\t\t<Row>\n\t\t\t<Col></Col>\n\t\t\t<Col xs={11}><textarea className=\"exportTextBox\" value={exportTxt} onChange={()=>{}}></textarea></Col>\n\t\t\t<Col></Col>\n\t\t</Row>\n\t</Container>;\n}\n\nexport { ExportBox }","import { useEffect, useState, useRef } from \"react\";\nimport { Button, ButtonGroup, Dropdown, Table, Badge, Card, Col, Form, Container, Navbar, Nav, Row, Modal, Accordion, Stack, Spinner, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\nimport { arachne } from \"./../arachne.js\";\nimport { AutoComplete, SearchInput, ToolKit, useIntersectionObserver, Message, useShortcuts } from \"./../elements.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle, faMinusCircle, faTimesCircle, faRotate, faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\nimport { ZettelBox } from \"./zettel.js\";\nimport { OutlineBox } from \"./outline.js\";\nimport { ExportBox } from \"./export.js\";\n\nfunction Editor(props){\n    const [mode, setMode] = useState(\"zettel\")\n    const [project, setProject] = useState(null);\n    const [articles, setArticles] = useState([]);\n    const [articlesLst, setArticlesLst] = useState([]); // because react only checks shallow copies!\n    const [collapsedArticlesLst, setCollapsedArticlesLst] = useState([])\n    const [filterLst, setFilterLst] = useState([]);\n    const [filterTags, setFilterTags] = useState([]);\n    const [limitFilterResults,setLimitFilterResults] = useState(false);\n    const [showMenuLeft, setShowMenuLeft] = useState(false);\n    const [showImport, setShowImport] = useState(false);\n    const scSetup = [\n        [\"ACTION+ESC\", ()=>{props.loadMain(null, null)}],\n        [\"ACTION+f\", ()=>{setShowMenuLeft(!showMenuLeft)}],\n        [\"ACTION+i\", ()=>{setShowImport(!showImport)}],\n        [\"ACTION+r\", ()=>{setFilterLst([]);updateSections()}],\n        [\"ACTION+1\", ()=>{setMode(\"zettel\")}],\n        [\"ACTION+2\", ()=>{setMode(\"outline\")}],\n        [\"ACTION+3\", ()=>{setMode(\"export\")}],\n        [\"ACTION+n\", ()=>{createNewArticle()}]\n    ];\n    useShortcuts(scSetup, false);\n    const ToolKitItems = [\n        [\"Zettel importieren\", ()=>{setShowImport(true)}],\n        [\"Seitenleiste ein-/ausblenden\", ()=>{setShowMenuLeft(true)}],\n        [\"Filter neu laden\", ()=>{setFilterLst([]);updateSections()}],\n        [\"Neuer Artikel erstellen\", ()=>{createNewArticle()}]\n    ];\n    const updateArticles = inArticles => {\n        setArticles(inArticles);\n        const returnChildIds = (parentId, depth) => {\n            const childArticles = inArticles.filter(a=>a.parent_id===parentId&&a.type<900).sort((a,b)=>a.sort_nr>b.sort_nr);\n            let returnLst = [];\n            childArticles.forEach(a=>{\n                returnLst.push(`${depth}-${a.id}`)\n                if(!collapsedArticlesLst.includes(a.id)){\n                    const newChildLst = returnChildIds(a.id, depth+1);\n                    if(newChildLst.length>0){returnLst=returnLst.concat(newChildLst)}\n                }\n            });\n            return returnLst;\n        };\n        setArticlesLst(returnChildIds(0,0));\n    };\n    useEffect(()=>{\n        updateArticles(articles);\n    }, [collapsedArticlesLst])\n    useEffect(()=>{\n        const fetchData = async ()=>{\n            const newProject = await arachne.project.get({id: props.resId})\n            setProject(newProject[0])\n            const newArticles = await arachne.article.get({project_id: props.resId});\n            updateArticles(newArticles);\n        };\n        fetchData();\n        updateSections();\n    }, []);\n    const createNewArticle = async (newArt={}) =>{\n        let newArticle = newArt;\n        newArticle.project_id = project.id;\n        newArticle.parent_id = 0;\n        newArticle.name = newArticle.name?newArticle.name:\"Neue Gruppe\";\n        newArticle.sort_nr = newArticle.sort_nr?newArticle.sort_nr:articles.length>0?Math.max(...articles.filter(a=>a.parent_id===0).map(a=>a.sort_nr))+1:1;\n        const newId=await arachne.article.save(newArticle);\n        newArticle.id = newId;\n        let newArticles = articles;\n        newArticles.push(newArticle);\n        updateArticles(newArticles);\n    };\n    const changeArticle=a=>{\n        updateArticles(articles.map(l=>{\n            if(l.id!==a.id){return l}\n            else{\n                return {...l, ...a}\n            }\n        }));\n    };\n    const dropArticle = async (id, parent_id, sort_nr) => {\n        let newArticles = articles;\n\n        // close gap in old position\n        const currentArticle = articles.find(a=>a.id===id);\n        let save_old_lst = articles.filter(a=>a.parent_id===currentArticle.parent_id&&a.sort_nr>currentArticle.sort_nr).map(a=>{return {id: a.id, sort_nr: a.sort_nr-1}});\n        save_old_lst.forEach(a=>{ // is there a faster way?\n            const i = newArticles.findIndex(na=>na.id===a.id);\n            //newArticles[i].parent_id = parent_id;\n            newArticles[i].sort_nr = a.sort_nr;\n        });\n        // make gap in new position\n        const save_new_lst = newArticles.filter(a=>a.parent_id===parent_id&&a.sort_nr>=sort_nr).map(a=>{return {id: a.id, parent_id: parent_id, sort_nr: a.sort_nr+1}});\n        save_new_lst.push({id: id, parent_id: parent_id, sort_nr: sort_nr});\n        save_new_lst.forEach(a=>{ // is there a faster way?\n            const i = newArticles.findIndex(na=>na.id===a.id);\n            newArticles[i].parent_id = parent_id;\n            newArticles[i].sort_nr = a.sort_nr;\n        });\n        await arachne.article.save(save_new_lst.concat(save_old_lst.filter(a=>save_new_lst.findIndex(b=>a.id===b.id)===-1)));\n        updateArticles(newArticles);\n    };\n    const toogleCollapse = aId => {\n        if(collapsedArticlesLst.includes(aId)){setCollapsedArticlesLst(collapsedArticlesLst.filter(a=>a!==aId))}\n        else{setCollapsedArticlesLst(collapsedArticlesLst.concat([aId]))}\n    };\n\n    const updateSections = async () => {\n        let foundSections = await arachne.sections.get({project_id: props.resId}, {select: [\"id\"]});\n        if(filterTags.length === 0){\n            setFilterLst(foundSections.map(s=>s.id));\n        } else {\n            const allTags = await arachne.tags.get({project_id: props.resId}, {select: [\"id\"]});\n            const allTagLnks = await arachne.tag_lnks.get({tag_id: allTags.map(at=>at.id)});\n            foundSections = foundSections.map(fs=>{\n                fs.tags = allTagLnks.filter(atl=>atl.section_id===fs.id).map(atl=>atl.tag_id);\n                return fs;\n            });\n            for(const filter of filterTags){\n                if(filter.exclude){foundSections = foundSections.filter(fs=>!fs.tags.includes(filter.id))}\n                else{foundSections = foundSections.filter(fs=>fs.tags.includes(filter.id))}\n            }\n            setFilterLst(foundSections.map(s=>s.id));\n        }\n    };\n\n    let modeBox = null;\n    switch(mode){\n        case \"zettel\":\n            modeBox = <ZettelBox setLimitFilterResults={v=>{setLimitFilterResults(v)}} showImport={showImport} showMenuLeft={showMenuLeft} filterTags={filterTags} setFilterTags={newTags=>{setFilterTags(newTags)}} setShowMenuLeft={()=>{setShowMenuLeft(false)}} setShowImport={v=>{setShowImport(v)}} project={project} filterLst={filterLst} updateSections={()=>{updateSections()}} />;\n            break;\n        case \"outline\":\n            modeBox = <OutlineBox createNewArticle={createNewArticle} changeArticle={changeArticle} project={project} dropArticle={(a,b,c)=>{dropArticle(a,b,c)}} articlesLst={articlesLst} articles={articles} collapsedArticlesLst={collapsedArticlesLst} toogleCollapse={a=>{toogleCollapse(a)}} />;\n            break;\n        case \"export\":\n            modeBox = <ExportBox project={project} />;\n            break;\n        default:\n        modeBox = <div>Modus '{mode}' nicht gefunden.</div>;\n    }\n    return <>\n    <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" style={{top: \"0px\"}}>\n        <Container fluid style={{height: \"40px\"}}>\n            <Navbar.Brand style={{cursor: \"pointer\"}} onClick={e=>{props.loadMain(e, null)}}>Editor</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav style={{fontSize: \"110%\"}}>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"zettel\"?\"underline\":null}} onClick={()=>{setMode(\"zettel\")}}>Zettel</Nav.Link>\n                    <Navbar.Text style={{width: \"80px\", borderBottom: \"3px solid white\", height: \"25px\"}}></Navbar.Text>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"outline\"?\"underline\":null}} onClick={()=>{setMode(\"outline\")}}>Gliederung</Nav.Link>\n                    <Navbar.Text style={{width: \"80px\", borderBottom: \"3px solid white\", height: \"25px\"}}></Navbar.Text>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"export\"?\"underline\":null}} onClick={()=>{setMode(\"export\")}}>Export</Nav.Link>\n                </Nav>\n                <Nav>\n                    <Navbar.Text><ToolKit menuItems={ToolKitItems} direction={\"down\"} /></Navbar.Text>\n                </Nav>\n            </Navbar.Collapse>\n        </Container>\n    </Navbar>\n    {project!=null?<Container style={{marginTop: \"120px\"/*position: \"absolute\", overflow: \"scroll\", backgroundColor: \"red\", padding:\"10px 0 10px 0\", top: \"56px\", bottom: \"80px\"*/}} fluid>\n        {modeBox}\n    </Container>:<Container><Row>Project wird geladen...</Row></Container>}\n    </>;\n}\nexport { Editor }","import { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Container, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\n\nimport { Overview } from \"./overview.js\";\nimport { Editor } from \"./editor.js\";\nimport { ChangeLog } from \"./../changelog.js\";\nimport { Account } from \"./../settings.js\";\nimport { arachne } from \"./../arachne.js\";\n\nfunction getSettings(){\n    let settings = JSON.parse(localStorage.getItem(\"editor_settings\"));\n    if(settings===null){settings = {}}\n    if(!settings.hasOwnProperty(\"projectSort\")){settings.projectSort = \"name\"}\n    if(!settings.hasOwnProperty(\"openExternal\")){settings.openExternal=false}\n    return settings;\n}\nfunction getSetting(name){\n    const settings = getSettings();\n    return settings[name];\n}\nfunction setSetting(key, value){\n    let settings = getSettings()\n    settings[key] = value;\n    localStorage.setItem(\"editor_settings\", JSON.stringify(settings))\n}\n\nfunction MainBody(props){\n    arachne.changeLog = dbChangeLog;\n    let main = null;\n    switch(props.res){\n        case null:\n            main = <Overview loadMain={(...params)=>{props.loadMain(...params)}} />;\n            break;\n        case \"editor\":\n            main = <Editor loadMain={(...params)=>{props.loadMain(...params)}} resId={props.resId} />;\n            break;\n        case \"changelog\":\n            main = <ChangeLog />;\n            break;\n        case \"settings\":\n            main = <Account />;\n            break;\n        default:\n            main = <div>Unbekannter Menü-Punkt: \"{props.res}\"</div>;\n    }\n    return <>\n        {main}\n        \n    </>;\n}\nfunction MainNavBar(props){\n    const [editions, setEditions] = useState([]);\n    const [editionTxt, setEditionTxt] = useState(\"zuletzte geöffnet\");\n    /*useEffect(async ()=>{\n        const newEditions = getEditions();\n        setEditions(newEditions.map(e=>{return <NavDropdown.Item key={e.id} onClick={ev=>{storeEdition(e.id, e.label, e.opus);props.loadMain(ev,\"edition\", e.id)}}>{e.label}{e.opus?` (${e.opus.substring(0,20)+(e.opus.length>20?\"...\":\"\")})`:null}</NavDropdown.Item>;}));\n        if(props.res===\"edition\"){setEditionTxt(newEditions[0].label+(newEditions[0].opus?` (${newEditions[0].opus.substring(0,20)+(newEditions[0].opus.length>20?\"...\":\"\")})`:null))}\n        else{setEditionTxt(\"zuletzte geöffnet\")}\n    }, [props.res, props.resId]);*/\n    return <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\">\n        <Container fluid>\n            <Navbar.Brand style={{cursor: \"pointer\"}} onClick={e=>{props.loadMain(e, null)}}>Editor</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav>\n                    <NavDropdown title={editionTxt}>{editions}\n                    </NavDropdown>\n                    <NavDropdown title=\"Einstellungen\">\n                    <NavDropdown.Item onClick={e=>{props.loadMain(e,\"settings\")}}>Konto</NavDropdown.Item>\n                        <NavDropdown.Item onClick={e=>{props.loadMain(e,\"changelog\")}}>Änderungen</NavDropdown.Item>\n                    </NavDropdown>\n                    <Nav.Link>\n                        <FontAwesomeIcon icon={faSignOutAlt} onClick={e => {props.loadMain(e, \"logout\")}} title=\"abmelden\" />\n                    </Nav.Link>\n                </Nav>\n            </Navbar.Collapse>\n        </Container>\n</Navbar>;\n}\nconst dbChangeLog = [\n    {\n        title: \"Beta 1.0\",\n        date: \"2022-06-10\",\n        description: <><p>Beta Version online!</p></>\n    },\n]\nexport { MainBody, MainNavBar, getSettings, getSetting, setSetting };","import { Row, Col, Form, Container } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\n\nimport { arachne } from \"./arachne.js\";\nimport { StatusButton } from \"./elements.js\";\n\nfunction Account(){\n    const [firstName, setFirstName] = useState(arachne.me.first_name);\n    const [lastName, setLastName] = useState(arachne.me.last_name);\n    const [email, setEmail] = useState(arachne.me.email);\n    const [oldPassword, setOldPassword] = useState(\"\");\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [zWidth, setZWidth] = useState(arachne.options.z_width);\n    const [actionKey, setActionKey] = useState(arachne.options.action_key);\n    const [openExternally, setOpenExternally]=useState(arachne.options.openExternally);\n    const displaySettings = [\n        <Row key={1} className=\"mb-2\">\n            <Col xs={2}>Breite der Zettel:</Col>\n            <Col><Form.Range min=\"400\" max=\"600\" size=\"sm\" value={zWidth} onChange={e=>{\n                arachne.setOptions(\"z_width\", e.target.value);\n                arachne.setOptions(\"z_height\", 350/500*parseInt(e.target.value));\n                setZWidth(e.target.value);\n            }}/></Col>\n        </Row>,\n        <Row key={2} className=\"mb-2\">\n            <Col xs={4}>Öffnen der Ressourcen (Zettel im Editor):</Col>\n            <Col><Form.Select size=\"sm\" value={openExternally} onChange={e=>{arachne.setOptions(\"openExternally\", parseInt(e.target.value));setOpenExternally(e.target.value)}}>\n                    <option value=\"0\">im gleichen Fenster</option>\n                    <option value=\"1\">in einem neuen Fenster</option>\n                    <option value=\"2\">in Echo</option>\n                </Form.Select></Col>\n        </Row>\n    ];\n    return <Container style={{padding: \"0 10% 0 10%\"}}>\n        <Row><Col><h3>Persönliche Daten</h3></Col></Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>Vorname:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={firstName} onChange={e=>{setFirstName(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>Nachname:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={lastName} onChange={e=>{setLastName(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}>Email-Adresse:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={email} onChange={e=>{setEmail(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}></Col>\n            <Col><StatusButton value=\"speichern\" onClick={async ()=>{\n                    await arachne.user.save({\n                        id: arachne.me.id,\n                        first_name: firstName,\n                        last_name: lastName,\n                        email: email,\n                    });\n                    const reUser = await arachne.getUser();\n                    arachne.me = reUser;\n                    return {status: 1};\n                }} /></Col>\n        </Row>\n\n\n        <Row><Col><h3>Passwort</h3></Col></Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>altes Passwort:</Col>\n            <Col><Form.Control type=\"password\" size=\"sm\" value={oldPassword} onChange={e=>{setOldPassword(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}>neues Passwort:</Col>\n            <Col><Form.Control type=\"password\" size=\"sm\" value={newPassword} onChange={e=>{setNewPassword(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}></Col>\n            <Col><StatusButton value=\"speichern\" onClick={async ()=>{\n                    await arachne.user.save({\n                        id: arachne.me.id,\n                        old_password: oldPassword,\n                        new_password: newPassword\n                    });\n                    return {status: 1};\n                }} /></Col>\n        </Row>\n\n\n        <Row><Col><h3>Darstellung und Benutzung</h3></Col></Row>\n        <Row className=\"mb-4\">\n            <Col xs={4}>Funktionstaste für Tastenkürzel</Col>\n            <Col>\n                <Form.Select size=\"sm\" value={actionKey} onChange={e=>{arachne.setOptions(\"action_key\", e.target.value);setActionKey(e.target.value)}}>\n                    <option value=\"alt\">Alt</option>\n                    <option value=\"ctrl\">Strg</option>\n                    <option value=\"cmd\">Befehlstaste</option>\n                </Form.Select>\n                <small>Eine Liste mit Tastenkürzeln finden Sie <a className=\"text-primary\" rel=\"noreferrer\" href=\"https://gitlab.lrz.de/haeberlin/dmlw/-/wikis/06-Argos#tastenkürzel\" target=\"_blank\">hier</a>.</small>\n            </Col>\n        </Row>\n        {displaySettings}\n    </Container>;\n}\n\nexport { Account };","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardImg = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n({\n  bsPrefix,\n  className,\n  variant,\n  as: Component = 'img',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(variant ? `${prefix}-${variant}` : prefix, className),\n    ...props\n  });\n});\nCardImg.displayName = 'CardImg';\nexport default CardImg;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CardHeaderContext from './CardHeaderContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst CardHeader = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card-header');\n  const contextValue = useMemo(() => ({\n    cardHeaderBsPrefix: prefix\n  }), [prefix]);\n  return /*#__PURE__*/_jsx(CardHeaderContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, prefix)\n    })\n  });\n});\nCardHeader.displayName = 'CardHeader';\nexport default CardHeader;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardImg from './CardImg';\nimport CardHeader from './CardHeader';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DivStyledAsH5 = divWithClassName('h5');\nconst DivStyledAsH6 = divWithClassName('h6');\nconst CardBody = createWithBsPrefix('card-body');\nconst CardTitle = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nconst CardSubtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nconst CardLink = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nconst CardText = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nconst CardFooter = createWithBsPrefix('card-footer');\nconst CardImgOverlay = createWithBsPrefix('card-img-overlay');\nconst defaultProps = {\n  body: false\n};\nconst Card = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  bg,\n  text,\n  border,\n  body,\n  children,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'card');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, bg && `bg-${bg}`, text && `text-${text}`, border && `border-${border}`),\n    children: body ? /*#__PURE__*/_jsx(CardBody, {\n      children: children\n    }) : children\n  });\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nexport default Object.assign(Card, {\n  Img: CardImg,\n  Title: CardTitle,\n  Subtitle: CardSubtitle,\n  Body: CardBody,\n  Link: CardLink,\n  Text: CardText,\n  Header: CardHeader,\n  Footer: CardFooter,\n  ImgOverlay: CardImgOverlay\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport FormCheckInput from './FormCheckInput';\nimport InputGroupContext from './InputGroupContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nconst InputGroupCheckbox = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"checkbox\",\n    ...props\n  })\n});\n\nconst InputGroupRadio = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"radio\",\n    ...props\n  })\n});\n\n/**\n *\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nconst InputGroup = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  size,\n  hasValidation,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group'); // Intentionally an empty object. Used in detecting if a dropdown\n  // exists under an input group.\n\n  const contextValue = useMemo(() => ({}), []);\n  return /*#__PURE__*/_jsx(InputGroupContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, bsPrefix, size && `${bsPrefix}-${size}`, hasValidation && 'has-validation')\n    })\n  });\n});\nInputGroup.displayName = 'InputGroup';\nexport default Object.assign(InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox\n});"],"names":["ChangeLog","arachne","a","b","date","undefined","project","useState","displayAll","setDisplayAll","c","i","variant","title","d","substring","description","style","cursor","marginTop","textAlign","onClick","Overview","props","getSettings","projectSort","sortName","setSortName","renameId","setRenameId","shareId","setShareId","renameName","setRenameName","activeProjects","setActiveProjects","archiveProjects","setArchiveProjects","sharedProjects","setSharedProjects","userLst","setUserLst","useEffect","refreshPage","fetchData","order","users","map","u","id","first_name","last_name","user_id","status","shared_id","deleteProject","window","confirm","project_id","articleLst","length","zettelLst","z","tagLst","tagLnkLst","copyProject","oldProjectId","oldProject","name","newProjectId","zettelLnk","oldTags","t","oldTagLnks","shareProject","newUserId","projectId","select","oldUserId","show","msg","input","onReplay","e","dropDown","console","log","Container","Tabs","defaultActiveKey","Tab","eventKey","className","width","Table","hover","p","editMenu","ProjectRow","openProject","loadMain","disabled","NavBarBottom","showEdit","setShowEdit","shared","setShared","isShared","setIsShared","getUserName","userName","height","onMouseEnter","onMouseLeave","u_date","c_date","minWidth","Dropdown","display","size","showSort","setShowSort","ToolKitItems","Navbar","fixed","bg","setSetting","fluid","menuItems","createUtilityClassName","utilityValues","breakpoints","DEFAULT_BREAKPOINTS","classes","Object","entries","forEach","utilName","utilValue","brkPoint","bpValue","infix","push","Stack","React","ref","as","Component","bsPrefix","direction","gap","useBootstrapPrefix","useBootstrapBreakpoints","_jsx","classNames","displayName","alignDirection","PropTypes","alignPropType","sm","md","lg","xl","xxl","propTypes","href","align","menuRole","renderMenuOnMount","rootCloseEvent","menuVariant","DropdownButton","children","_jsxs","DropdownToggle","childBsPrefix","DropdownMenu","role","renderOnMount","Badge","pill","text","prefix","defaultProps","ZettelBox","currentZettel","setCurrentZettel","wideScreen","setWideScreen","splitView","setSplitView","splitViewURL","setSplitViewURL","resizeObserver","ResizeObserver","contentRect","observe","document","getElementById","unobserve","ImportZettel","showImport","updateSections","setShowImport","Row","Col","filterLst","sId","SectionCard","setRessourceView","url","src","position","top","left","icon","faTimesCircle","color","fontSize","zIndex","right","MenuLeft","setLimitFilterResults","v","filterTags","setFilterTags","newTags","showMenuLeft","onHide","setShowMenuLeft","justifyContent","bottom","backgroundColor","padding","fontWeight","margin","borderRadius","background","border","outline","value","onChange","target","onKeyUp","keyCode","els","getElementsByClassName","parseInt","scrollIntoView","behavior","block","activeTabKey","setActiveTabKey","tags","setTags","loadTags","allTags","enhancedTags","tag","tag_id","count","tagCount","sections","deleteTag","Offcanvas","backdrop","scroll","closeButton","tagNames","toLowerCase","includes","alert","activeKey","onSelect","k","FilterBox","Button","Form","type","defaultValue","marginLeft","faPenToSquare","faTrashCan","ressources","setRessources","showComment","setShowComment","comment","setComment","img","setImg","reference","setReference","setText","verso","setVerso","unusedTags","setUnusedTags","section","setSection","isVisible","setIsVisible","refImg","useRef","centerSection","useIntersectionObserver","onIntersect","observerElement","isIntersecting","current","loadSection","newSection","work_id","cAllTags","section_id","cTagLnks","cTagLnk","newTagIndex","findIndex","splice","Card","onFocus","el","allCards","aspectRatio","marginBottom","placeholder","onBlur","rows","minHeight","TagBox","s","RessourcesButtons","tabIndex","faGear","localStorage","setItem","zettel_id","open","button","setButton","selected","setSelected","openRessource","label","ButtonGroup","split","r","inputMode","setInputMode","removeTag","filter","ft","addTag","tName","structuredClone","newTag","exclude","borderStyle","alignContent","alignItems","flexWrap","tb","focus","FilterTag","FilterBoxInput","inputValue","setInputValue","acTags","setACTags","currentFocus","setCurrentFocus","loadACTags","currentTags","newACTags","currentACTags","indexOf","createNewTag","exitInput","find","existingTag","onKeyDown","preventDefault","borderColor","onMouseDown","stopPropagation","faMinusCircle","inputEl","querySelector","Tag","sectionId","TagBoxInput","iValue","inTags","colorPicker","newTagId","currentTagLnk","mode","setMode","setStatus","lemma","setLemma","SF","setSF","lemmaId","setLemmaId","lemmaZettelCount","setLemmaZettelCount","zettelZettelCount","setZettelZettelCount","searchFields","setSearchFields","nextID","setNextID","importZettelText","setImportZettelText","lemma_id","searchOptions","removeSearchFields","sendQuery","exportSF","sF","o","cSF","itemId","clickButton","changeItem","item","Modal","Accordion","tbl","searchCol","returnCol","faPlusCircle","nSearchFields","addSearchFields","marginRight","checked","Spinner","animation","tagObj","zettel_save_lst","tag_lnks_save_lst","cmnts","ac_web","txt","ocr_text_corr","ocr_text","user","join","date_sort","img_path","typeTag","keys","newSecIds","colors","Math","floor","random","defaultArticleHeadFields","OutlineBox","displayHead","setDisplayHead","displayBody","setDisplayBody","dragObjectId","setDragObjectId","articleHeadFields","setArticleHeadFields","articleHeadSelect","setArticleHeadSelect","articleHeadSelectId","setArticleHeadSelectId","devider","borderTop","articleTypes","articles","xs","userSelect","faAngleDown","sort","changeArticle","borderBottom","InputGroup","f","FormControl","createNewArticle","sort_nr","paddingBottom","articlesLst","depth","onDrop","dropArticle","parent_id","onDragOver","onDragLeave","ArticleBox","collapsed","collapsedArticlesLst","toogleCollapse","displayArticles","displaySections","setDisplaySections","dblClickCallback","closest","contentEditable","draggable","onDragStart","onDoubleClick","shiftKey","parentArticle","previousArticles","articleBoxes","previousArticleChildren","parentElement","innerText","blur","ArticleBoxSections","setSectionDetailId","articleId","setSections","acLst","setACLst","sectionDetailId","setTagLst","loadSections","loadACLst","allSections","concat","addSections","tagLnks","article_id","articleSections","tl","SectionDetailEdit","handleClose","SectionBox","parentNode","firstChild","lastChild","fontStyle","dangerouslySetInnerHTML","parseHTML","replace","RegExp","previousSibling","nextSibling","opacity","faRotate","ExportBox","exportTxt","setExportTxt","exportComment","setExportComment","exportTags","setExportTags","preview","exportLst","tag_lnks","getArticle","article","repeat","Editor","setProject","setArticles","setArticlesLst","setCollapsedArticlesLst","setFilterLst","scSetup","useShortcuts","updateArticles","inArticles","returnChildIds","parentId","childArticles","returnLst","newChildLst","resId","newProject","newArticles","newArt","newArticle","max","newId","currentArticle","save_old_lst","na","save_new_lst","foundSections","at","allTagLnks","fs","atl","modeBox","l","aId","Nav","textDecoration","settings","JSON","parse","getItem","hasOwnProperty","openExternal","getSetting","key","stringify","MainBody","dbChangeLog","main","res","MainNavBar","editions","editionTxt","NavDropdown","faSignOutAlt","Account","firstName","setFirstName","lastName","setLastName","email","setEmail","oldPassword","setOldPassword","newPassword","setNewPassword","zWidth","setZWidth","actionKey","setActionKey","openExternally","setOpenExternally","displaySettings","min","reUser","old_password","new_password","rel","CardImg","CardHeader","contextValue","useMemo","cardHeaderBsPrefix","CardHeaderContext","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","CardTitle","CardSubtitle","CardLink","CardText","CardFooter","CardImgOverlay","body","assign","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","InputGroupText","hasValidation","InputGroupContext","Radio","FormCheckInput","Checkbox"],"sourceRoot":""}