"use strict";(self.webpackChunkatlas=self.webpackChunkatlas||[]).push([[605],{2583:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(885),s=n(7022),i=n(2469),a=n(6407),c=n(2791),o=n(184);function u(){a.Q.changeLog=a.Q.changeLog.sort((function(e,t){return e.date<t.date})),a.Q.changeLog=a.Q.changeLog.filter((function(e){return void 0===e.project||e.project===a.Q.project_name}));var e=(0,c.useState)(!(a.Q.changeLog.length>5)),t=(0,r.Z)(e,2),n=t[0],u=t[1];return(0,o.jsxs)(s.Z,{children:[a.Q.changeLog.map((function(e,t){return n||t<5?(0,o.jsxs)(i.Z,{variant:0===t?"primary":"secondary",children:[(0,o.jsx)(i.Z.Heading,{children:e.title}),(0,o.jsx)("i",{children:(r=e.date,"".concat(r.substring(8,10),". ").concat({"01":"Januar","02":"Februar","03":"M\xe4rz","04":"April","05":"Mai","06":"Juni","07":"Juli","08":"August","09":"September",10:"Oktober",11:"November",12:"Dezember"}[r.substring(5,7)]," ").concat(r.substring(0,4)))}),e.description]},t):null;var r})),n?null:(0,o.jsx)(i.Z,{style:{cursor:"pointer",marginTop:"100px",textAlign:"center"},variant:"info",onClick:function(){u(!0)},children:"Alle \xc4nderungen anzeigen."})]})}},2605:function(e,t,n){n.r(t),n.d(t,{MainBody:function(){return xe},MainNavBar:function(){return he},getSetting:function(){return fe},getSettings:function(){return de},setSetting:function(){return pe}});var r=n(885),s=n(2791),i=n(4483),a=n(3174),c=n(4817),o=n(7022),u=n(9249),l=n(2354),d=n(7762),f=n(5861),p=n(7757),x=n.n(p),h=n(9485),g=n(1734),m=n(2591),v=n(9723),j=n(6407),Z=n(3222),k=n(184);function y(e){var t=(0,s.useState)(de().projectSort),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.useState)(0),u=(0,r.Z)(c,2),l=u[0],p=u[1],v=(0,s.useState)(0),y=(0,r.Z)(v,2),_=y[0],C=y[1],S=(0,s.useState)(""),Q=(0,r.Z)(S,2),I=Q[0],M=Q[1],E=(0,s.useState)([]),N=(0,r.Z)(E,2),L=N[0],T=N[1],B=(0,s.useState)([]),D=(0,r.Z)(B,2),z=D[0],F=D[1],A=(0,s.useState)([]),R=(0,r.Z)(A,2),P=R[0],K=R[1],O=(0,s.useState)([]),G=(0,r.Z)(O,2),W=G[0],H=G[1];(0,s.useEffect)((function(){V()}),[i]),(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.next=4,j.Q.user.getAll({order:["last_name"]});case 4:t=e.sent,H(t.map((function(e){return[e.id,"".concat(e.first_name," ").concat(e.last_name)]})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var V=function(){var e=(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=T,e.next=3,j.Q.project.get({user_id:j.Q.me.id,status:1},{order:[i]});case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=F,e.next=8,j.Q.project.get({status:2},{order:[i]});case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=K,e.next=13,j.Q.project.get({shared_id:j.Q.me.id},{order:[i]});case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,f.Z)(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll das Projekt mit der ID '".concat(t,"' wirklich gel\xf6scht werden? Dieser Schritt kann nicht r\xfcckg\xe4ngig gemacht werden."))){e.next=17;break}return e.next=3,j.Q.article.get({project_id:t});case 3:if(!((n=e.sent).length>0)){e.next=7;break}return e.next=7,j.Q.article.delete(n.map((function(e){return e.id})));case 7:return e.next=9,j.Q.sections.get({project_id:t});case 9:if(!((r=e.sent).length>0)){e.next=13;break}return e.next=13,j.Q.sections.delete(r.map((function(e){return e.id})));case 13:return e.next=15,j.Q.project.delete(t);case 15:return e.next=17,V();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,f.Z)(x().mark((function e(t){var n,r,s,i,a,c,o,u,l,f,p,h,g,m,v,Z;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Q.project.get({id:t});case 2:return delete(n=(n=e.sent)[0]).id,n.shared_id=null,n.name="".concat(n.name,"  (Kopie)"),e.next=9,j.Q.project.save(n);case 9:return r=e.sent,e.next=12,j.Q.sections.get({project_id:t});case 12:s=e.sent,i=(0,d.Z)(s),e.prev=14,i.s();case 16:if((a=i.n()).done){e.next=25;break}return delete(c=a.value).id,c.project_id=r,c.shared_id=null,e.next=23,j.Q.sections.save(c);case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:return e.next=35,j.Q.article.get({project_id:t});case 35:o=e.sent,u=(0,d.Z)(o),e.prev=37,u.s();case 39:if((l=u.n()).done){e.next=71;break}return f=l.value,p=f.id,delete f.id,f.project_id=r,f.shared_id=null,e.next=47,j.Q.article.save(f);case 47:return h=e.sent,e.next=50,j.Q.sections.get({project_id:r,article_id:p});case 50:g=e.sent,m=(0,d.Z)(g),e.prev=52,m.s();case 54:if((v=m.n()).done){e.next=61;break}return(Z=v.value).article_id=h,e.next=59,j.Q.sections.save(Z);case 59:e.next=54;break;case 61:e.next=66;break;case 63:e.prev=63,e.t1=e.catch(52),m.e(e.t1);case 66:return e.prev=66,m.f(),e.finish(66);case 69:e.next=39;break;case 71:e.next=76;break;case 73:e.prev=73,e.t2=e.catch(37),u.e(e.t2);case 76:return e.prev=76,u.f(),e.finish(76);case 79:return e.next=81,V();case 81:case"end":return e.stop()}}),e,null,[[14,27,30,33],[37,73,76,79],[52,63,66,69]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,f.Z)(x().mark((function e(t,n){var r,s,i,a,c,o,u,l,f,p,h,g;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,s=null,!t){e.next=10;break}return e.next=5,j.Q.project.get({id:n},{select:["user_id"]});case 5:i=e.sent,s=t,r=i[0].user_id,e.next=15;break;case 10:return e.next=12,j.Q.project.get({id:n},{select:["shared_id"]});case 12:a=e.sent,r=null,s=a[0].shared_id;case 15:return e.next=17,j.Q.project.save({id:n,shared_id:r,user_id:s});case 17:return e.next=19,j.Q.article.get({project_id:n});case 19:c=e.sent,o=(0,d.Z)(c),e.prev=21,o.s();case 23:if((u=o.n()).done){e.next=32;break}return(l=u.value).user_id=s,l.shared_id=r,e.next=29,j.Q.article.save(l);case 29:e.sent;case 30:e.next=23;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(21),o.e(e.t0);case 37:return e.prev=37,o.f(),e.finish(37);case 40:return e.next=42,j.Q.sections.get({project_id:n});case 42:f=e.sent,p=(0,d.Z)(f),e.prev=44,p.s();case 46:if((h=p.n()).done){e.next=54;break}return(g=h.value).user_id=s,g.shared_id=r,e.next=52,j.Q.sections.save(g);case 52:e.next=46;break;case 54:e.next=59;break;case 56:e.prev=56,e.t1=e.catch(44),p.e(e.t1);case 59:return e.prev=59,p.f(),e.finish(59);case 62:return e.next=64,V();case 64:case"end":return e.stop()}}),e,null,[[21,34,37,40],[44,56,59,62]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Z.v0,{show:l>0,title:"Projekt umbenennen",msg:"Geben Sie einen neuen Namen f\xfcr das Projekt ein:",input:I,onReplay:function(){var e=(0,f.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1==t||""==t){e.next=5;break}return e.next=3,j.Q.project.save({id:l,name:t});case 3:return e.next=5,V();case 5:p(0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,k.jsx)(Z.v0,{show:_>0,title:"Projekt freigeben",msg:"Wem wollen Sie das Projekt freigeben?",dropDown:W,onReplay:function(){var e=(0,f.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,_);case 2:C(0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,k.jsx)(o.Z,{children:(0,k.jsxs)(h.Z,{defaultActiveKey:"active",children:[(0,k.jsx)(g.Z,{eventKey:"active",title:"aktive Projekte",children:(0,k.jsx)(o.Z,{className:"m-4",style:{width:"auto"},children:(0,k.jsxs)(m.Z,{width:"100%",hover:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{width:"30%",children:"Name"}),(0,k.jsx)("th",{width:"20%"}),(0,k.jsx)("th",{width:"20%",children:"\xc4nderungsdatum"}),(0,k.jsx)("th",{width:"20%",children:"Erstelldatum"}),(0,k.jsx)("th",{width:"10%"})]})}),(0,k.jsx)("tbody",{children:L.map((function(t){var n=[["umbenennen",function(){M(t.name),p(t.id)}],["kopieren",(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(t.id);case 1:case"end":return e.stop()}}),e)})))],["ins Archiv",(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Q.project.save({id:t.id,status:2});case 2:return e.next=4,V();case 4:case"end":return e.stop()}}),e)})))],["freigeben",function(){C(t.id)}]];return t.shared_id>0&&(n=[["umbenennen",function(){M(t.name),p(t.id)}],["kopieren",(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y(t.id);case 1:case"end":return e.stop()}}),e)})))],["freigabe beenden",(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(null,t.id);case 2:case"end":return e.stop()}}),e)})))]]),(0,k.jsx)(w,{p:t,openProject:function(){e.loadMain(null,"editor",t.id)},editMenu:n,deleteProject:function(){var e=(0,f.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},t.id)}))})]})})}),(0,k.jsx)(g.Z,{eventKey:"archive",title:"Archiv",disabled:0===z.length,children:(0,k.jsx)(o.Z,{className:"m-4",style:{width:"auto"},children:(0,k.jsxs)(m.Z,{width:"100%",hover:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{width:"30%",children:"Name"}),(0,k.jsx)("th",{width:"20%"}),(0,k.jsx)("th",{width:"20%",children:"\xc4nderungsdatum"}),(0,k.jsx)("th",{width:"20%",children:"Erstelldatum"}),(0,k.jsx)("th",{width:"10%"})]})}),(0,k.jsx)("tbody",{children:z.map((function(e){return(0,k.jsx)(w,{openProject:null,p:e,editMenu:[["zu den aktiven Projekten",(0,f.Z)(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.project.save({id:e.id,status:1});case 2:return t.next=4,V();case 4:case"end":return t.stop()}}),t)})))]],deleteProject:function(){var e=(0,f.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},e.id)}))})]})})}),(0,k.jsx)(g.Z,{eventKey:"shared",title:"freigegebene Projekte",disabled:0===P.length,children:(0,k.jsx)(o.Z,{className:"m-4",style:{width:"auto"},children:(0,k.jsxs)(m.Z,{width:"100%",hover:!0,children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{width:"30%",children:"Name"}),(0,k.jsx)("th",{width:"20%",children:"freigegeben"}),(0,k.jsx)("th",{width:"20%",children:"\xc4nderufrengsdatum"}),(0,k.jsx)("th",{width:"20%",children:"Erstelldatum"}),(0,k.jsx)("th",{width:"10%"})]})}),(0,k.jsx)("tbody",{children:P.map((function(e){return(0,k.jsx)(w,{p:e,editMenu:[["nicht mehr freigeben",function(){U(null,e.id)}]]},e.id)}))})]})})})]})}),(0,k.jsx)(b,{refreshPage:(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:case"end":return e.stop()}}),e)}))),setSortName:function(e){return a(e)}})]})}function w(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.useState)(),o=(0,r.Z)(c,2),u=o[0],l=o[1],d=(0,s.useState)(!1),p=(0,r.Z)(d,2),h=p[0],g=p[1];return(0,s.useEffect)((function(){var t=function(){var e=(0,f.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Q.user.get({id:t});case 2:n=e.sent,l("".concat(n[0].first_name," ").concat(n[0].last_name));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.p.shared_id>0&&4===e.p.status?t(e.p.user_id):e.p.shared_id>0&&1===e.p.status&&(t(e.p.shared_id),g(!0))}),[]),(0,k.jsxs)("tr",{style:{height:"49px"},className:h?"text-primary":null,onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)},children:[(0,k.jsx)("td",{children:(0,k.jsx)("b",{style:{cursor:e.openProject?"pointer":"default"},onClick:function(){e.openProject&&e.openProject(e.p.id)},children:e.p.name})}),(0,k.jsx)("td",{children:u}),(0,k.jsx)("td",{children:e.p.u_date.substring(0,16)}),(0,k.jsx)("td",{children:e.p.c_date.substring(0,16)}),(0,k.jsx)("td",{children:(0,k.jsxs)(v.Z,{style:{display:i?"block":"none"},children:[(0,k.jsx)(v.Z.Toggle,{size:"sm",variant:"outline-primary",children:"bearbeiten"}),(0,k.jsxs)(v.Z.Menu,{variant:"dark",children:[e.editMenu.map((function(e){return(0,k.jsx)(v.Z.Item,{onClick:function(){e[1]()},children:e[0]},e[0])})),e.deleteProject?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(v.Z.Divider,{}),(0,k.jsx)(v.Z.Item,{onClick:function(){e.deleteProject(e.p.id)},children:"l\xf6schen"})]}):null]})]})})]})}function b(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],u=[["Sortieren nach",function(){a(!0)}],["neues Projekt erstellen",(0,f.Z)(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll ein neues Projekt erstellt werden?")){t.next=5;break}return t.next=3,j.Q.project.save({name:"Neues Projekt",user_id:j.Q.me.id,status:1});case 3:return t.next=5,e.refreshPage();case 5:case"end":return t.stop()}}),t)})))]];return(0,k.jsxs)(c.Z,{fixed:"bottom",bg:"light",children:[(0,k.jsx)(Z.v0,{show:i,title:"Sortierung der Projekte",msg:"Wie sollen die Projekte sortiert werden? Nach ...",dropDown:[["name","Name"],["u_date","\xc4nderungsdatum"],["c_date","Erstelldatum"]],onReplay:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:pe("projectSort",n),e.setSortName(n),a(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),(0,k.jsxs)(o.Z,{fluid:!0,children:[(0,k.jsx)(c.Z.Collapse,{className:"justify-content-start"}),(0,k.jsx)(c.Z.Collapse,{className:"justify-content-end",children:(0,k.jsx)(c.Z.Text,{children:(0,k.jsx)(Z.vW,{menuItems:u})})})]})]})}var _=n(2982),C=n(9743),S=n(2677),Q=n(1413),I=n(5987),M=n(1694),E=n.n(M),N=n(162);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.Hz,n=[];return Object.entries(e).forEach((function(e){var s=(0,r.Z)(e,2),i=s[0],a=s[1];null!=a&&("object"===typeof a?t.forEach((function(e){var t=a[e];if(null!=t){var r="xs"!==e?"-".concat(e):"";n.push("".concat(i).concat(r,"-").concat(t))}})):n.push("".concat(i,"-").concat(a)))})),n}var T=["as","bsPrefix","className","direction","gap"],B=s.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,s=e.bsPrefix,i=e.className,a=e.direction,c=e.gap,o=(0,I.Z)(e,T);s=(0,N.vE)(s,"horizontal"===a?"hstack":"vstack");var u=(0,N.pi)();return(0,k.jsx)(r,(0,Q.Z)((0,Q.Z)({},o),{},{ref:t,className:E().apply(void 0,[i,s].concat((0,_.Z)(L({gap:c,breakpoints:u}))))}))}));B.displayName="Stack";var D=B,z=n(4775),F=n(3360),A=n(3350),R=n(9140),P=n(6144),K=n(5316),O=n(8949),G=["bsPrefix","bg","pill","text","className","as"],W=s.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,s=e.pill,i=e.text,a=e.className,c=e.as,o=void 0===c?"span":c,u=(0,I.Z)(e,G),l=(0,N.vE)(n,"badge");return(0,k.jsx)(o,(0,Q.Z)((0,Q.Z)({ref:t},u),{},{className:E()(a,l,s&&"rounded-pill",i&&"text-".concat(i),r&&"bg-".concat(r))}))}));W.displayName="Badge",W.defaultProps={bg:"primary",pill:!1};var H=W,V=n(4849);function J(e){var t=(0,s.useState)(null),n=(0,r.Z)(t,2),i=n[0],a=n[1],c={borderTop:"4px dotted transparent",margin:"0 20px",height:"10px"};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(o.Z,{fluid:!0,children:[(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{}),(0,k.jsx)(S.Z,{xs:"8",style:{textAlign:"right",cursor:"pointer"},children:"Artikelkopf"}),(0,k.jsx)(S.Z,{})]}),(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{}),(0,k.jsx)(S.Z,{xs:"8",style:{paddingBottom:"15px",marginBottom:"15px",borderBottom:"1px solid black"}}),(0,k.jsx)(S.Z,{})]}),(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{}),(0,k.jsx)(S.Z,{xs:"8",style:{textAlign:"right",cursor:"pointer"},children:"Bedeutungen"}),(0,k.jsx)(S.Z,{})]}),(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{}),(0,k.jsx)(S.Z,{xs:"8",children:e.articlesLst.map((function(t){return function(t,n){return(0,k.jsxs)("div",{style:{marginLeft:"".concat(25*n,"px")},children:[(0,k.jsx)("div",{style:c,onDrop:function(n){e.dropArticle(i,t.parent_id,t.sort_nr),n.target.style.borderColor="transparent"},onDragOver:function(e){e.preventDefault(),e.target.style.borderColor="var(--bs-primary)"},onDragLeave:function(e){e.target.style.borderColor="transparent"}}),(0,k.jsx)(Y,{articles:e.articles,a:t,dragObjectId:i,setDragObjectId:function(e){a(e)},dropArticle:function(t,n,r){e.dropArticle(t,n,r)},collapsed:e.collapsedArticlesLst.includes(t.id),toogleCollapse:function(t){e.toogleCollapse(t)}})]},t.id)}(e.articles.find((function(e){return e.id===parseInt(t.split("-")[1])})),t.split("-")[0])}))}),(0,k.jsx)(S.Z,{})]})]})})}function Y(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=function(e){var t=e.target.closest(".articleBox").getElementsByClassName("articleBoxName")[0];t.contentEditable=!0,t.focus()};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"articleBox",id:"articleBox_".concat(e.a.id),draggable:!0,onDragStart:function(){e.setDragObjectId(e.a.id)},onDrop:function(t){e.dragObjectId!==e.a.id&&e.dropArticle(e.dragObjectId,e.a.id,1),t.target.style.borderColor="transparent"},onDragOver:function(t){t.preventDefault(),e.dragObjectId!==e.a.id&&(t.target.style.borderColor="var(--bs-primary)")},onDragLeave:function(e){e.target.style.borderColor="transparent"},tabIndex:"0",onClick:function(e){e.target.focus()},onDoubleClick:function(e){c(e)},onKeyDown:function(t){if("articleBox"===t.target.className)if(9!==t.keyCode&&t.preventDefault(),13===t.keyCode)c(t);else if(37===t.keyCode&&t.shiftKey){if(e.a.parent_id>0){var n=e.articles.find((function(t){return t.id===e.a.parent_id}));e.dropArticle(e.a.id,n.parent_id,n.sort_nr+1)}}else if(37===t.keyCode)e.toogleCollapse(e.a.id);else if(38===t.keyCode&&t.shiftKey){var r=e.articles.filter((function(t){return t.parent_id===e.a.parent_id&&t.sort_nr<e.a.sort_nr})).sort((function(e,t){return e.sort_nr>t.sort_nr}));r.length>0&&e.dropArticle(e.a.id,e.a.parent_id,r[r.length-1].sort_nr)}else if(38===t.keyCode){for(var s=document.getElementsByClassName("articleBox"),o=0;o<s.length;o++)if(s[o].id===t.target.id){0===o?s[s.length-1].focus():s[o-1].focus();break}}else if(39===t.keyCode&&t.shiftKey){var u=e.articles.filter((function(t){return t.parent_id===e.a.parent_id&&t.sort_nr<e.a.sort_nr})).sort((function(e,t){return e.sort_nr>t.sort_nr}));if(u.length>0){var l=e.articles.filter((function(e){return e.parent_id===u[u.length-1].id})).sort((function(e,t){return e.sort_nr>t.sort_nr}));l.length>0?e.dropArticle(e.a.id,u[u.length-1].id,l[l.length-1].sort_nr+1):e.dropArticle(e.a.id,u[u.length-1].id,1)}}else if(39===t.keyCode)a(!i);else if(40===t.keyCode&&t.shiftKey){e.articles.find((function(t){return t.parent_id===e.a.parent_id&&t.sort_nr>e.a.sort_nr}))&&e.dropArticle(e.a.id,e.a.parent_id,e.a.sort_nr+1)}else if(40===t.keyCode)for(var d=document.getElementsByClassName("articleBox"),f=0;f<d.length;f++)if(d[f].id===t.target.id){f===d.length-1?d[0].focus():d[f+1].focus();break}},children:[e.a.sort_nr,". ",(0,k.jsx)("span",{className:"articleBoxName",onBlur:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.target.contentEditable=!1,n.target.parentElement.focus(),t.next=4,j.Q.article.save({id:e.a.id,name:n.target.innerText});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),e.target.blur())},children:e.a.name})," ",e.collapsed?(0,k.jsx)("span",{className:"text-primary",style:{marginLeft:"15px"},children:"..."}):null]}),i?(0,k.jsx)("div",{className:"ArticleBoxSections",children:'ABBO FLOR. calc. 1,2 "bla bla...."'}):null]})}function U(e){var t=(0,s.useState)("zettel"),n=(0,r.Z)(t,2),i=n[0],a=n[1],l=(0,s.useState)(null),p=(0,r.Z)(l,2),h=p[0],g=p[1],m=(0,s.useState)([]),v=(0,r.Z)(m,2),y=v[0],w=v[1],b=(0,s.useState)([]),S=(0,r.Z)(b,2),Q=S[0],I=S[1],M=(0,s.useState)([]),E=(0,r.Z)(M,2),N=E[0],L=E[1],T=(0,s.useState)([]),B=(0,r.Z)(T,2),D=B[0],z=B[1],F=(0,s.useState)([]),A=(0,r.Z)(F,2),R=A[0],P=A[1],K=(0,s.useState)(!1),O=(0,r.Z)(K,2),G=(O[0],O[1]),W=(0,s.useState)(!1),H=(0,r.Z)(W,2),V=H[0],Y=H[1],U=(0,s.useState)(!1),q=(0,r.Z)(U,2),$=q[0],ee=q[1],te=[["CTRL+ESC",function(){e.loadMain(null,null)}],["CTRL+f",function(){Y(!V)}],["CTRL+i",function(){ee(!$)}],["CTRL+r",function(){z([]),ae()}],["CTRL+1",function(){a("zettel")}],["CTRL+2",function(){a("outline")}],["CTRL+3",function(){a("export")}],["CTRL+n",function(){se()}]];(0,Z.XU)(te,!1);var ne=[["Zettel importieren",function(){ee(!0)}],["Seitenleiste ein-/ausblenden",function(){Y(!0)}],["Filter neu laden",function(){z([]),ae()}],["Neuer Artikel erstellen",function(){se()}]],re=function(e){w(e);I(function t(n,r){var s=e.filter((function(e){return e.parent_id===n})).sort((function(e,t){return e.sort_nr>t.sort_nr})),i=[];return s.forEach((function(e){if(i.push("".concat(r,"-").concat(e.id)),!N.includes(e.id)){var n=t(e.id,r+1);n.length>0&&(i=i.concat(n))}})),i}(0,0))};(0,s.useEffect)((function(){re(y)}),[N]),(0,s.useEffect)((function(){var t=function(){var t=(0,f.Z)(x().mark((function t(){var n,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.project.get({id:e.resId});case 2:return n=t.sent,g(n[0]),t.next=6,j.Q.article.get({project_id:e.resId});case 6:r=t.sent,re(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),ae()}),[]);var se=function(){var e=(0,f.Z)(x().mark((function e(){var t,n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={parent_id:0,sort_nr:y.length>0?Math.max.apply(Math,(0,_.Z)(y.filter((function(e){return 0===e.parent_id})).map((function(e){return e.sort_nr}))))+1:1,name:"Neue Gruppe",project_id:h.id},e.next=3,j.Q.article.save(t);case 3:n=e.sent,t.id=n,(r=y).push(t),re(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,f.Z)(x().mark((function e(t,n,r){var s,i,a,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=y,i=y.find((function(e){return e.id===t})),(a=y.filter((function(e){return e.parent_id===i.parent_id&&e.sort_nr>i.sort_nr})).map((function(e){return{id:e.id,sort_nr:e.sort_nr-1}}))).forEach((function(e){var t=s.findIndex((function(t){return t.id===e.id}));s[t].sort_nr=e.sort_nr})),(c=s.filter((function(e){return e.parent_id===n&&e.sort_nr>=r})).map((function(e){return{id:e.id,parent_id:n,sort_nr:e.sort_nr+1}}))).push({id:t,parent_id:n,sort_nr:r}),c.forEach((function(e){var t=s.findIndex((function(t){return t.id===e.id}));s[t].parent_id=n,s[t].sort_nr=e.sort_nr})),e.next=9,j.Q.article.save(c.concat(a.filter((function(e){return-1===c.findIndex((function(t){return e.id===t.id}))}))));case 9:re(s);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ae=function(){var t=(0,f.Z)(x().mark((function t(){var n,r,s,i,a,c;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.sections.get({project_id:e.resId},{select:["id"]});case 2:if(n=t.sent,0!==R.length){t.next=7;break}z(n.map((function(e){return e.id}))),t.next=17;break;case 7:return t.next=9,j.Q.tags.get({project_id:e.resId},{select:["id"]});case 9:return r=t.sent,t.next=12,j.Q.tag_lnks.get({tag_id:r.map((function(e){return e.id}))});case 12:s=t.sent,n=n.map((function(e){return e.tags=s.filter((function(t){return t.section_id===e.id})).map((function(e){return e.tag_id})),e})),i=(0,d.Z)(R);try{for(c=function(){var e=a.value;n=e.exclude?n.filter((function(t){return!t.tags.includes(e.id)})):n.filter((function(t){return t.tags.includes(e.id)}))},i.s();!(a=i.n()).done;)c()}catch(o){i.e(o)}finally{i.f()}z(n.map((function(e){return e.id})));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=null;return"zettel"===i?ce=(0,k.jsx)(X,{setLimitFilterResults:function(e){G(e)},showImport:$,showMenuLeft:V,filterTags:R,setFilterTags:function(e){P(e)},setShowMenuLeft:function(){Y(!1)},setShowImport:function(e){ee(e)},project:h,filterLst:D,updateSections:function(){ae()}}):"outline"===i&&(ce=(0,k.jsx)(J,{project:h,dropArticle:function(e,t,n){ie(e,t,n)},articlesLst:Q,articles:y,collapsedArticlesLst:N,toogleCollapse:function(e){var t;t=e,N.includes(t)?L(N.filter((function(e){return e!==t}))):L(N.concat([t]))}})),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{bg:"dark",variant:"dark",fixed:"top",style:{top:"0px"},children:(0,k.jsxs)(o.Z,{fluid:!0,style:{height:"40px"},children:[(0,k.jsx)(c.Z.Brand,{style:{cursor:"pointer"},onClick:function(t){e.loadMain(t,null)},children:"Editor"}),(0,k.jsx)(c.Z.Toggle,{}),(0,k.jsxs)(c.Z.Collapse,{className:"justify-content-end",children:[(0,k.jsxs)(u.Z,{style:{fontSize:"110%"},children:[(0,k.jsx)(u.Z.Link,{className:"text-white",style:{textDecoration:"zettel"===i?"underline":null},onClick:function(){a("zettel")},children:"Zettel"}),(0,k.jsx)(c.Z.Text,{style:{width:"80px",borderBottom:"3px solid white",height:"25px"}}),(0,k.jsx)(u.Z.Link,{className:"text-white",style:{textDecoration:"outline"===i?"underline":null},onClick:function(){a("outline")},children:"Gliederung"}),(0,k.jsx)(c.Z.Text,{style:{width:"80px",borderBottom:"3px solid white",height:"25px"}}),(0,k.jsx)(u.Z.Link,{className:"text-white",style:{textDecoration:"export"===i?"underline":null},onClick:function(){a("export")},children:"Export"})]}),(0,k.jsx)(u.Z,{children:(0,k.jsx)(c.Z.Text,{children:(0,k.jsx)(Z.vW,{menuItems:ne,direction:"down"})})})]})]})}),null!=h?(0,k.jsx)(o.Z,{style:{marginTop:"120px"},fluid:!0,children:ce}):(0,k.jsx)(o.Z,{children:(0,k.jsx)(C.Z,{children:"Project wird geladen..."})})]})}function X(e){var t=(0,s.useState)(!1),n=(0,r.Z)(t,2),c=n[0],u=n[1],l=(0,s.useState)(""),d=(0,r.Z)(l,2),f=d[0],p=d[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(ce,{show:e.showImport,project:e.project,onReplay:function(t){t&&e.updateSections(),e.setShowImport(!1)}}),(0,k.jsx)(o.Z,{fluid:!0,children:(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{children:(0,k.jsx)(D,{gap:5,children:e.filterLst.map((function(t){return(0,k.jsx)($,{setRessourceView:function(e){!function(e){c||u(!0),p(e)}(e)},project:e.project,sId:t},t)}))})}),c?(0,k.jsxs)(S.Z,{children:[(0,k.jsx)("iframe",{src:f,style:{position:"fixed",top:"0px",left:"50%",height:"100%",width:"50%"}}),(0,k.jsx)(i.G,{icon:a.nYk,style:{color:"var(--bs-danger)",fontSize:"24px",zIndex:"99999999",position:"fixed",top:"80px",right:"30px"},onClick:function(){u(!1)}})]}):null]})}),(0,k.jsx)(q,{setLimitFilterResults:function(t){e.setLimitFilterResults(t)},project:e.project,filterTags:e.filterTags,setFilterTags:function(t){e.setFilterTags(t)},tagLst:e.tagLst,show:e.showMenuLeft,onHide:function(){e.setShowMenuLeft(!1)},updateSections:function(){e.updateSections()}})]})}function q(e){var t=(0,s.useState)("filter"),n=(0,r.Z)(t,2),c=n[0],u=n[1],l=(0,s.useState)([]),p=(0,r.Z)(l,2),v=p[0],y=p[1],w=(0,s.useState)(0),b=(0,r.Z)(w,2),_=b[0],Q=b[1],I=(0,s.useState)(""),M=(0,r.Z)(I,2),E=M[0],N=M[1];(0,s.useEffect)((function(){e.show&&L()}),[e.show]);var L=function(){var t=(0,f.Z)(x().mark((function t(){var n,r,s,i,a,c;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.tags.get({project_id:e.project.id});case 2:n=t.sent,r=[],s=(0,d.Z)(n),t.prev=5,s.s();case 7:if((i=s.n()).done){t.next=16;break}return a=i.value,t.next=11,j.Q.tag_lnks.get({tag_id:a.id},{count:!0});case 11:c=t.sent,a.sections=c[0].count,r.push(a);case 14:t.next=7;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),s.e(t.t0);case 21:return t.prev=21,s.f(),t.finish(21);case 24:y(r);case 25:case"end":return t.stop()}}),t,null,[[5,18,21,24]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var e=(0,f.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll das Schlagwort '".concat(t.name,"' wirklich gel\xf6scht werden? Es wird aus allen Stellen entfernt!"))){e.next=10;break}return e.next=3,j.Q.tag_lnks.get({tag_id:t.id},{select:["id"]});case 3:return n=e.sent,e.next=6,j.Q.tag_lnks.delete(n.map((function(e){return e.id})));case 6:return e.next=8,j.Q.tags.delete(t.id);case 8:return e.next=10,L();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsxs)(z.Z,{show:e.show,backdrop:!1,scroll:!0,onHide:function(){e.onHide()},children:[(0,k.jsx)(z.Z.Header,{closeButton:!0,children:(0,k.jsx)(z.Z.Title,{})}),(0,k.jsxs)(z.Z.Body,{children:[(0,k.jsx)(Z.v0,{show:_>0,title:"Projekt umbenennen",msg:"Geben Sie einen neuen Namen f\xfcr das Schlagwort ein:",input:E,onReplay:function(){var e=(0,f.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.map((function(e){return e.name.toLowerCase()})),-1==t||""==t){e.next=10;break}if(!n.includes(t.toLowerCase())){e.next=6;break}alert("Der Name '".concat(t,"' wird bereits verwendet!")),e.next=10;break;case 6:return e.next=8,j.Q.tags.save({id:_,name:t});case 8:return e.next=10,L();case 10:Q(0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,k.jsxs)(h.Z,{defaultActiveKey:"filter",className:"mb-3",activeKey:c,onSelect:function(e){u(e)},children:[(0,k.jsx)(g.Z,{eventKey:"filter",title:"Filter",children:(0,k.jsxs)(o.Z,{children:[(0,k.jsx)(C.Z,{className:"mb-3",children:(0,k.jsx)(S.Z,{children:(0,k.jsx)(te,{filterTags:e.filterTags,setFilterTags:function(t){e.setFilterTags(t)},project:e.project})})}),(0,k.jsxs)(C.Z,{className:"mb-4",children:[(0,k.jsx)(S.Z,{}),(0,k.jsx)(S.Z,{children:(0,k.jsx)(F.Z,{style:{width:"100%"},onClick:function(){e.updateSections()},children:"Zettel filtern"})})]})]})}),(0,k.jsx)(g.Z,{eventKey:"tags",title:"Schlagworte",children:(0,k.jsx)(m.Z,{children:(0,k.jsx)("tbody",{children:v.map((function(t){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:(0,k.jsx)(A.Z.Control,{style:{display:"inline"},size:"sm",type:"color",id:"exampleColorInput",defaultValue:t.color,title:"Choose your color",onChange:function(){var e=(0,f.Z)(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Q.tags.save({id:t.id,color:n.target.value});case 2:return e.next=4,L();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),(0,k.jsx)("td",{children:(0,k.jsx)("b",{style:{marginLeft:"10px",color:t.color,cursor:"pointer"},onClick:function(){e.setFilterTags([t]),u("filter")},children:t.name})}),(0,k.jsx)("td",{children:t.sections}),(0,k.jsx)("td",{children:(0,k.jsx)(i.G,{icon:a.Yai,style:{cursor:"pointer",color:"var(--bs-primary)"},onClick:function(){N(t.name),Q(t.id)}})}),(0,k.jsx)("td",{children:(0,k.jsx)(i.G,{icon:a.Vui,style:{cursor:"pointer",color:"var(--bs-primary)"},onClick:function(){T(t)}})})]},t.id)}))})})})]})]})]})}function $(e){var t=(0,s.useState)([]),n=(0,r.Z)(t,2),c=n[0],o=n[1],u=(0,s.useState)(!1),l=(0,r.Z)(u,2),p=l[0],h=l[1],g=(0,s.useState)(""),m=(0,r.Z)(g,2),v=m[0],y=m[1],w=(0,s.useState)(null),b=(0,r.Z)(w,2),_=b[0],Q=b[1],I=(0,s.useState)(""),M=(0,r.Z)(I,2),E=M[0],N=M[1],L=(0,s.useState)(""),T=(0,r.Z)(L,2),B=T[0],D=T[1],z=(0,s.useState)(!1),F=(0,r.Z)(z,2),P=F[0],K=F[1],O=(0,s.useState)([]),G=(0,r.Z)(O,2),W=G[0],H=G[1],V=(0,s.useState)([]),J=(0,r.Z)(V,2),Y=J[0],U=J[1],X=(0,s.useState)({}),q=(0,r.Z)(X,2),$=q[0],te=q[1],re=(0,s.useState)(!1),se=(0,r.Z)(re,2),ie=se[0],ae=se[1],ce=(0,s.useRef)(),oe=function(){document.getElementById("s_"+e.sId).scrollIntoView({block:"center"})};(0,Z.S1)({target:ce,onIntersect:function(e,t){(0,r.Z)(e,1)[0].isIntersecting&&(ae(!0),t.unobserve(ce.current))}}),(0,s.useEffect)((function(){ie?(ue(),le()):(Q(null),H([]))}),[ie]),(0,s.useEffect)((function(){ie&&Q("http://localhost:8080"+$.img+"".concat(P?"v":"",".jpg"))}),[P]);var ue=function(){var t=(0,f.Z)(x().mark((function t(){var n;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.sections.get({id:e.sId});case 2:return n=t.sent,Q("http://localhost:8080"+n[0].img+"".concat(P?"v":"",".jpg")),N(n[0].ref),D(n[0].text),y(n[0].comment),null!=n[0].comment&&""!=n[0].comment&&h(!0),te(n[0]),t.t0=o,t.next=12,j.Q.edition.get({work_id:n[0].work_id},{select:["id","label","url"]});case 12:t.t1=t.sent,(0,t.t0)(t.t1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),le=function(){var t=(0,f.Z)(x().mark((function t(){var n,r,s,i,a,c;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.tags.get({project_id:e.project.id});case 2:return n=t.sent,t.next=5,j.Q.tag_lnks.get({section_id:e.sId});case 5:r=t.sent,s=[],i=(0,d.Z)(r);try{for(c=function(){var e=a.value,t=n.findIndex((function(t){return t.id===e.tag_id}));if(-1===t)throw"ERROR! CANNOT FIND TAG INDEX!";s.push(n[t]),n.splice(t,1)},i.s();!(a=i.n()).done;)c()}catch(o){i.e(o)}finally{i.f()}U(n),H(s);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,k.jsxs)(R.Z,{id:"s_"+e.sId,style:{width:"80%",maxWidth:"600px",margin:"auto"},children:[(0,k.jsx)(R.Z.Img,{ref:ce,style:{aspectRatio:"10/7"},variant:"top",src:_}),(0,k.jsxs)(R.Z.Body,{children:[(0,k.jsxs)("div",{style:{position:"absolute",top:"5px",left:"10px",right:"10px",opacity:"0.5"},children:[(0,k.jsx)("a",{onClick:function(){K(!P)},title:"Zettel drehen",children:(0,k.jsx)(i.G,{icon:a.go9})}),$.zettel_id>0?(0,k.jsx)("a",{onClick:function(){localStorage.setItem("searchBox_zettel",'[[{"id":0,"c":"id","o":"=","v":"'.concat($.zettel_id,'"}],1,["id"]]')),window.open("http://localhost:8080/?site=zettel")},style:{float:"right"},title:"Zettel bearbeiten",children:(0,k.jsx)(i.G,{icon:a.Yai})}):null]}),(0,k.jsxs)(C.Z,{className:"mb-2",children:[(0,k.jsx)(S.Z,{children:(0,k.jsx)(A.Z.Control,{placeholder:"Zitiertitel...",onFocus:function(){oe()},size:"sm",type:"text",value:E||"",onChange:function(e){N(e.target.value)},onBlur:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.sections.save({id:e.sId,ref:n.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),(0,k.jsx)(S.Z,{style:{textAlign:"right"},xs:4,children:(0,k.jsx)(ee,{setRessourceView:function(t){e.setRessourceView(t)},ressources:c})})]}),(0,k.jsx)(A.Z.Control,{placeholder:"Text der Stelle...",onFocus:function(){oe()},as:"textarea",rows:3,style:{fontSize:"95%"},value:B||"",onChange:function(e){D(e.target.value)},onBlur:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.sections.save({id:e.sId,text:n.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),p?(0,k.jsx)("div",{children:(0,k.jsx)(A.Z.Control,{className:"mt-2",placeholder:"Schreiben Sie einen Kommentar...",onFocus:function(){oe()},as:"textarea",rows:3,style:{fontSize:"95%"},value:v||"",onChange:function(e){y(e.target.value)},onBlur:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.Q.sections.save({id:e.sId,comment:n.target.value});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}):(0,k.jsx)("div",{style:{textAlign:"right"},children:(0,k.jsx)("a",{style:{fontSize:"90%"},className:"link-secondary",onClick:function(){h(!0)},children:"Kommentar hinzuf\xfcgen"})}),(0,k.jsx)(ne,{isVisible:ie,loadTags:(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:case"end":return e.stop()}}),e)}))),tags:W,project:e.project,s:$,unusedTags:Y,centerSection:function(){oe()}})]})]})}function ee(e){var t=(0,s.useState)(null),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.useState)(null),o=(0,r.Z)(c,2),u=o[0],l=o[1],d=function(t){fe("openExternal")?window.open(t):e.setRessourceView(t)};return(0,s.useEffect)((function(){0===e.ressources.length?a(null):1===e.ressources.length?a((0,k.jsx)(F.Z,{tabIndex:"-1",size:"sm",variant:"outline-secondary",style:{width:"100%"},onClick:function(){d(null===e.ressources[0].url||""===e.ressources[0].url?"http://localhost:8080/static/argos/index.html?site=edition&id="+e.ressources[0].id:e.ressources[0].url)},children:e.ressources[0].label})):l(e.ressources[0])}),[e.ressources]),(0,s.useEffect)((function(){null!=u&&a((0,k.jsxs)(v.Z,{as:P.Z,children:[(0,k.jsx)(F.Z,{size:"sm",variant:"outline-secondary",style:{width:"100%"},onClick:function(){d(null===u.url||""===u.url?"http://localhost:8080/static/argos/index.html?site=edition&id="+u.id:u.url)},children:u.label}),(0,k.jsx)(v.Z.Toggle,{split:!0,size:"sm",variant:"secondary",id:"dropdown-split-basic"}),(0,k.jsx)(v.Z.Menu,{children:e.ressources.map((function(e){return(0,k.jsx)(v.Z.Item,{onClick:function(){l(e)},children:e.label},e.id)}))})]}))}),[u]),i}function te(e){var t=(0,s.useState)(0),n=(0,r.Z)(t,2),i=n[0],a=n[1];(0,s.useEffect)((function(){}),[e.filterTags]);var c=function(t){e.setFilterTags(e.filterTags.filter((function(e){return e.id!==t.id})))},o=function(){var t=(0,f.Z)(x().mark((function t(n){var r,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=structuredClone(e.filterTags),t.next=3,j.Q.tags.get({project_id:e.project.id,name:n});case 3:s=t.sent,2===i&&(s[0].exclude=!0),r.push(s[0]),e.setFilterTags(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u="1px solid #ced4da",l=null;return 1===i?(u="1px solid var(--bs-yellow)",l="#ffecb1"):2===i&&(u="1px solid var(--bs-teal)",l="#e2f7ed"),(0,k.jsxs)("div",{className:"mt-2",id:"filter_box",style:{border:u,backgroundColor:l,padding:"2px 5px",display:"flex",alignContent:"flex-start",alignItems:"flex-start",flexWrap:"wrap",minHeight:"220px",borderRadius:"0.25rem",fontSize:"100%"},onClick:function(){var e=document.getElementById("filter_box");e.children[e.children.length-1].children[0].focus()},children:[e.filterTags.map((function(e){return(0,k.jsx)(ie,{t:e,removeTag:function(e){c(e)}},e.id)})),(0,k.jsx)(re,{inputMode:i,setInputMode:function(e){a(e)},tags:e.filterTags,addTag:function(e){o(e)},removeTag:function(e){c(e)},project:e.project})]})}function ne(e){var t=(0,s.useState)(!0),n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,k.jsxs)("div",{className:"mt-2",id:"tagBox_"+e.s.id,style:{border:i?"1px solid #ced4da":"1px solid var(--bs-yellow)",backgroundColor:i?null:"#ffecb1",padding:"2px 5px",display:"flex",alignItems:"flex-start",flexWrap:"wrap",minHeight:"110px",borderRadius:"0.25rem",fontSize:"100%"},onClick:function(){var t=document.getElementById("tagBox_"+e.s.id);t.children[t.children.length-2].focus()},children:[e.isVisible&&e.tags.map((function(t){return(0,k.jsx)(ae,{t:t,sectionId:e.s.id,loadTags:(0,f.Z)(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadTags();case 2:case"end":return t.stop()}}),t)})))},t.id)})),(0,k.jsx)(se,{inputMode:i,setInputMode:function(e){a(!i)},project:e.project,tags:e.tags,loadTags:(0,f.Z)(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadTags();case 2:case"end":return t.stop()}}),t)}))),sectionId:e.s.id,centerSection:function(){e.centerSection()}})]})}function re(e){var t=(0,s.useState)(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.useState)([]),o=(0,r.Z)(c,2),u=o[0],l=o[1],d=(0,s.useState)(-1),p=(0,r.Z)(d,2),h=p[0],g=p[1],m=function(){var t=(0,f.Z)(x().mark((function t(){var n,r,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.inputMode&&2!==e.inputMode){t.next=9;break}return n=e.tags.map((function(e){return e.name})),t.next=4,j.Q.tags.get({project_id:e.project.id});case 4:r=t.sent,s=r.filter((function(e){return!n.includes(e.name)})),l(""===i?s:s.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}))),t.next=10;break;case 9:l(""===i?e.tags:e.tags.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1})));case 10:g(-1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){(u.length>0||""!==i)&&m()}),[e.tags,i,e.inputMode]);var v=function(){var t=(0,f.Z)(x().mark((function t(n){var r,s,i=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i.length>1&&void 0!==i[1]&&i[1],0===e.inputMode||2===e.inputMode?e.tags.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))||(e.addTag(n),2===e.inputMode&&e.setInputMode(0)):(s=e.tags.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))&&(e.removeTag(s),e.setInputMode(0)),a(""),r?l([]):m();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z="#ced4da",y=null;return 1===e.inputMode?(Z="var(--bs-yellow)",y="#ffecb1"):2===e.inputMode&&(Z="var(--bs-teal)",y="#e2f7ed"),(0,k.jsxs)("div",{style:{width:"300px",position:"relative",display:"inline-block"},children:[(0,k.jsx)("input",{value:i,onChange:function(e){a(e.target.value)},onFocus:function(){m()},onBlur:function(){a(""),l([]),e.inputMode>0&&e.setInputMode(0)},type:"text",style:{background:"none",outline:"none",border:"none",margin:"1px 2px",padding:"4px 10px"},onKeyDown:function(t){!function(t){9===t.keyCode&&1===u.length?(t.preventDefault(),v(u[0].name)):27===t.keyCode?l([]):190===t.keyCode&&""===t.target.value?(t.preventDefault(),1!==e.inputMode?e.setInputMode(1):e.setInputMode(0)):173===t.keyCode&&""===t.target.value?(t.preventDefault(),2!==e.inputMode?e.setInputMode(2):e.setInputMode(0)):40===t.keyCode?h+1>=u.length?g(0):g(h+1):38===t.keyCode?g(h-1<0?u.length-1:h-1):13===t.keyCode&&(t.preventDefault(),h>-1?v(u[h].name):""!==t.target.value&&v(t.target.value))}(t)}}),u.length>0&&(0,k.jsx)("div",{className:"autocomplete-items",style:{borderColor:Z},children:u.map((function(e,t){return(0,k.jsx)("div",{style:{backgroundColor:y,borderColor:Z},onMouseDown:(0,f.Z)(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e.name,!0);case 2:case"end":return t.stop()}}),t)}))),className:t===h?"autocomplete-active":"",children:e.name},e.id)}))})]})}function se(e){var t=(0,s.useState)(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.useState)([]),o=(0,r.Z)(c,2),u=o[0],l=o[1],d=(0,s.useState)(-1),p=(0,r.Z)(d,2),h=p[0],g=p[1],m=function(){var t=(0,f.Z)(x().mark((function t(){var n,r,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.inputMode){t.next=9;break}return n=e.tags.map((function(e){return e.name})),t.next=4,j.Q.tags.get({project_id:e.project.id});case 4:r=t.sent,s=r.filter((function(e){return!n.includes(e.name)})),l(""===i?s:s.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}))),t.next=10;break;case 9:l(""===i?e.tags:e.tags.filter((function(e){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1})));case 10:g(-1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){(u.length>0||""!==i)&&m()}),[e.tags,i,e.inputMode]);var v=function(){var t=(0,f.Z)(x().mark((function t(n){var r,s,i,c,o,d=arguments;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>1&&void 0!==d[1]&&d[1],!e.inputMode){t.next=20;break}if(e.tags.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))){t.next=18;break}if(!(s=u.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))){t.next=11;break}return t.next=7,j.Q.tag_lnks.save({tag_id:s.id,section_id:e.sectionId});case 7:return t.next=9,e.loadTags();case 9:t.next=18;break;case 11:return t.next=13,j.Q.tags.save({name:n,color:oe(),project_id:e.project.id,user_id:e.project.user_id,shared_id:e.project.shared_id});case 13:return i=t.sent,t.next=16,j.Q.tag_lnks.save({tag_id:i,section_id:e.sectionId});case 16:return t.next=18,e.loadTags();case 18:t.next=30;break;case 20:if(!(c=e.tags.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))){t.next=30;break}return t.next=24,j.Q.tag_lnks.get({tag_id:c.id,section_id:e.sectionId});case 24:return o=t.sent,t.next=27,j.Q.tag_lnks.delete(o[0].id);case 27:return t.next=29,e.loadTags();case 29:e.setInputMode();case 30:a(""),r?l([]):m();case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,k.jsxs)("div",{style:{width:"300px",position:"relative",display:"inline-block"},children:[(0,k.jsx)("input",{value:i,onChange:function(e){a(e.target.value)},onFocus:function(){m(),e.centerSection()},onBlur:function(){a(""),l([]),e.inputMode||e.setInputMode()},type:"text",style:{background:"none",outline:"none",border:"none",margin:"1px 2px",padding:"4px 10px"},onKeyDown:function(t){!function(t){9===t.keyCode&&1===u.length?(t.preventDefault(),v(u[0].name)):27===t.keyCode?l([]):190===t.keyCode&&""===t.target.value?(t.preventDefault(),e.setInputMode()):173===t.keyCode&&""===t.target.value?t.preventDefault():40===t.keyCode?h+1>=u.length?g(0):g(h+1):38===t.keyCode?g(h-1<0?u.length-1:h-1):13===t.keyCode&&(t.preventDefault(),h>-1?v(u[h].name):""!==t.target.value&&v(t.target.value))}(t)}}),u.length>0&&(0,k.jsx)("div",{className:"autocomplete-items",style:{borderColor:e.inputMode?null:"var(--bs-yellow)"},children:u.map((function(t,n){return(0,k.jsx)("div",{style:{backgroundColor:e.inputMode?null:"#ffecb1",borderColor:e.inputMode?null:"var(--bs-yellow)"},onMouseDown:(0,f.Z)(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.name,!0);case 2:case"end":return e.stop()}}),e)}))),className:n===h?"autocomplete-active":"",children:t.name},t.id)}))})]})}function ie(e){return(0,k.jsxs)("div",{style:{cursor:"default",backgroundColor:e.t.exclude?"rgb(248,248,248)":e.t.color,fontWeight:"bold",color:e.t.exclude?e.t.color:"rgba(255,255,255, 0.8)",border:"1px solid ".concat(e.t.color),margin:"1px 2px",padding:"3px 15px 3px 18px",borderRadius:"18px"},children:[e.t.name,(0,k.jsx)(i.G,{onClick:function(){var t=(0,f.Z)(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),e.removeTag(e.t);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),style:{cursor:"pointer",margin:"4px 0 0 9px"},icon:a.uMC})]})}function ae(e){return(0,k.jsxs)("div",{style:{cursor:"default",backgroundColor:e.t.color,fontWeight:"bold",color:"rgba(255,255,255, 0.8)",margin:"1px 2px",padding:"3px 15px 3px 18px",borderRadius:"18px"},children:[e.t.name,(0,k.jsx)(i.G,{onClick:function(){var t=(0,f.Z)(x().mark((function t(n){var r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,j.Q.tag_lnks.get({tag_id:e.t.id,section_id:e.sectionId},{select:["id"]});case 3:return r=t.sent,t.next=6,j.Q.tag_lnks.delete(r[0].id);case 6:return t.next=8,e.loadTags();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),style:{cursor:"pointer",margin:"4px 0 0 9px"},icon:a.uMC})]})}function ce(e){var t=(0,s.useState)("lemma"),n=(0,r.Z)(t,2),c=n[0],u=n[1],l=(0,s.useState)(null),p=(0,r.Z)(l,2),h=p[0],g=p[1],m=(0,s.useState)(""),v=(0,r.Z)(m,2),y=v[0],w=v[1],b=(0,s.useState)(null),_=(0,r.Z)(b,2),C=_[0],S=_[1],Q=(0,s.useState)(null),I=(0,r.Z)(Q,2),M=I[0],E=I[1],N=(0,s.useState)(0),L=(0,r.Z)(N,2),T=L[0],B=L[1],D=(0,s.useState)(0),z=(0,r.Z)(D,2),A=z[0],R=z[1],P=(0,s.useState)([]),G=(0,r.Z)(P,2),W=G[0],J=G[1],Y=(0,s.useState)(1),U=(0,r.Z)(Y,2),X=U[0],q=U[1];(0,s.useEffect)((function(){var e=function(){var e=(0,f.Z)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=7;break}return e.next=3,j.Q.zettel.get({lemma_id:M},{count:!0});case 3:t=e.sent,B(t[0].count),e.next=8;break;case 7:B(0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[M]);var $,ee=[["lemma","Wort"],["type","Typ"],["id","ID"],["ac_web","Werk"],["date_type","Datum-Typ"],["date_own","eigenes Sortierdatum"],["date_own_display","eigenes Anzeigedatum"]],te=function(e){J(W.filter((function(t){return t.id!==e})))},ne=function(){var e=(0,f.Z)(x().mark((function e(){var t,n,r,s,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=(0,d.Z)(W);try{for(n.s();!(r=n.n()).done;)""!==(s=r.value).v&&t.push({c:s.c,o:s.o,v:s.v})}catch(a){n.e(a)}finally{n.f()}if(!(t.length>0)){e.next=11;break}return S(t),e.next=7,j.Q.zettel.search(t,{count:!0});case 7:i=e.sent,R(i[0].count),e.next=12;break;case 11:R(0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=[],se=(0,d.Z)(W);try{for(se.s();!($=se.n()).done;){var ie=$.value;re.push((0,k.jsx)(Z.Mj,{searchOptions:ee,removeSearchFields:function(e){te(e)},itemId:ie.id,c:ie.c,o:ie.o,v:ie.v,clickButton:ne,changeItem:function(e){J(W.map((function(t){return t.id===e.id?e:t})))}},ie.id))}}catch(ae){se.e(ae)}finally{se.f()}return(0,k.jsxs)(K.Z,{show:e.show,size:"lg",onHide:function(){e.onReplay(!1)},backdrop:"static",children:[(0,k.jsx)(K.Z.Header,{closeButton:!0,children:(0,k.jsx)(K.Z.Title,{children:"Zettel importieren"})}),(0,k.jsx)(K.Z.Body,{children:(0,k.jsx)(o.Z,{children:(0,k.jsxs)(O.Z,{defaultActiveKey:"0",children:[(0,k.jsxs)(O.Z.Item,{eventKey:"0",onClick:function(){u("lemma")},children:[(0,k.jsx)(O.Z.Header,{children:"Wort-Liste"}),(0,k.jsxs)(O.Z.Body,{children:[(0,k.jsx)(Z.Qc,{style:{width:"100%"},onChange:function(e,t){E(t),w(e)},value:y,tbl:"lemma",searchCol:"lemma",returnCol:"lemma_ac"}),T>0?(0,k.jsxs)(H,{pill:!0,bg:"success",className:"mt-2",children:[T," Zettel gefunden."]}):null]})]}),(0,k.jsxs)(O.Z.Item,{eventKey:"1",onClick:function(){u("zettel")},children:[(0,k.jsx)(O.Z.Header,{children:"Zettel-Datenbank"}),(0,k.jsxs)(O.Z.Body,{children:[(0,k.jsxs)("div",{className:"searchBox d-flex flex-wrap",children:[re,(0,k.jsx)(i.G,{color:"LightGray",icon:a.KtF,style:{color:"var(--mainColor)",position:"relative",top:"6px",fontSize:"25px",cursor:"pointer"},onClick:function(){!function(){var e=W;e.push({id:X,c:ee[0][0],o:"=",v:""}),q(X+1),J(e)}()}})]}),(0,k.jsxs)("div",{style:{textAlign:"right"},children:[A>0?(0,k.jsxs)(H,{pill:!0,bg:"success",className:"mt-2",style:{marginRight:"15px"},children:[A," Zettel gefunden."]}):null,(0,k.jsx)(F.Z,{variant:"light",onClick:function(){ne()},children:"Suchen"})]})]})]})]})})}),(0,k.jsxs)(K.Z.Footer,{children:[(0,k.jsx)(F.Z,{variant:"secondary",onClick:function(){e.onReplay(!1)},children:"Abbrechen"}),(0,k.jsxs)(F.Z,{variant:"primary",onClick:(0,f.Z)(x().mark((function t(){var n,r,s,i,a,o,u,l,f,p;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g((0,k.jsx)(V.Z,{style:{marginLeft:"10px"},animation:"border",size:"sm"})),n=["id","ac_web","img_path","date_sort","txt","type","work_id"],r=[],"lemma"!==c){t.next=9;break}return t.next=6,j.Q.zettel.get({lemma_id:M},{select:n});case 6:r=t.sent,t.next=12;break;case 9:return t.next=11,j.Q.zettel.search(C,{select:n});case 11:r=t.sent;case 12:return s={},t.next=15,j.Q.tags.get({project_id:e.project.id});case 15:t.sent.forEach((function(e){s[e.name]=e.id})),i=(0,d.Z)(r),t.prev=18,i.s();case 20:if((a=i.n()).done){t.next=40;break}return o=a.value,t.next=24,j.Q.comment.get({zettel_id:o.id},{select:["comment","user"]});case 24:return u=t.sent,t.next=27,j.Q.sections.save({zettel_id:o.id,project_id:e.project.id,ref:o.ac_web,text:o.txt,comment:u.length>0?u.map((function(e){return"".concat(e.user,":\n").concat(e.comment,"\n")})).join("\n\n"):null,date_sort:o.date_sort,img:o.img_path,user_id:e.project.user_id,shared_id:e.project.shared_id,work_id:o.work_id});case 27:if(l=t.sent,f=null,1===o.type?f="verzettelt":2===o.type?f="Exzerpt":3===o.type?f="Index":6===o.type?f="Index (unkl. Werk)":7===o.type&&(f="Notiz"),!f){t.next=38;break}if(Object.keys(s).includes(f)){t.next=36;break}return t.next=34,j.Q.tags.save({name:f,color:oe(),project_id:e.project.id,user_id:e.project.user_id,shared_id:e.project.shared_id});case 34:p=t.sent,s[f]=p;case 36:return t.next=38,j.Q.tag_lnks.save({tag_id:s[f],section_id:l,user_id:e.project.user_id,shared_id:e.project.shared_id});case 38:t.next=20;break;case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(18),i.e(t.t0);case 45:return t.prev=45,i.f(),t.finish(45);case 48:g(null),e.onReplay(!0);case 50:case"end":return t.stop()}}),t,null,[[18,42,45,48]])}))),disabled:!("lemma"===c&&T>0||"zettel"===c&&A>0),children:["Zettel laden",h]})]})]})}function oe(){var e=["#023FA5","#7D87A5","#BEC1D4","#D6BCC0","#BB7784","#8E063B","#4A6FE3","#8595E1","#B5BBE3","#E6AFB9","#E07B91","#D33F6A","#11C638","#8DD593","#C6DEC7","#EAD3C6","#F0B98D","#EF9708","#0FCFC0","#9CDED6","#D5EAE7","#F3E1EB","#F6C4E1","#F79CD4"];return e[Math.floor(Math.random()*e.length)]}var ue=n(2583);function le(e){var t=de(),n=(0,s.useState)(t.openExternal),i=(0,r.Z)(n,2),a=i[0],c=i[1];return(0,s.useEffect)((function(){pe("openExternal",a)}),[a]),(0,k.jsxs)(o.Z,{children:[(0,k.jsx)("h1",{children:"Einstellungen"}),(0,k.jsxs)(C.Z,{children:[(0,k.jsx)(S.Z,{children:"\xd6ffnen der Ressourcen:"}),(0,k.jsx)(S.Z,{children:(0,k.jsxs)(A.Z,{children:[(0,k.jsx)(A.Z.Check,{type:"radio",name:"ressource",label:"extern",checked:a,onChange:function(){c(!0)}}),(0,k.jsx)(A.Z.Check,{type:"radio",name:"ressource",label:"Seite-an-Seite",checked:!a,onChange:function(){c(!1)}})]})})]})]})}function de(){var e=JSON.parse(localStorage.getItem("editor_settings"));return null===e&&(e={}),e.hasOwnProperty("projectSort")||(e.projectSort="name"),e.hasOwnProperty("openExternal")||(e.openExternal=!1),e}function fe(e){return de()[e]}function pe(e,t){var n=de();n[e]=t,localStorage.setItem("editor_settings",JSON.stringify(n))}function xe(e){j.Q.changeLog=ge;var t=null;switch(e.res){case null:t=(0,k.jsx)(y,{loadMain:function(){e.loadMain.apply(e,arguments)}});break;case"editor":t=(0,k.jsx)(U,{loadMain:function(){e.loadMain.apply(e,arguments)},resId:e.resId});break;case"changelog":t=(0,k.jsx)(ue.v,{});break;case"settings":t=(0,k.jsx)(le,{});break;default:t=(0,k.jsxs)("div",{children:['Unbekannter Men\xfc-Punkt: "',e.res,'"']})}return(0,k.jsx)(k.Fragment,{children:t})}function he(e){var t=(0,s.useState)([]),n=(0,r.Z)(t,2),d=n[0],f=(n[1],(0,s.useState)("zuletzte ge\xf6ffnet")),p=(0,r.Z)(f,2),x=p[0];p[1];return(0,k.jsx)(c.Z,{bg:"dark",variant:"dark",fixed:"top",children:(0,k.jsxs)(o.Z,{fluid:!0,children:[(0,k.jsx)(c.Z.Brand,{style:{cursor:"pointer"},onClick:function(t){e.loadMain(t,null)},children:"Editor"}),(0,k.jsx)(c.Z.Toggle,{}),(0,k.jsx)(c.Z.Collapse,{className:"justify-content-end",children:(0,k.jsxs)(u.Z,{children:[(0,k.jsx)(l.Z,{title:x,children:d}),(0,k.jsxs)(l.Z,{title:"Einstellungen",children:[(0,k.jsx)(l.Z.Item,{onClick:function(t){e.loadMain(t,"settings")},children:"Konto"}),(0,k.jsx)(l.Z.Item,{onClick:function(t){e.loadMain(t,"changelog")},children:"\xc4nderungen"})]}),(0,k.jsx)(u.Z.Link,{children:(0,k.jsx)(i.G,{icon:a.jLD,onClick:function(t){e.loadMain(t,"logout")},title:"abmelden"})})]})})]})})}var ge=[{title:"Beta 1.0",date:"2022-06-10",description:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("p",{children:"Beta Version online!"})})}]}}]);
//# sourceMappingURL=605.d922b359.chunk.js.map