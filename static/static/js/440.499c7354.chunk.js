"use strict";(self.webpackChunkatlas=self.webpackChunkatlas||[]).push([[440],{3440:function(e,t,n){n.r(t),n.d(t,{BatchInputType:function(){return _},DOMImportRessource:function(){return O},DOMImportZettel:function(){return R},DOMOpera:function(){return L},DOMRessource:function(){return W},Etudaus:function(){return Q},IndexBoxDetail:function(){return H},Konkordanz:function(){return D},LemmaAsideContent:function(){return k},LemmaHeader:function(){return b},LemmaRow:function(){return Z},MainMenuContent:function(){return B},StatisticsChart:function(){return T},ZettelAddLemmaContent:function(){return C},ZettelCard:function(){return S},ZettelSingleContent:function(){return F},arachneTbls:function(){return f},exportZettelObject:function(){return I},fetchIndexBoxData:function(){return M},lemmaSearchItems:function(){return v},newZettelObject:function(){return z},zettelBatchOptions:function(){return y},zettelPresetOptions:function(){return E},zettelSearchItems:function(){return w},zettelSortOptions:function(){return N}});var r=n(7762),a=n(4165),l=n(5861),s=n(885),i=n(3222),o=n(6407),c=n(2791),u=n(7022),d=n(9743),m=n(2677),h=n(2354),x=n(3350),p=(n(444),n(9683)),g=n(184);function f(){return["lemma","work","zettel","user","konkordanz","opera","comment","etudaus","ocr_jobs","edition","scan","scan_lnk","scan_paths","statistics"]}function b(){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{width:"30%",children:"Lemma"}),(0,g.jsx)("th",{width:"20%",children:"Farbe"}),(0,g.jsx)("th",{children:"Kommentar"}),(0,g.jsx)("th",{children:"dom en ligne"})]})}var j={gelb:"#E9AB17","gr\xfcn":"green",blau:"#0000A0",rot:"#C11B17",lila:"#4B0082","t\xfcrkis":"#3f888f"};function Z(e){return(0,g.jsxs)("tr",{id:e.lemma.id,onDoubleClick:function(t){e.showDetail(parseInt(t.target.closest("tr").id))},children:[(0,g.jsx)("td",{title:"ID: "+e.lemma.id,children:(0,g.jsx)("a",{dangerouslySetInnerHTML:(0,i.rg)(e.lemma.lemma_display),onClick:function(t){localStorage.setItem("searchBox_zettel",'[[{"id":0,"c":"lemma_id","o":"=","v":'.concat(e.lemma.id,'}],1,["id"]]')),e.loadMain(t)}})}),(0,g.jsx)("td",{style:{color:j[e.lemma.farbe]},children:e.lemma.farbe}),(0,g.jsx)("td",{dangerouslySetInnerHTML:(0,i.rg)(e.lemma.comment)}),(0,g.jsx)("td",{children:e.lemma.URL?(0,g.jsx)("a",{href:"https://dom-en-ligne.de/"+e.lemma.URL,target:"_blank",rel:"noreferrer",children:"zum Artikel"}):null})]})}function v(){return[["lemma","Lemma"],["id","ID"],["farbe","Farbe"],["URL","URL"]]}function k(e){var t=(0,c.useState)(e.item.lemma),n=(0,s.Z)(t,2),h=n[0],x=n[1],p=(0,c.useState)(e.item.lemma_simple),f=(0,s.Z)(p,2),b=f[0],j=f[1],Z=(0,c.useState)(e.item.nr),v=(0,s.Z)(Z,2),k=v[0],w=v[1],S=(0,c.useState)(e.item.normgraphie),y=(0,s.Z)(S,2),_=y[0],C=y[1],F=(0,c.useState)(e.item.dom_normgraphie),z=(0,s.Z)(F,2),I=z[0],E=z[1],N=(0,c.useState)(e.item.verworfen),B=(0,s.Z)(N,2),L=B[0],A=B[1],D=(0,c.useState)(e.item.unsicher),Q=(0,s.Z)(D,2),W=Q[0],M=Q[1],H=(0,c.useState)(e.item.farbe),T=(0,s.Z)(H,2),O=T[0],R=T[1],V=(0,c.useState)(e.item.comment),J=(0,s.Z)(V,2),K=J[0],G=J[1],U=(0,c.useState)(e.item.reference_id),Y=(0,s.Z)(U,2),P=Y[0],X=Y[1],$=(0,c.useState)(e.item.reference),q=(0,s.Z)($,2),ee=q[0],te=q[1];return(0,c.useEffect)((function(){x(e.item.lemma),j(e.item.lemma_simple),w(e.item.nr),C(e.item.normgraphie),E(e.item.dom_normgraphie),A(e.item.verworfen),M(e.item.unsicher),R(e.item.farbe),G(e.item.comment),X(e.item.reference_id),te(e.item.reference)}),[e.id]),(0,g.jsxs)(u.Z,{children:[(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"Wort:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",value:h,onChange:function(e){x(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsxs)(m.Z,{children:["Wort: ",(0,g.jsx)("small",{children:"(ohne Sonderz.)"})]}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",value:b,onChange:function(e){j(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"Farbe:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[["gelb","gelb"],["gr\xfcn","gr\xfcn"],["rot","rot"],["blau","blau"],["lila","lila"],["t\xfcrkis","t\xfcrkis"]],onChange:function(e){R(e.target.value)},value:O})})]}),["blau","t\xfcrkis","lila"].includes(O)?(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(m.Z,{children:"Referenz:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.Qc,{onChange:function(e,t){te(e),X(t)},tbl:"lemma",col:"ac_w",value:ee})})]}):null,(0,g.jsxs)(d.Z,{className:"mt-4 mb-2",children:[(0,g.jsx)(m.Z,{children:"Homonym-Nr.:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",value:k,onChange:function(e){w(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"Normgraphie:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){C(e.target.value)},value:_})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"DOM-Normgraphie:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){E(e.target.value)},value:I})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"verworfen:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){A(e.target.value)},value:L})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"unsicher:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){M(e.target.value)},value:W})})]}),(0,g.jsxs)(d.Z,{className:"mb-4",children:[(0,g.jsx)(m.Z,{children:"Kommentar:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("textarea",{onChange:function(e){G(e.target.value)},style:{resize:"false",width:"97%"},value:K})})]}),(0,g.jsx)(d.Z,{children:(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(i.YG,{value:"speichern",onClick:(0,l.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==h){t.next=4;break}return t.abrupt("return",{status:!1,error:"Bitte ein g\xfcltiges Wort eintragen!"});case 4:if(""!==b){t.next=8;break}return t.abrupt("return",{status:!1,error:"Bitte tragen Sie eine g\xfcltiges Wort (ohne Sonderzeichen) ein!"});case 8:return n={id:e.id,lemma:h,lemma_simple:b,reference_id:P,normgraphie:_,dom_normgraphie:I,verworfen:L,unsicher:W,farbe:O,comment:K},isNaN(k)||(n.nr=k),t.next=12,o.Q.lemma.save(n);case 12:return e.onUpdate(e.id),t.abrupt("return",{status:!0});case 14:case"end":return t.stop()}}),t)})))}),o.Q.access("l_edit")?(0,g.jsx)(i.YG,{style:{marginLeft:"10px"},variant:"danger",value:"l\xf6schen",onClick:(0,l.Z)((0,a.Z)().mark((function t(){var n,l,s,i,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll das Wort gel\xf6scht werden? Das Wort wird von allen verkn\xfcpften Zettel entfernt. Dieser Schritt kann nicht r\xfcckg\xe4ngig gemacht werden!")){t.next=15;break}return t.next=3,o.Q.zettel.get({lemma_id:e.id});case 3:n=t.sent,l=[],s=(0,r.Z)(n);try{for(s.s();!(i=s.n()).done;)c=i.value,l.push({id:c.id,lemma_id:null})}catch(a){s.e(a)}finally{s.f()}if(!(l.length>0)){t.next=10;break}return t.next=10,o.Q.zettel.save(l);case 10:return t.next=12,o.Q.lemma.delete(e.id);case 12:return e.onClose(),e.onReload(),t.abrupt("return",{status:!0});case 15:case"end":return t.stop()}}),t)})))}):null]})})]})}function w(){return[["lemma_simple","Wort"],["lemma_id","Wort-ID"],["farbe","Farbe"],["id","ID"],["editor","EditorIn"],["comment","Kommentar"],["zettel_sigel","Sigel"]]}function S(e){var t=e.item,n={width:o.Q.options.z_width+"px",height:"100%"},r=null;if(null!=t.img_path){var a="";0===t.in_use?a+="zettel_img no_use":a+="zettel_img in_use",r=(0,g.jsxs)("div",{className:"zettel",id:t.id,style:n,children:[(0,g.jsx)("img",{alt:"",style:{objectFit:"fill",borderRadius:"7px"},className:a,src:"/dom"+t.img_path+".jpg"}),e.showDetail?(0,g.jsxs)("div",{className:"zettel_menu",children:[(0,g.jsx)("span",{style:{float:"left",overflow:"hidden",maxHeight:"50px",maxWidth:"250px"},dangerouslySetInnerHTML:(0,i.rg)(t.lemma_display)}),(0,g.jsx)("span",{style:{float:"right"},dangerouslySetInnerHTML:(0,i.rg)(t.zettel_sigel)})]}):null]})}else r=(0,g.jsx)("div",{className:"zettel",id:t.id,style:n,children:(0,g.jsxs)("div",{className:"digitalZettel",children:[(0,g.jsx)("div",{className:"digitalZettelLemma",dangerouslySetInnerHTML:(0,i.rg)(t.lemma_display)}),(0,g.jsx)("div",{className:"digitalZettelWork",dangerouslySetInnerHTML:(0,i.rg)(t.zettel_sigel)}),(0,g.jsx)("div",{className:"digitalZettelText",dangerouslySetInnerHTML:(0,i.rg)(t.txt)})]})});return r}function y(){return[[1,"Wort","lemma_id",!0],[2,"Sigel","konkordanz_id",!0]]}function _(e){switch(e.batchType){case 1:return(0,g.jsx)(i.Qc,{onChange:function(t,n){e.setBatchValue(t),e.setBatchValueId(n)},value:e.batchValue,tbl:"lemma",searchCol:"ac_w",returnCol:"ac_w"});case 2:return(0,g.jsx)(i.Qc,{value:e.batchValue,tbl:"konkordanz",searchCol:"zettel_sigel",returnCol:"zettel_sigel",onChange:function(t,n){e.setBatchValue(t),e.setBatchValueId(n)}});default:return(0,g.jsx)("div",{style:{color:"red"},children:"Unbekannter Stapel-Typ!"})}}function C(e){var t=(0,c.useState)(e.newLemma),n=(0,s.Z)(t,2),r=n[0],a=n[1],l=(0,c.useState)(e.newLemmaDisplay),o=(0,s.Z)(l,2),u=o[0],h=o[1],x=(0,c.useState)(0),p=(0,s.Z)(x,2),f=p[0],b=p[1],j=(0,c.useState)("gelb"),Z=(0,s.Z)(j,2),v=Z[0],k=Z[1],w=(0,c.useState)(""),S=(0,s.Z)(w,2),y=S[0],_=S[1],C=(0,c.useState)(null),F=(0,s.Z)(C,2),z=F[0],I=F[1],E=(0,c.useState)(0),N=(0,s.Z)(E,2),B=N[0],L=N[1],A=(0,c.useState)(0),D=(0,s.Z)(A,2),Q=D[0],W=D[1],M=(0,c.useState)(0),H=(0,s.Z)(M,2),T=H[0],O=H[1],R=(0,c.useState)(0),V=(0,s.Z)(R,2),J=V[0],K=V[1],G=(0,c.useState)(""),U=(0,s.Z)(G,2),Y=U[0],P=U[1],X=(0,c.useState)(!1),$=(0,s.Z)(X,2),q=$[0],ee=$[1],te=(0,c.useState)(!1),ne=(0,s.Z)(te,2),re=ne[0],ae=ne[1],le=["blau","t\xfcrkis","lila"];return(0,c.useEffect)((function(){e.setLemmaObject({lemma:r,lemma_simple:u,nr:f>0?f:null,farbe:v,reference_id:le.includes(v)?z:null,normgraphie:B,dom_normgraphie:Q,verworfen:T,unsicher:J,comment:""!==Y?Y:null}),ee(""===r),ae(""===u),""===r||r.indexOf(" ")>-1||""===u?e.setNewLemmaOK(!1):e.setNewLemmaOK(!0)}),[r,u,f,v,y,B,Q,T,J,Y]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"Wort:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",className:q?"invalidInput":null,value:r,onChange:function(e){a(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsxs)(m.Z,{children:["Wort: ",(0,g.jsx)("small",{children:"(ohne Sonderzeichen)"})]}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",className:re?"invalidInput":null,value:u,onChange:function(e){h(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(m.Z,{children:"Farbe:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[["gelb","gelb"],["gr\xfcn","gr\xfcn"],["rot","rot"],["blau","blau"],["lila","lila"],["t\xfcrkis","t\xfcrkis"]],onChange:function(e){k(e.target.value)}})})]}),le.includes(v)?(0,g.jsxs)(d.Z,{className:"mt-2",children:[(0,g.jsx)(m.Z,{children:"Referenz:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.Qc,{onChange:function(e,t){_(e),I(t)},tbl:"lemma",col:"ac_w"})})]}):null,(0,g.jsxs)(d.Z,{className:"mt-4 mb-2",children:[(0,g.jsx)(m.Z,{children:"Zahlzeichen:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,""],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]],onChange:function(e){b(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"Normgraphie:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){L(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"DOM-Normgraphie:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){W(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"verworfen:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){O(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{children:"unsicher:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(e){K(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-4",children:[(0,g.jsx)(m.Z,{children:"Kommentar:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("textarea",{onChange:function(e){P(e.target.value)},style:{resize:"false",width:"97%"},value:Y})})]})]})}function F(e){var t=(0,c.useState)(e.item.ac_w),n=(0,s.Z)(t,2),r=n[0],u=n[1],h=(0,c.useState)(e.item.lemma_id),x=(0,s.Z)(h,2),p=x[0],f=x[1],b=(0,c.useState)(e.item.zettel_sigel),j=(0,s.Z)(b,2),Z=j[0],v=j[1],k=(0,c.useState)(e.item.konkordanz_id),w=(0,s.Z)(k,2),S=w[0],y=w[1],_=(0,c.useState)(e.item.txt),C=(0,s.Z)(_,2),F=C[0],z=C[1],I=(0,c.useState)(null),E=(0,s.Z)(I,2),N=E[0],B=E[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Q.konkordanz.get({id:S},{select:["opera_id"]});case 2:if(!((t=e.sent).length>0)){e.next=11;break}return e.next=6,o.Q.opera.get({id:t[0].opera_id});case 6:n=e.sent,console.log(n),n.length>0?B(n[0]):B(null),e.next=12;break;case 11:B(null);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();S>0?e():B(null)}),[S]),(0,c.useEffect)((function(){u(e.item.ac_w),f(e.item.lemma_id),v(e.item.zettel_sigel),y(e.item.konkordanz_id),z(e.item.txt)}),[e.item.id]),(0,c.useEffect)((function(){e.setZettelObject({id:e.item.id,lemma_id:p>0?p:null,konkordanz_id:S>0?S:null,txt:F})}),[F,p,S]),(0,c.useEffect)((function(){e.setLemma(r)}),[r]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:4,children:"Wort:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.Qc,{classList:"onOpenSetFocus",style:{width:"100%"},onChange:function(e,t){u(e),f(t)},value:r||"",tbl:"lemma",searchCol:"ac_w",returnCol:"ac_w"})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:4,children:"Sigel:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.Qc,{style:{width:"100%"},value:Z||"",tbl:"konkordanz",searchCol:"zettel_sigel",returnCol:"zettel_sigel",onChange:function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),y(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})})]}),N?(0,g.jsx)(d.Z,{children:(0,g.jsx)(m.Z,{children:(0,g.jsxs)("small",{children:[(0,g.jsx)("b",{children:N.sigel})," = ",(0,g.jsx)("span",{dangerouslySetInnerHTML:(0,i.rg)(N.werk)})]})})}):null,null===e.item.img_path&&(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:4,children:"Text:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("textarea",{style:{width:"100%"},value:F,onChange:function(e){z(e.target.value)}})})]})]})}function z(){return{txt:"Neuer Zettel"}}function I(){return["img_path","zettel_sigel","lemma_display","txt"]}function E(){return null}function N(){return[['["id"]',"ID"],['["lemma_simple"]',"Lemma"]]}function B(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.Z.Item,{onClick:function(t){e.loadMain(t,"konkordanz")},children:"Konkordanz"}),(0,g.jsx)(h.Z.Item,{onClick:function(t){e.loadMain(t,"quellenverzeichnis")},children:"Quellenverzeichnis"}),(0,g.jsx)(h.Z.Item,{onClick:function(t){e.loadMain(t,"etudaus")},children:"Etudaus"}),(0,g.jsx)(h.Z.Item,{onClick:function(t){e.loadMain(t,"domressource")},children:"Ressourcen"})]})}function L(e){var t=[["neuer Eintrag",function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll ein neuer Eintrag erstellt werden?")){e.next=5;break}return e.next=3,o.Q.opera.save({sigel:"neues Werk"});case 3:n=e.sent,t.setState({newItemCreated:[{id:0,c:"id",o:"=",v:n}]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]];return(0,g.jsx)(i.HA,{tblName:"opera",searchOptions:[["sigel","Sigel"],["id","ID"],["konkordanz_count","verknpft. Konk."]],sortOptions:[['["id"]',"ID"],['["sigel"]',"Sigel"]],menuItems:t,tblRow:A,tblHeader:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("th",{children:"Sigel"}),(0,g.jsx)("th",{children:"Titel der Quelle"}),(0,g.jsx)("th",{children:"Bibliographie"}),(0,g.jsx)("th",{children:"verknpft. Konkordanz-Eintr\xe4ge"})]}),asideContent:[{caption:"dol-ID",type:"text",col:"db_id"},{caption:"Sigel",type:"text",col:"sigel"},{caption:"Quelle",type:"text",col:"werk"},{caption:"Bib-Grau",type:"text",col:"bibgrau"},{caption:"Bib-Zusatz",type:"text",col:"bibzusatz"},{caption:"Bib-Voll",type:"text",col:"bibvoll"}]})}function A(e){var t=(0,c.useState)([]),n=(0,s.Z)(t,2),r=n[0],u=n[1];return(0,c.useEffect)((function(){var t=function(){var t=(0,l.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Q.edition.get({opera_id:e.cEl.id},{select:["id","url","label"]});case 2:n=t.sent,u(n.map((function(e){return(0,g.jsx)("li",{children:(0,g.jsx)("a",{href:e.url?e.url:"/dom/argos/".concat(e.id),target:"_blank",rel:"noreferrer",children:e.label})},e.id)})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{title:"ID: "+e.cEl.id,dangerouslySetInnerHTML:(0,i.rg)(e.cEl.sigel)}),(0,g.jsx)("td",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.werk)}),(0,g.jsxs)("td",{className:"minorTxt",children:[e.cEl.bibgrau&&(0,g.jsx)("p",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.bibgrau)}),e.cEl.bibvoll&&(0,g.jsx)("p",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.bibvoll)}),e.cEl.bibzusatz&&(0,g.jsx)("p",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.bibzusatz)}),u.length>0&&(0,g.jsx)("ul",{className:"noneLst",children:r})]}),(0,g.jsx)("td",{style:{textAlign:"right"},children:e.cEl.konkordanz_count})]})}function D(e){var t=[["neuer Eintrag",function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll ein neuer Eintrag erstellt werden?")){e.next=5;break}return e.next=3,o.Q.konkordanz.save({zettel_sigel:"neuer Verweis"});case 3:n=e.sent,t.setState({newItemCreated:[{id:0,c:"id",o:"=",v:n}]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]];return(0,g.jsx)(i.HA,{tblName:"konkordanz",searchOptions:[["zettel_sigel","Sigel"],["id","ID"],["opera_id","Werk-ID"]],sortOptions:[['["id"]',"ID"],['["zettel_sigel"]',"Sigel"]],menuItems:t,tblRow:function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{title:"ID: "+e.cEl.id,dangerouslySetInnerHTML:(0,i.rg)(e.cEl.zettel_sigel)}),(0,g.jsx)("td",{children:e.cEl.comment}),(0,g.jsx)("td",{children:e.cEl.opera_id&&(0,g.jsxs)("span",{children:[e.cEl.opera," ",(0,g.jsxs)("i",{className:"minorTxt",children:["(ID: ",e.cEl.opera_id,")"]})]})})]})},tblHeader:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("th",{children:"Angabe auf Zettel"}),(0,g.jsx)("th",{children:"Bemerkung"}),(0,g.jsx)("th",{children:"Quelle"})]}),asideContent:[{caption:"Zettel-Sigel",type:"text",col:"zettel_sigel"},{caption:"verknpft. Quelle",type:"auto",col:["sigel","opera_id"],search:{tbl:"opera",sCol:"sigel",rCol:"sigel"}},{caption:"Kommentar",type:"area",col:"comment"}]})}function Q(e){var t=[["neuer Eintrag",function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll ein neuer Eintrag erstellt werden?")){e.next=5;break}return e.next=3,o.Q.etudaus.save({zettel_sigel:"neuer Verweis"});case 3:n=e.sent,t.setState({newItemCreated:[{id:0,c:"id",o:"=",v:n}]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]];return(0,g.jsx)(i.HA,{tblName:"etudaus",searchOptions:[["sigel","Sigel"],["id","ID"],["opera_id","Werk-ID"],["werk","Quelle"]],sortOptions:[['["id"]',"ID"],['["sigel"]',"Sigel"]],menuItems:t,tblRow:function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{title:"ID: "+e.cEl.id,dangerouslySetInnerHTML:(0,i.rg)(e.cEl.sigel)}),(0,g.jsx)("td",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.werk)}),(0,g.jsx)("td",{dangerouslySetInnerHTML:(0,i.rg)(e.cEl.opera)})]})},tblHeader:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("th",{children:"Angabe auf Zettel"}),(0,g.jsx)("th",{children:"Werk"}),(0,g.jsx)("th",{children:"Quelle"})]}),asideContent:[{caption:"Sigel",type:"text",col:"sigel"},{caption:"verknpft. Quelle",type:"auto",col:["opera","opera_id"],search:{tbl:"opera",sCol:"sigel",rCol:"sigel"}},{caption:"Titel der Quelle",type:"area",col:"werk"}]})}function W(e){var t=[["neuer Eintrag",function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Soll ein neuer Eintrag erstellt werden?")){e.next=5;break}return e.next=3,o.Q.edition.save({editor:"EditorIn",year:2022});case 3:n=e.sent,t.setState({newItemCreated:[{id:0,c:"id",o:"=",v:n}]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]],n=[{caption:"EditorIn",type:"text",col:"editor"},{caption:"Jahr",type:"text",col:"year"},{caption:"verknpft. Werk",type:"auto",col:["ac_web","opera_id"],search:{tbl:"opera",sCol:"sigel",rCol:"sigel"}},{caption:(0,g.jsxs)("span",{children:["URL ",(0,g.jsx)("small",{children:"(extern)"})]}),type:"text",col:"url"},{caption:(0,g.jsxs)("span",{children:["Pfad ",(0,g.jsx)("small",{children:"(auf dem Server)"})]}),type:"text",col:"path"},{caption:"Kommentar",type:"area",col:"comment"},{caption:"Seiten-verh\xe4ltnis",type:"text",col:"aspect_ratio"}];return(0,g.jsx)(i.HA,{tblName:"edition",searchOptions:[["id","ID"],["editor","EditorIn"],["year","Jahr"]],sortOptions:[['["id"]',"ID"]],menuItems:t,tblRow:function(e){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("td",{title:"ID: "+e.cEl.id,children:[e.cEl.editor," ",e.cEl.year]}),(0,g.jsxs)("td",{children:[e.cEl.ac_web," ",(0,g.jsxs)("small",{children:["(ID ",e.cEl.opera_id,")"]})]})]})},tblHeader:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("th",{children:"K\xfcrzel"}),(0,g.jsx)("th",{children:"verknpft. Werk"})]}),asideContent:n})}var M=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Q.lemma.getAll({select:["id","lemma_display","lemma_simple","nr","farbe"],order:["lemma_simple"]});case 2:return t=(t=e.sent).map((function(e){var t='<span style="color: '.concat(j[e.farbe],'">').concat(e.lemma_display,"</span>");return{id:e.id,lemma_display:t,lemma:e.lemma_simple?e.lemma_simple.toLowerCase():""}})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(e){var t=(0,c.useState)(null),n=(0,s.Z)(t,2),r=n[0],u=n[1],d=(0,c.useState)(null),m=(0,s.Z)(d,2),h=m[0],x=m[1];return(0,c.useEffect)((function(){var t=function(){var t=(0,l.Z)((0,a.Z)().mark((function t(){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Q.lemma.get({id:e.lemma_id});case 2:return n=t.sent,u(n[0]),t.next=6,o.Q.zettel.get({lemma_id:e.lemma_id});case 6:r=t.sent,x(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();u(null),x(null),t()}),[e.lemma_id]),r?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h1",{children:[(0,g.jsx)("span",{dangerouslySetInnerHTML:(0,i.rg)(r.lemma_display)}),(0,g.jsxs)("small",{style:{fontSize:"40%",marginLeft:"10px"},children:["(ID ",r.id,")"]})]}),(0,g.jsx)("div",{children:r.URL?(0,g.jsx)("a",{href:"https://dom-en-ligne.de/"+r.URL,target:"_blank",children:"zum Artikel"}):(0,g.jsx)("span",{children:"Kein Artikel verf\xfcgbar."})}),(0,g.jsx)("div",{children:null!==h?0===h.length?(0,g.jsx)("span",{children:"Keine Zettel mit diesem Lemma verkn\xfcpft!"}):h.map((function(e){return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{children:(0,g.jsx)("img",{style:{width:o.Q.options.z_width},src:"https://dienste.badw.de:9999/dom"+e.img_path+".jpg"})}),(0,g.jsxs)("div",{children:[e.opera," (",e.id,")"]})]},e.id)})):(0,g.jsx)("span",{children:"Zettel werden geladen..."})})]}):(0,g.jsx)("div",{children:"Daten werden geladen..."})}function T(e){var t=null;switch(e.name){case"lemma_letter":case"zettel_letter":t=(0,g.jsxs)("div",{style:{marginBottom:"80px",margin:"auto",width:"70%",height:"600px"},children:[(0,g.jsx)("h4",{children:"nach Buchstaben"}),(0,g.jsx)(p.$Q,{options:{plugins:{legend:{display:!1,position:"bottom"}},scales:{x:{stacked:!0},y:{stacked:!0}}},data:{labels:["A","B","C","D","E","F","G","H","I","K","L","M","N","O","P","Q","R","S","T","U","V","X","Y","Z"],datasets:[{label:"blau",data:e.data[0],backgroundColor:j.blau,borderColor:j.blau,borderWidth:1},{label:"lila",data:e.data[1],backgroundColor:j.lila,borderColor:j.lila,borderWidth:1},{label:"t\xfcrkis",data:e.data[2],backgroundColor:j["t\xfcrkis"],borderColor:j["t\xfcrkis"],borderWidth:1},{label:"rot",data:e.data[3],backgroundColor:j.rot,borderColor:j.rot,borderWidth:1},{label:"gr\xfcn",data:e.data[4],backgroundColor:j["gr\xfcn"],borderColor:j["gr\xfcn"],borderWidth:1},{label:"gelb",data:e.data[5],backgroundColor:j.gelb,borderColor:j.gelb,borderWidth:1}]}})]});break;case"lemma_farbe":t=(0,g.jsxs)("div",{style:{margin:"auto",marginBottom:"80px",width:"450px",height:"450px"},children:[(0,g.jsx)("h4",{children:"nach Farbe"}),(0,g.jsx)(p.by,{options:{plugins:{legend:{display:!0,position:"bottom"}}},data:{labels:["blau","gelb","gr\xfcn","lila","rot","t\xfcrkis","keine"],datasets:[{label:"",data:e.data,backgroundColor:[j.blau,j.gelb,j["gr\xfcn"],j.lila,j.rot,j["t\xfcrkis"],"#EAF2F3"],borderColor:[j.blau,j.gelb,j["gr\xfcn"],j.lila,j.rot,j["t\xfcrkis"],"#EAF2F3"],borderWidth:1}]}})]});break;case"zettel_process":t=(0,g.jsxs)("div",{style:{margin:"auto",marginBottom:"80px",width:"450px",height:"450px"},children:[(0,g.jsx)("h4",{children:"nach Bearbeitungsstand"}),(0,g.jsx)(p.by,{options:{plugins:{legend:{position:"bottom"}}},data:{labels:["abgeschlossen","nur Lemma","unbearbeitet"],datasets:[{label:"# of Votes",data:e.data,backgroundColor:["#114B79","#347F9F","#EAF2F3"],borderColor:["#1B3B6F","#065A82","#E8F1F2"],borderWidth:1}]}})]});break;case"zettel_type":t=(0,g.jsxs)("div",{style:{margin:"auto",marginBottom:"80px",width:"450px",height:"450px"},children:[(0,g.jsx)("h4",{children:"nach Farbe"}),(0,g.jsx)(p.by,{options:{plugins:{legend:{position:"bottom"}}},data:{labels:["blau","gelb","gr\xfcn","lila","rot","t\xfcrkis","keine"],datasets:[{label:"# of Votes",data:e.data,backgroundColor:[j.blau,j.gelb,j["gr\xfcn"],j.lila,j.rot,j["t\xfcrkis"],"#EAF2F3"],borderColor:[j.blau,j.gelb,j["gr\xfcn"],j.lila,j.rot,j["t\xfcrkis"],"#EAF2F3"],borderWidth:1}]}})]});break;case"zettel_created_changed":t=(0,g.jsxs)("div",{style:{marginBottom:"80px",width:"100%",height:"400px"},children:[(0,g.jsx)("h4",{children:"nach Jahren"}),(0,g.jsx)(p.$Q,{options:{aspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"}}},data:{labels:["2021","2022"],datasets:[{label:"ver\xe4ndert",data:e.data[1],backgroundColor:["#114B79"],borderColor:["#114B79"],borderWidth:1,type:"line"},{label:"erstellt",data:e.data[0],backgroundColor:["#347F9F"],borderColor:["#347F9F"],borderWidth:1}]}})]});break;case"zettel_created_changed_current":t=(0,g.jsxs)("div",{style:{marginBottom:"80px",width:"100%",height:"400px"},children:[(0,g.jsx)("h4",{children:"in diesem Jahr"}),(0,g.jsx)(p.$Q,{options:{aspectRatio:!1,plugins:{legend:{display:!0,position:"bottom"}}},data:{labels:["Jan.","Feb.","M\xe4r.","Apr.","Mai","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Dez."].slice(0,(new Date).getMonth()+1),datasets:[{label:"ver\xe4ndert",data:e.data[1],backgroundColor:["#114B79"],borderColor:["#114B79"],borderWidth:1,type:"line"},{label:"erstellt",data:e.data[0],backgroundColor:["#347F9F"],borderColor:["#347F9F"],borderWidth:1}]}})]});break;case"ressource_work":t=(0,g.jsxs)("div",{style:{margin:"auto",marginBottom:"80px",width:"450px",height:"450px"},children:[(0,g.jsx)("h4",{children:"Werke nach Volltext und pdfs"}),(0,g.jsx)(p.by,{options:{plugins:{legend:{position:"bottom"}}},data:{labels:["mit Volltext und pdf","nur mit pdf","ohne pdf und Volltext","nicht in Benutzung"],datasets:[{label:"",data:e.data,backgroundColor:["#114B79","#347F9F","#EAF2F3","#FFFFFF"],borderColor:["#1B3B6F","#065A82","#E8F1F2","#EFEFEF"],borderWidth:1}]}})]});break;case"ressource_scans":t=(0,g.jsxs)("div",{style:{margin:"auto",marginBottom:"80px",width:"450px",height:"450px"},children:[(0,g.jsx)("h4",{children:"Scan-Seiten und Volltexte"}),(0,g.jsx)(p.by,{options:{plugins:{legend:{position:"bottom"}}},data:{labels:["gepr\xfcfter Volltext","automatischer Volltext","ohne Volltext","kein lat. Text"],datasets:[{label:"",data:e.data,backgroundColor:["#114B79","#347F9F","#EAF2F3","#FFFFFF"],borderColor:["#1B3B6F","#065A82","#E8F1F2","#EFEFEF"],borderWidth:1}]}})]});break;default:console.log(e.name)}return t}function O(e){var t=(0,c.useState)(),n=(0,s.Z)(t,2),r=n[0],o=n[1],u=(0,c.useState)(),h=(0,s.Z)(u,2),p=h[0],f=h[1],b=(0,c.useState)(),j=(0,s.Z)(b,2),Z=j[0],v=j[1],k=(0,c.useState)(),w=(0,s.Z)(k,2),S=w[0],y=w[1],_=(0,c.useState)(),C=(0,s.Z)(_,2),F=C[0],z=C[1],I=(0,c.useState)(),E=(0,s.Z)(I,2),N=E[0],B=E[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"Quelle:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.Qc,{style:{width:"100%"},value:r||"",tbl:"opera",searchCol:"sigel",returnCol:"sigel",onChange:function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t),f(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"Editor:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",style:{width:"100%"},value:Z||"",onChange:function(e){v(e.target.value)}})})]},"0"),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"Jahr:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",style:{width:"100%"},value:S||"",onChange:function(e){y(e.target.value)}})})]},"1"),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"Dateipfad:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)("input",{type:"text",style:{width:"100%"},value:F||"",placeholder:"/A/Abaco/",onChange:function(e){z(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-4",children:[(0,g.jsx)(m.Z,{xs:3,children:".png-Dateien:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(x.Z.Group,{children:(0,g.jsx)(x.Z.Control,{type:"file",multiple:!0,accept:"image/png",onChange:function(e){B(e.target.files)}})})})]}),(0,g.jsxs)(d.Z,{children:[(0,g.jsx)(m.Z,{xs:3}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.YG,{value:"hochladen",onClick:(0,l.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=N){t.next=4;break}return t.abrupt("return",{status:!1,error:"Geben Sie Dateien zum Hochladen an."});case 4:if(Z&&S){t.next=8;break}return t.abrupt("return",{status:!1,error:"Geben Sie den Editor und das Jahr ein."});case 8:if(null!==p){t.next=12;break}return t.abrupt("return",{status:!1,error:"Kein g\xfcltiges Opus ausgew\xe4hlt!"});case 12:if(!F||!p){t.next=18;break}return t.next=15,e.importRessource({opera_id:p,editor:Z,year:S,path:F,url:""},N);case 15:return t.abrupt("return",t.sent);case 18:return t.abrupt("return",{status:!1,error:"Geben Sie einen g\xfcltigen Pfad ein!"});case 19:case"end":return t.stop()}}),t)})))})})]})]})}function R(e){var t=(0,c.useState)("A"),n=(0,s.Z)(t,2),r=n[0],u=n[1],h=(0,c.useState)([]),p=(0,s.Z)(h,2),f=p[0],b=p[1],j=(0,c.useState)(o.Q.me.id),Z=(0,s.Z)(j,2),v=Z[0],k=Z[1],w=(0,c.useState)(),S=(0,s.Z)(w,2),y=S[0],_=S[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Q.user.getAll({order:["last_name"]});case 2:t=e.sent,b(t.map((function(e){return[e.id,e.last_name]})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o.Q.access("admin")&&e()}),[]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"Buchstabe:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:[["A","A"],["B","B"],["C","C"],["D","D"],["E","E"],["F","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["L","L"],["M","M"],["N","N"],["O","O"],["P","P"],["Q","Q"],["R","R"],["S","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"]],value:r,onChange:function(e){u(e.target.value)}})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3,children:"erstellt von:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.SA,{options:f,value:v,onChange:function(e){k(parseInt(e.target.value))}})})]}),(0,g.jsxs)(d.Z,{className:"mb-4",children:[(0,g.jsx)(m.Z,{xs:3,children:"Bilder:"}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(x.Z.Group,{children:(0,g.jsx)(x.Z.Control,{type:"file",multiple:!0,accept:"image/jpeg",onChange:function(e){_(e.target.files)}})})})]}),(0,g.jsxs)(d.Z,{className:"mb-2",children:[(0,g.jsx)(m.Z,{xs:3}),(0,g.jsx)(m.Z,{children:(0,g.jsx)(i.YG,{value:"Zettel hochladen",onClick:function(){var t=(0,l.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=y){t.next=4;break}return t.abrupt("return",{status:!1,error:"W\xe4hlen Sie Bilder zum Hochladen aus."});case 4:return t.next=6,e.importZettel(n,y,r,0,v);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})})]})]})}}}]);
//# sourceMappingURL=440.499c7354.chunk.js.map