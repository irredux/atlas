"use strict";(self.webpackChunkatlas=self.webpackChunkatlas||[]).push([[395],{1395:function(e,t,s){s.r(t),s.d(t,{Opera:function(){return W}});var n=s(5671),r=s(3144),a=s(136),i=s(1129),l=s(7762),c=s(1413),d=s(4165),o=s(5861),u=s(885),x=s(5167),h=s(8949),m=s(7022),j=s(9743),p=s(2677),f=s(3360),g=s(5987),v=s(2791),_=s(1694),w=s.n(_),Z=s(162),N=["animation","bg","bsPrefix","size"],y=["className"];function k(e){var t=e.animation,s=e.bg,n=e.bsPrefix,r=e.size,a=(0,g.Z)(e,N);n=(0,Z.vE)(n,"placeholder");var i=(0,p.r)(a),l=(0,u.Z)(i,1)[0],d=l.className,o=(0,g.Z)(l,y);return(0,c.Z)((0,c.Z)({},o),{},{className:w()(d,t?"".concat(n,"-").concat(t):n,r&&"".concat(n,"-").concat(r),s&&"bg-".concat(s))})}var b=s(184),S=v.forwardRef((function(e,t){var s=k(e);return(0,b.jsx)(f.Z,(0,c.Z)((0,c.Z)({},s),{},{ref:t,disabled:!0,tabIndex:-1}))}));S.displayName="PlaceholderButton";var C=S,I=["as"],L=v.forwardRef((function(e,t){var s=e.as,n=void 0===s?"span":s,r=k((0,g.Z)(e,I));return(0,b.jsx)(n,(0,c.Z)((0,c.Z)({},r),{},{ref:t}))}));L.displayName="Placeholder";var A=Object.assign(L,{Button:C}),Q=s(9506),T=s(3350),z=s(5353),H=s(1632),B=s(9806),D=s(6407),R=s(3222);function q(e){var t=(0,v.useState)(null),s=(0,u.Z)(t,2),n=s[0],r=s[1],a=(0,v.useState)(null),i=(0,u.Z)(a,2),g=i[0],_=i[1],w=(0,v.useState)(null),Z=(0,u.Z)(w,2),N=Z[0],y=Z[1],k=(0,v.useState)(null),S=(0,u.Z)(k,2),C=S[0],I=S[1],L=(0,v.useState)(null),A=(0,u.Z)(L,2),Q=A[0],T=A[1],z=(0,v.useState)(null),H=(0,u.Z)(z,2),B=H[0],q=H[1],F=(0,v.useState)(null),M=(0,u.Z)(F,2),E=M[0],W=M[1],G=(0,v.useState)(null),K=(0,u.Z)(G,2),O=K[0],V=K[1],P=(0,v.useState)(null),J=(0,u.Z)(P,2),U=J[0],Y=J[1],X=(0,v.useState)(null),$=(0,u.Z)(X,2),ee=$[0],te=$[1],se=(0,v.useState)(null),ne=(0,u.Z)(se,2),re=ne[0],ae=ne[1],ie=(0,v.useState)(null),le=(0,u.Z)(ie,2),ce=le[0],de=le[1],oe=(0,v.useState)(null),ue=(0,u.Z)(oe,2),xe=ue[0],he=(ue[1],(0,v.useState)(!1)),me=(0,u.Z)(he,2),je=me[0],pe=me[1],fe=(0,v.useState)(!1),ge=(0,u.Z)(fe,2),ve=ge[0],_e=ge[1],we=(0,v.useState)([]),Ze=(0,u.Z)(we,2),Ne=Ze[0],ye=Ze[1],ke=(0,v.useState)([]),be=(0,u.Z)(ke,2),Se=be[0],Ce=be[1];(0,v.useEffect)((function(){var t=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s,n;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.item.auctor_id&&!e.item.opus_id){t.next=5;break}return t.next=3,D.Q.auctores.getAll({select:["id","auctor"],order:["sort_nr"]});case 3:s=t.sent,ye(s.map((function(e){return[e.id,e.auctor]})));case 5:if(!e.item.opus_id&&!e.item.locus_id){t.next=10;break}return t.next=8,D.Q.opera.get({id:e.item.opus_id},{select:["id","opus"]});case 8:n=t.sent,Ce(n.map((function(e){return[e.id,e.opus]})));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s,n;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.auctores.get({id:e.item.auctor_id});case 2:return s=t.sent,r(s[0]),t.next=6,D.Q.auctores.search([{c:"sort_nr",o:"=",v:s[0].sort_nr-1}],{select:["id"]});case 6:(n=t.sent).length>0?(q(n[0].id),W(n[0].id)):(q(null),W(null));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s,n,r;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.opera.get({id:e.item.opus_id});case 2:return s=t.sent,_(s[0]),t.next=6,D.Q.opera.get({auctor_id:s[0].auctor_id,same_line:1},{select:["id"]});case 6:return(n=t.sent).length>0&&n[0].id!==e.item.opus_id?pe(!1):pe(!0),t.next=10,D.Q.opera.search([{c:"sort_nr",o:"=",v:s[0].sort_nr-1}],{select:["id","opus"]});case 10:(r=t.sent).length>0?(V(r[0].opus),Y(r[0].id),te(r[0].id)):(V(null),Y(null),te(null));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s,n;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.loci.get({id:e.item.locus_id});case 2:return s=t.sent,y(s[0]),t.next=6,D.Q.loci.get({opus_id:s[0].opus_id,same_line:1},{select:["id"]});case 6:(n=t.sent).length>0&&n[0].id!==e.item.locus_id?_e(!1):_e(!0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.item.auctor_id?s():r(null),e.item.opus_id?n():_(null),e.item.locus_id?a():y(null),t()}),[e.item]);var Ie=function(e,t,s){if("a"===e){var a=(0,c.Z)({},n);a[t]=""!==s?s:null,r(a)}else if("o"===e){var i=(0,c.Z)({},g);i[t]=""!==s?s:null,_(i)}else{if("l"!==e)throw new Error("table ".concat(e," in saveValue() not found."));var l=(0,c.Z)({},N);l[t]=""!==s?s:null,y(l)}},Le=function(e,t){if("a"===e){var s=(0,c.Z)({},n);t.forEach((function(e){s[e[0]]=""!==e[1]?e[1]:null})),r(s)}else if("o"===e){var a=(0,c.Z)({},g);t.forEach((function(e){a[e[0]]=""!==e[1]?e[1]:null})),_(a)}else{if("l"!==e)throw new Error("Table '".concat(e,"' in saveValues() not found."));var i=(0,c.Z)({},N);t.forEach((function(e){i[e[0]]=""!==e[1]?e[1]:null})),y(i)}};return(0,b.jsxs)(x.Z,{show:!0,placement:"end",scroll:!0,backdrop:!1,onHide:function(){e.onClose()},children:[(0,b.jsx)(x.Z.Header,{closeButton:!0,children:(0,b.jsx)(x.Z.Title,{})}),(0,b.jsx)(x.Z.Body,{children:(0,b.jsxs)(h.Z,{defaultActiveKey:"0",children:[n&&(0,b.jsxs)(h.Z.Item,{eventKey:"0",children:[(0,b.jsxs)(h.Z.Header,{children:["auctor ",(0,b.jsxs)("span",{style:{marginLeft:"10px",fontSize:"75%"},children:["(ID: ",n.id,")"]})]}),(0,b.jsx)(h.Z.Body,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(j.Z,{children:"Name:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{style:{width:"100%"},type:"text",value:n.auctor?n.auctor:"",onChange:function(e){Ie("a","auctor",e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Ordungszahl:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:n.ord?n.ord:"",onChange:function(e){Ie("a","ord",e.target.value)}})}),(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:"0"},children:["Sortierung: ",(0,b.jsx)("small",{children:"unterhalb von..."})]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:Ne,value:B||"",onChange:function(e){q(e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Datierung:"}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("input",{type:"text",value:n.date_display?n.date_display:"",onChange:function(e){Ie("a","date_display",e.target.value)}})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)("i",{style:{padding:"0"},children:"explicatio:"})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("a","explicatio",e.target.value)},value:n.explicatio?n.explicatio:""})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)("i",{style:{padding:"0"},children:"editiones:"})}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("a","editiones",e.target.value)},value:n.editiones?n.editiones:""})}),(0,b.jsx)(j.Z,{children:"In Benutzung:"}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["","Nein"],[1,"Ja"]],value:n.in_use?n.in_use:"",onChange:function(e){Ie("a","in_use",e.target.value)}})}),null===g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz-Text:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:n.ref_text?n.ref_text:"",onChange:function(e){""===e.target.value?Le("a",[["ref_id",null],["ref_type",null],["ref_text",e.target.value]]):Ie("a","ref_text",e.target.value)}})})]}),n.ref_text&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz-Typ:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["",""],[1,"auctor"],[2,"opus"],[3,"locus"]],value:n.ref_type?n.ref_type:"",onChange:function(e){Ie("a","ref_type",e.target.value),"1"===e.target.value?I(["auctores","auctor"]):"2"===e.target.value?I(["opera_ac","ac_web"]):"3"===e.target.value?I(["loci_ac","ac_web"]):I(null)}})})]}),n.ref_text&&C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.Qc,{style:{left:"-10px",padding:"0",width:"310px",height:"30px",position:"relative"},onChange:function(e,t){T(e),Ie("a","ref_id",t)},value:Q||"",tbl:C[0],searchCol:C[1],returnCol:C[1]})})]}),(0,b.jsxs)(j.Z,{className:"mt-4",children:[(0,b.jsx)(p.Z,{children:(0,b.jsx)(R.YG,{onClick:(0,o.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,D.Q.auctores.save((0,c.Z)({},n));case 3:if(E===B||null===B){e.next=6;break}return e.next=6,D.Q.exec("SortIndex",!1,["auctores",n.id,B]);case 6:return e.abrupt("return",{status:1});case 7:case"end":return e.stop()}}),e)}))),value:"speichern"})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(f.Z,{variant:"danger",onClick:(0,o.Z)((0,d.Z)().mark((function t(){var s,r,a,i,c,o;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll der auctor wirklich gel\xf6scht werden? Alle verkn\xfcpften opera und loci werden ebenfalls gel\xf6scht!")){t.next=32;break}return t.next=3,D.Q.opera.get({auctor_id:n.id});case 3:s=t.sent,r=[],a=(0,l.Z)(s),t.prev=6,a.s();case 8:if((i=a.n()).done){t.next=16;break}return c=i.value,t.next=12,D.Q.loci.get({opus_id:c.id},{select:["id"]});case 12:o=t.sent,r=r.concat(o.map((function(e){return e.id})));case 14:t.next=8;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:return t.next=26,D.Q.loci.delete(r);case 26:return t.next=28,D.Q.opera.delete(s.map((function(e){return e.id})));case 28:return t.next=30,D.Q.auctores.delete(n.id);case 30:e.onClose(),alert("L\xf6schen erfolgreich. Aktualisieren Sie den Index, damit die gel\xf6schten Eintr\xe4ge verschwinden.");case 32:case"end":return t.stop()}}),t,null,[[6,18,21,24]])}))),children:"l\xf6schen"})})]})]})})]}),g&&(0,b.jsxs)(h.Z.Item,{eventKey:"1",children:[(0,b.jsxs)(h.Z.Header,{children:["opus ",(0,b.jsxs)("span",{style:{marginLeft:"10px",fontSize:"75%"},children:["(ID: ",g.id,")"]})]}),(0,b.jsx)(h.Z.Body,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(j.Z,{children:"Name:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{style:{width:"100%"},type:"text",value:g.opus?g.opus:"",onChange:function(e){Ie("o","opus",e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Ordungszahl:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:g.ord?g.ord:"",onChange:function(e){Ie("o","ord",e.target.value)}})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsxs)(p.Z,{style:{padding:"0"},children:["Sortierung: ",(0,b.jsx)("small",{children:"unterhalb von..."})]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.Qc,{style:{left:"-10px",padding:"0",width:"310px",height:"30px",position:"relative"},onChange:function(e,t){V(e),Y(t)},value:O||"",tbl:"opera_ac",searchCol:"ac_web",returnCol:"ac_web"})}),(0,b.jsx)(j.Z,{children:"Datierung:"}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("input",{type:"text",value:g.date_display?g.date_display:"",onChange:function(e){Ie("o","date_display",e.target.value)}})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsxs)("span",{style:{padding:0},children:[(0,b.jsx)("i",{children:"auctor"}),":"]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:Ne,value:g.auctor_id?g.auctor_id:""})}),je&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:0},children:["Mit ",(0,b.jsx)("i",{children:"auctor"})," auf einer Zeile?"]})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[[0,"Nein"],[1,"Ja"]],value:g.same_line?g.same_line:0,onChange:function(e){Ie("o","same_line",e.target.value)}})})]}),(0,b.jsx)(j.Z,{className:"mt-4",children:(0,b.jsxs)("span",{style:{padding:0},children:[(0,b.jsx)("i",{children:"explicatio"}),":"]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("o","explicatio",e.target.value)},value:g.explicatio?g.explicatio:""})}),(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:0},children:[(0,b.jsx)("i",{children:"editiones"}),":"]})}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("o","editiones",e.target.value)},value:g.editiones?g.editiones:""})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)("span",{style:{padding:0},children:"In Benutzung:"})}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["","Nein"],[1,"Ja"]],value:g.in_use?g.in_use:"",onChange:function(e){Ie("o","in_use",e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Referenz-Text:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:g.ref_text?g.ref_text:"",onChange:function(e){""===e.target.value?Le("o",[["ref_id",null],["ref_type",null],["ref_text",e.target.value]]):Ie("o","ref_text",e.target.value)}})}),g.ref_text&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz-Typ:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["",""],[1,"auctor"],[2,"opus"],[3,"locus"]],value:g.ref_type?g.ref_type:"",onChange:function(e){Ie("o","ref_type",e.target.value),"1"===e.target.value?I(["auctores","auctor"]):"2"===e.target.value?I(["opera_ac","ac_web"]):"3"===e.target.value?I(["loci_ac","ac_web"]):I(null)}})})]}),g.ref_text&&C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.Qc,{style:{left:"-10px",padding:"0",width:"310px",height:"30px",position:"relative"},onChange:function(e,t){T(e),Ie("o","ref_id",t)},value:Q||"",tbl:C[0],searchCol:C[1],returnCol:C[1]})})]}),(0,b.jsxs)(j.Z,{className:"mt-4",children:[(0,b.jsx)(p.Z,{children:(0,b.jsx)(R.YG,{onClick:(0,o.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(g),e.next=3,D.Q.opera.save((0,c.Z)({},g));case 3:if(ee===U||null===U){e.next=6;break}return e.next=6,D.Q.exec("SortIndex",!1,["opera",g.id,U]);case 6:return e.abrupt("return",{status:1});case 7:case"end":return e.stop()}}),e)}))),value:"speichern"})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(f.Z,{variant:"danger",onClick:(0,o.Z)((0,d.Z)().mark((function t(){var s;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll das opus wirklich gel\xf6scht werden? Alle verkn\xfcpften loci werden ebenfalls gel\xf6scht!")){t.next=10;break}return t.next=3,D.Q.loci.get({opus_id:g.id},{select:["id"]});case 3:return s=t.sent,t.next=6,D.Q.loci.delete(s.map((function(e){return e.id})));case 6:return t.next=8,D.Q.opera.delete(g.id);case 8:e.onClose(),alert("L\xf6schen erfolgreich. Aktualisieren Sie den Index, damit die gel\xf6schten Eintr\xe4ge verschwinden.");case 10:case"end":return t.stop()}}),t)}))),children:"l\xf6schen"})})]})]})})]}),N&&(0,b.jsxs)(h.Z.Item,{eventKey:"2",children:[(0,b.jsxs)(h.Z.Header,{children:["locus ",(0,b.jsxs)("span",{style:{marginLeft:"10px",fontSize:"75%"},children:["(ID: ",N.id,")"]})]}),(0,b.jsx)(h.Z.Body,{children:(0,b.jsxs)(m.Z,{children:[(0,b.jsx)(j.Z,{children:"Name:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:N.locus?N.locus:"",onChange:function(e){Ie("l","locus",e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Ordungszahl:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:N.ord?N.ord:"",onChange:function(e){Ie("l","ord",e.target.value)}})}),(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:0},children:["Sortierung: ",(0,b.jsx)("small",{children:"unterhalb von..."})]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.Qc,{style:{left:"-10px",padding:"0",width:"310px",height:"30px",position:"relative"},onChange:function(e,t){ae(e),de(t)},value:re||"",tbl:"loci",searchCol:"locus",returnCol:"locus"})}),(0,b.jsx)(j.Z,{children:"Datierung:"}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("input",{type:"text",value:N.date_display?N.date_display:"",onChange:function(e){Ie("l","date_display",e.target.value)}})}),(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:0},children:["verkn\xfcpftes ",(0,b.jsx)("i",{children:"opus"}),":"]})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:Se,value:N.opus_id?N.opus_id:""})}),ve&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{className:"mt-2",children:(0,b.jsxs)("span",{style:{padding:0},children:["Mit ",(0,b.jsx)("i",{children:"opus"})," auf einer Zeile?"]})}),(0,b.jsx)(j.Z,{children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[[0,"Nein"],[1,"Ja"]],value:N.same_line?N.same_line:0,onChange:function(e){Ie("l","same_line",e.target.value)}})})]}),(0,b.jsx)(j.Z,{className:"mt-4",children:(0,b.jsxs)("span",{style:{padding:0},children:[(0,b.jsx)("i",{children:"explicatio"}),":"]})}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("l","explicatio",e.target.value)},value:N.explicatio?N.explicatio:""})}),(0,b.jsx)(j.Z,{children:(0,b.jsxs)("span",{style:{padding:0},children:[(0,b.jsx)("i",{children:"editiones"}),":"]})}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)("textarea",{onChange:function(e){Ie("l","editiones",e.target.value)},value:N.editiones?N.editiones:""})}),(0,b.jsx)(j.Z,{children:"In Benutzung:"}),(0,b.jsx)(j.Z,{className:"mb-4",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["","Nein"],[1,"Ja"]],value:N.in_use?N.in_use:"",onChange:function(e){Ie("l","in_use",e.target.value)}})}),(0,b.jsx)(j.Z,{children:"Referenz-Text:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)("input",{type:"text",value:N.ref_text?N.ref_text:"",onChange:function(e){""===e.target.value?Le("l",[["ref_id",null],["ref_type",null],["ref_text",e.target.value]]):Ie("l","ref_text",e.target.value)}})}),N.ref_text&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz-Typ:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.SA,{style:{width:"100%",height:"30px",padding:"0px 10px 0 10px"},options:[["",""],[1,"auctor"],[2,"opus"],[3,"locus"]],value:N.ref_type?N.ref_type:"",onChange:function(e){Ie("l","ref_type",e.target.value),"1"===e.target.value?I(["auctores","auctor"]):"2"===e.target.value?I(["opera_ac","ac_web"]):"3"===e.target.value?I(["loci_ac","ac_web"]):I(null)}})})]}),N.ref_text&&C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Z,{children:"Referenz:"}),(0,b.jsx)(j.Z,{className:"mb-2",children:(0,b.jsx)(R.Qc,{style:{left:"-10px",padding:"0",width:"310px",height:"30px",position:"relative"},onChange:function(e,t){T(e),Ie("l","ref_id",t)},value:Q||"",tbl:C[0],searchCol:C[1],returnCol:C[1]})})]}),(0,b.jsxs)(j.Z,{className:"mt-4",children:[(0,b.jsx)(p.Z,{children:(0,b.jsx)(R.YG,{onClick:(0,o.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(N),e.next=3,D.Q.loci.save((0,c.Z)({},N));case 3:if(xe===ce||null===ce){e.next=6;break}return e.next=6,D.Q.exec("SortIndex",!1,["loci",N.id,ce]);case 6:return e.abrupt("return",{status:1});case 7:case"end":return e.stop()}}),e)}))),value:"speichern"})}),(0,b.jsx)(p.Z,{children:(0,b.jsx)(f.Z,{variant:"danger",onClick:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll der locus wirklich gel\xf6scht werden?")){t.next=5;break}return t.next=3,D.Q.loci.delete(N.id);case 3:e.onClose(),alert("L\xf6schen erfolgreich. Aktualisieren Sie den Index, damit der gel\xf6schte Eintrag verschwindet.");case 5:case"end":return t.stop()}}),t)}))),children:"l\xf6schen"})})]})]})})]})]})})]})}var F=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(e){var r;return(0,n.Z)(this,s),(r=t.call(this,e)).state={author:null,work:null,authorLst:[]},r}return(0,r.Z)(s,[{key:"render",value:function(){var e=this;return(0,b.jsxs)(x.Z,{show:!0,placement:"end",scroll:!0,backdrop:!1,onHide:function(){e.props.onClose()},children:[(0,b.jsx)(x.Z.Header,{closeButton:!0,children:(0,b.jsx)(x.Z.Title,{})}),(0,b.jsxs)(x.Z.Body,{children:[this.state.author&&(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",rowGap:"10px",margin:"0"},children:[(0,b.jsxs)("h3",{children:["Autor ",(0,b.jsxs)("i",{style:{fontSize:"60%"},children:["ID: ",this.state.author.id,")"]})]}),(0,b.jsx)("div",{}),(0,b.jsx)("div",{children:"Name:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.full?this.state.author.full.replace(/&lt;/g,"<").replace(/&gt;/g,">"):"",onChange:function(t){var s=e.state.author;s.full=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"Abk\xfcrzung:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.abbr,onChange:function(t){var s=e.state.author;s.abbr=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"Abk\xfcrzung (Sortierung):"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.abbr_sort,onChange:function(t){var s=e.state.author;s.abbr_sort=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"Anzeigedatum:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.date_display,onChange:function(t){var s=e.state.author;s.date_display=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"Sortierdatum:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.date_sort,onChange:function(t){var s=e.state.author;s.date_sort=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"Sortierdatum-Typ:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.date_type,onChange:function(t){var s=e.state.author;s.date_type=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"VIAF-ID:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.VIAF,onChange:function(t){var s=e.state.author;s.VIAF=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"GND-ID:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.GND,onChange:function(t){var s=e.state.author;s.GND=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:(0,b.jsx)("small",{children:"Geschichtsquellen-ID:"})}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.author.gq_id,onChange:function(t){var s=e.state.author;s.gq_id=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{children:"in Benutzung:"}),(0,b.jsx)("div",{children:(0,b.jsx)(R.SA,{style:{width:"86%"},options:[[0,"Nein"],[1,"Ja"]],value:this.state.author.in_use,onChange:function(t){var s=e.state.author;s.in_use=t.target.value,e.setState({author:s})}})}),(0,b.jsx)("div",{}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.YG,{value:"speichern",onClick:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.author.save(e.state.author);case 2:return e.props.onUpdate(),t.abrupt("return",{status:!0});case 4:case"end":return t.stop()}}),t)})))}),(0,b.jsx)(R.YG,{value:"l\xf6schen",variant:"danger",style:{marginLeft:"10px"},onClick:(0,o.Z)((0,d.Z)().mark((function t(){var s,n,r,a,i;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.work.search([{c:"author_id",o:"=",v:e.state.author.id}],{select:["id"]});case 2:s=t.sent,n=[],r=(0,l.Z)(s);try{for(r.s();!(a=r.n()).done;)i=a.value,n.push(i.id)}catch(c){r.e(c)}finally{r.f()}if(!window.confirm("Soll der Autor wirklich gel\xf6scht werden? ".concat(n.length>1?n.length+" verkn\xfcpfte Werke werden":"Ein verkn\xfcpftes Werk wird"," ebenfalls gel\xf6scht. Dieser Schritt kann nicht mehr r\xfcckg\xe4ngig gemacht werden!"))){t.next=19;break}if(!(n.length>0)){t.next=10;break}return t.next=10,D.Q.work.delete(n);case 10:return t.next=13,D.Q.author.delete(e.state.author.id);case 13:return t.next=15,D.Q.exec("opera_update");case 15:return e.props.onReload(),t.abrupt("return",{status:!0});case 19:return t.abrupt("return",{status:0});case 20:case"end":return t.stop()}}),t)})))})]})]}),this.state.work&&(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",rowGap:"10px",margin:"50px 0"},children:[(0,b.jsxs)("h3",{children:["Werk ",(0,b.jsxs)("i",{style:{fontSize:"60%"},children:["(ID: ",this.state.work.id,")"]})]}),(0,b.jsx)("div",{}),(0,b.jsx)("div",{children:"Werktitel:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.full?this.state.work.full.replace(/&lt;/g,"<").replace(/&gt;/g,">"):"",onChange:function(t){var s=e.state.work;s.full=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Abk\xfcrzung:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.abbr,onChange:function(t){var s=e.state.work;s.abbr=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Abk\xfcrzung (Sortierung):"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.abbr_sort,onChange:function(t){var s=e.state.work;s.abbr_sort=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Anzeigedatum:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.date_display,onChange:function(t){var s=e.state.work;s.date_display=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Sortierdatum:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.date_sort,onChange:function(t){var s=e.state.work;s.date_sort=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Sortierdatum-Typ:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.date_type,onChange:function(t){var s=e.state.work;s.date_type=t.target.value,e.setState({work:s})}})}),(0,b.jsxs)("div",{children:["Abweichender Autorenname (z.B. bei ",(0,b.jsx)("aut",{children:"Vita"}),"):"]}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.author_display,onChange:function(t){var s=e.state.work;s.author_display=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"verknpft. Autor:"}),(0,b.jsx)("div",{children:(0,b.jsx)(R.SA,{style:{width:"86%"},options:this.state.authorLst,value:this.state.work.author_id,onChange:function(t){var s=e.state.work;s.author_id=t.target.value,e.setState({work:s})}})}),(0,b.jsxs)("div",{children:["Stellenangabe: ",(0,b.jsx)("span",{className:"minorTxt",children:"(Bsp.)"})]}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.citation,onChange:function(t){var s=e.state.work;s.citation=t.target.value,e.setState({work:s})}})}),(0,b.jsxs)("div",{children:["Stellenangabe Bibliographie: ",(0,b.jsx)("i",{className:"minorTxt",children:"(nur minora)"})]}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.bibliography_cit,onChange:function(t){var s=e.state.work;s.bibliography_cit=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Referenz:"}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"text",value:this.state.work.reference,onChange:function(t){var s=e.state.work;s.reference=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"in Benutzung:"}),(0,b.jsx)("div",{children:(0,b.jsx)(R.SA,{style:{width:"86%"},options:[[0,"Nein"],[1,"Ja"]],value:this.state.work.in_use,onChange:function(t){var s=e.state.work;s.in_use=t.target.value,e.setState({work:s})}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("i",{children:"opus maius"}),":"]}),(0,b.jsx)("div",{children:(0,b.jsx)(R.SA,{style:{width:"86%"},options:[[0,"Nein"],[1,"Ja"]],value:this.state.work.is_maior,onChange:function(t){var s=e.state.work;s.is_maior=t.target.value,e.setState({work:s})}})}),(0,b.jsx)("div",{children:"Kommentar:"}),(0,b.jsx)("div",{children:(0,b.jsx)("textarea",{value:this.state.work.txt_info,onChange:function(t){var s=e.state.work;s.txt_info=t.target.value,e.setState({work:s})},style:{width:"205px",height:"130px"}})}),(0,b.jsx)("div",{children:"Bibliographie:"}),(0,b.jsx)("div",{children:(0,b.jsx)("textarea",{value:this.state.work.bibliography,onChange:function(t){var s=e.state.work;s.bibliography=t.target.value,e.setState({work:s})},style:{width:"205px",height:"130px"}})}),(0,b.jsx)("div",{}),(0,b.jsxs)("div",{children:[(0,b.jsx)(R.YG,{value:"speichern",onClick:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.work.save(e.state.work);case 2:return e.props.onUpdate(),t.abrupt("return",{status:!0});case 4:case"end":return t.stop()}}),t)})))}),(0,b.jsx)(R.YG,{value:"l\xf6schen",variant:"danger",style:{marginLeft:"10px"},onClick:(0,o.Z)((0,d.Z)().mark((function t(){var s;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.work.search([{c:"author_id",o:"=",v:e.state.work.author_id}],{count:!0});case 2:if(s=t.sent,!(s[0].count<2)){t.next=8;break}return t.abrupt("return",{status:-1,error:"Das Werk kann nicht gel\xf6scht werden, da es das lezte Werk des Autors ist."});case 8:if(!window.confirm("Soll das Werk wirklich gel\xf6scht werden? Dieser Schritt kann nicht mehr r\xfcckg\xe4ngig gemacht werden!")){t.next=17;break}return t.next=11,D.Q.work.delete(e.state.work.id);case 11:return t.next=13,D.Q.exec("opera_update");case 13:return e.props.onReload(),t.abrupt("return",{status:!0});case 17:return t.abrupt("return",{status:0});case 18:case"end":return t.stop()}}),t)})))})]})]})]})]})}},{key:"componentDidMount",value:function(){var e=this,t=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s,n,r,a,i;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.author.getAll({select:["id","abbr"],order:["abbr_sort"]});case 2:s=t.sent,n=[],r=(0,l.Z)(s);try{for(r.s();!(a=r.n()).done;)i=a.value,n.push([i.id,i.abbr])}catch(c){r.e(c)}finally{r.f()}e.setState({authorLst:n});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(t(),this.props.item.author_id>0){var s=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.author.get({id:e.props.item.author_id});case 2:s=t.sent,e.setState({author:s[0]});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s()}if(this.props.item.work_id>0){var n=function(){var t=(0,o.Z)((0,d.Z)().mark((function t(){var s;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.Q.work.get({id:e.props.item.work_id});case 2:s=t.sent,e.setState({work:s[0]});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.item.author_id!=this.props.item.author_id)if(this.props.item.author_id>0){var s=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Q.author.get({id:t.props.item.author_id});case 2:s=e.sent,t.setState({author:s[0]});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()}else this.setState({author:null});if(e.item.work_id!=this.props.item.work_id)if(this.props.item.work_id>0){var n=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Q.work.get({id:t.props.item.work_id});case 2:s=e.sent,t.setState({work:s[0]});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}else this.setState({work:null})}}]),s}(v.Component),M=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(e){var r;return(0,n.Z)(this,s),(r=t.call(this,e)).state={oLst:[],cHitId:0},r.resultsOnPage=18,r}return(0,r.Z)(s,[{key:"render",value:function(){var e=this,t=[],s=[],n=0,r=0;this.scrollRef=null;var a,i=(0,l.Z)(this.props.cTrLst);try{var c=function(){var i=a.value;n++;var l={};i.o.id===e.state.cHitId?(l="searchHit",e.scrollRef=v.createRef()):e.state.cHitId>0&&e.state.hits.some((function(e){return e.id===i.o.id}))&&(l="searchAllHits"),t.push((0,b.jsx)("tr",{className:l,ref:i.o.id===e.state.cHitId?e.scrollRef:null,onDoubleClick:function(t){t.stopPropagation(),e.props.showDetail(i.o)},children:i.data},n)),t.length>=e.resultsOnPage&&(r++,s.push((0,b.jsxs)("div",{id:"operaBox_"+r,style:{borderBottom:"1px dotted black",paddingBottom:"15px",margin:"10px"},children:[(0,b.jsx)("table",{className:"operaBox",children:(0,b.jsx)("tbody",{children:t})}),(0,b.jsx)("div",{style:{textAlign:"center"},children:r})]},r)),t=[])};for(i.s();!(a=i.n()).done;)c()}catch(h){i.e(h)}finally{i.f()}r>0&&s.push((0,b.jsxs)("div",{id:"operaBox_"+(r+1),style:{margin:"10px"},children:[(0,b.jsx)("table",{className:"operaBox",children:(0,b.jsx)("tbody",{children:t})}),(0,b.jsx)("div",{style:{textAlign:"center"},children:r+1})]},r+1));var u=(0,b.jsx)("table",{className:"operaBox",style:{width:"100%"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1"}),(0,b.jsx)("td",{className:"c2",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c3",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c4"}),(0,b.jsx)("td",{className:"c5"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{bg:"primary",sm:4})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1"}),(0,b.jsx)("td",{className:"c2",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c3",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c4"}),(0,b.jsx)("td",{className:"c5"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:10})," ",(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{bg:"primary",sm:6})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:6})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1"}),(0,b.jsx)("td",{className:"c2",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c3",children:[(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:8})]}),(0,b.jsx)("td",{className:"c4"}),(0,b.jsx)("td",{className:"c5"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:11})," ",(0,b.jsx)(A,{sm:10})," ",(0,b.jsx)(A,{sm:8}),(0,b.jsx)(A,{sm:8}),(0,b.jsx)(A,{sm:10})," ",(0,b.jsx)(A,{sm:9})," ",(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{bg:"primary",sm:6})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:8})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1"}),(0,b.jsx)("td",{className:"c2",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c3",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c4"}),(0,b.jsx)("td",{className:"c5"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:11}),(0,b.jsx)(A,{sm:9})," ",(0,b.jsx)(A,{bg:"primary",sm:8})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1"}),(0,b.jsx)("td",{className:"c2",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c3",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c4"}),(0,b.jsx)("td",{className:"c5"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:9})," ",(0,b.jsx)(A,{sm:11})," ",(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{bg:"primary",sm:4})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:10})," ",(0,b.jsx)(A,{sm:10})," ",(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{bg:"primary",sm:4})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:4})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsxs)("td",{className:"c2",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c3",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)(A,{sm:8})," ",(0,b.jsx)(A,{sm:11})," ",(0,b.jsx)(A,{sm:10}),(0,b.jsx)(A,{sm:9})," ",(0,b.jsx)(A,{bg:"primary",sm:8})]}),(0,b.jsx)("td",{className:"c5",children:(0,b.jsx)(A,{sm:7})})]})]})});"opera_minora"===this.props.listName?u=(0,b.jsx)("table",{className:"operaBox",style:{width:"100%"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{bg:"primary",sm:4})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:11})}),(0,b.jsxs)("td",{className:"c5_min",children:[(0,b.jsx)(A,{sm:4}),(0,b.jsx)("br",{}),(0,b.jsx)(A,{sm:2})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c5_min"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:11})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:5})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:4})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:4})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:6})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:11})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:6})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:3})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:3,bg:"primary"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:11})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:8})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:2})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:6})}),(0,b.jsx)("td",{className:"c5_min"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5,bg:"primary"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:4,bg:"primary"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:2})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:6})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:4})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:9})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:3})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:11})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:11})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:8})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:5})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min"}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:4})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_min",children:(0,b.jsx)(A,{sm:4})}),(0,b.jsx)("td",{className:"c2_min",children:(0,b.jsx)(A,{sm:7})}),(0,b.jsx)("td",{className:"c5_min",children:(0,b.jsx)(A,{sm:3})})]})]})}):"tll_index"===this.props.listName&&(u=(0,b.jsx)("table",{className:"operaBox",style:{width:"100%"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"c1_tll",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c2_tll",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c3_tll"}),(0,b.jsx)("td",{className:"c4_tll",children:(0,b.jsx)(A,{sm:10})}),(0,b.jsx)("td",{className:"c5_tll"})]}),(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"c1_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c2_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsx)("td",{className:"c3_tll"}),(0,b.jsxs)("td",{className:"c4_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10}),(0,b.jsx)("br",{}),"\xa0\xa0\xa0",(0,b.jsx)(A,{sm:8})]}),(0,b.jsxs)("td",{className:"c5_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:9}),(0,b.jsx)("br",{}),"\xa0\xa0\xa0",(0,b.jsx)(A,{sm:3})]})]}),(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{className:"c1_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsxs)("td",{className:"c2_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10})]}),(0,b.jsx)("td",{className:"c3_tll"}),(0,b.jsxs)("td",{className:"c4_tll",children:["\xa0\xa0\xa0",(0,b.jsx)(A,{sm:10}),(0,b.jsx)("br",{}),"\xa0\xa0\xa0",(0,b.jsx)(A,{sm:8})]}),(0,b.jsx)("td",{className:"c5_tll"})]})]})}));var x=[["".concat("tll_index"===this.props.listName?"Index":"opera-Listen"," aktualisieren"),(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll die opera-Liste aktualisiert werden? Der Prozess dauert ca. 30 Sekunden.")){t.next=5;break}return t.next=3,D.Q.exec("opera_update");case 3:return t.next=5,e.props.getLst();case 5:case"end":return t.stop()}}),t)})))]];return D.Q.access("o_edit")&&(x.push(["Neuer Autor erstellen",(0,o.Z)((0,d.Z)().mark((function t(){var s;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll ein neuer Autor erstellt werden? Er heisst '+NEUER AUTOR'")){t.next=11;break}return t.next=3,D.Q.author.save({full:"+Neuer Autor",abbr:"+Neuer Autor",abbr_sort:"+Neuer Autor",in_use:1});case 3:return s=t.sent,t.next=6,D.Q.work.save({full:"Neues Werk",abbr:"Neues Werk",abbr_sort:"Neues Werk",author_id:s,is_maior:1,in_use:1});case 6:if(!window.confirm("Ein neuer Autor wurde erstellt. Soll die opera-Liste aktualisiert werden?")){t.next=11;break}return t.next=9,D.Q.exec("opera_update");case 9:return t.next=11,e.props.getLst();case 11:case"end":return t.stop()}}),t)})))]),x.push(["Neues Werk erstellen",(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Soll ein neues Werk erstellt werden? Das Werk wird ABBO FLOR. zugewiesen.")){t.next=9;break}return t.next=3,D.Q.work.save({full:"Neues Werk",abbr:"Neues Werk",abbr_sort:"Neues Werk",author_id:1,is_maior:1,in_use:1});case 3:if(t.sent,!window.confirm("Ein neues Werk wurde erstellt. Soll die opera-Liste aktualisiert werden?")){t.next=9;break}return t.next=7,D.Q.exec("opera_update");case 7:return t.next=9,e.props.getLst();case 9:case"end":return t.stop()}}),t)})))])),(0,b.jsxs)(b.Fragment,{children:[0===s.length?null:(0,b.jsx)(Q.Z,{fixed:"bottom",bg:"light",children:(0,b.jsxs)(m.Z,{fluid:!0,children:[(0,b.jsx)(Q.Z.Collapse,{className:"justify-content-start",children:(0,b.jsx)(E,{listName:this.props.listName,setHitIndex:function(t){e.setState({cHitId:t})},setHits:function(t){e.setState({hits:t})}})}),(0,b.jsxs)(Q.Z.Collapse,{className:"justify-content-end",children:[(0,b.jsx)(Q.Z.Text,{children:(0,b.jsx)(T.Z.Control,{type:"text",style:{textAlign:"right",width:"80px",padding:"2px 5px",marginRight:"20px"},accessKey:"p",placeholder:"Seite...",onKeyUp:function(e){if(13===e.keyCode){var t=document.querySelector("div#operaBox_"+e.target.value);t&&t.scrollIntoView({behavior:"smooth"})}}})}),(0,b.jsx)(Q.Z.Text,{children:(0,b.jsx)(R.vW,{menuItems:x})})]})]})}),(0,b.jsx)("div",{style:{gridArea:this.props.gridArea},children:0===s.length?(0,b.jsx)("div",{children:(0,b.jsx)(A,{animation:"glow",children:u})}):(0,b.jsx)("div",{className:"operaBox_"+this.props.listName,children:s})})]})}},{key:"gotoSearchResult",value:function(e){1===e&&this.state.hitIndex<this.state.maxHits-1?this.setState({hitIndex:this.state.hitIndex+1}):1===e?this.setState({hitIndex:0}):-1===e&&this.state.hitIndex>0?this.setState({hitIndex:this.state.hitIndex-1}):-1===e&&this.setState({hitIndex:this.state.maxHits-1})}},{key:"componentDidUpdate",value:function(e,t){this.state.hits&&this.state.hits.length>0?t.hitIndex!=this.state.hitIndex&&this.setState({cHitId:this.state.hits[this.state.hitIndex].id}):0!=this.state.cHitId&&this.setState({cHitId:0}),this.scrollRef&&this.scrollRef.current.scrollIntoView({behavior:"smooth",block:"center"})}}]),s}(v.Component);function E(e){var t=(0,v.useState)([]),s=(0,u.Z)(t,2),n=s[0],r=s[1],a=(0,v.useState)(0),i=(0,u.Z)(a,2),l=i[0],c=i[1],x=(0,v.useState)(""),h=(0,u.Z)(x,2),m=h[0],j=h[1];(0,v.useEffect)((function(){n.length>0&&e.setHitIndex(n[l].id)}),[n,l]),(0,v.useEffect)((function(){e.setHits(n)}),[n]);var p=function(e){if(1===e)l+1===n.length?c(0):c(l+1);else if(-1===e)c(0===l?n.length-1:l-1);else if(0===e){document.querySelector(".searchHit").scrollIntoView({behavior:"smooth",block:"center"})}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Q.Z.Text,{children:(0,b.jsx)(T.Z.Control,{type:"text",style:{padding:"2px 5px"},accessKey:"s",placeholder:"Suche nach Zitiertitel...",onKeyUp:function(){var t=(0,o.Z)((0,d.Z)().mark((function t(s){var n;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(13!==s.keyCode){t.next=13;break}if(""!==s.target.value){t.next=5;break}r([]),t.next=13;break;case 5:if(s.target.value==m){t.next=12;break}return t.next=8,D.Q[e.listName].search([{c:"search",o:"=",v:"".concat(s.target.value,"*")}],{select:["id"]});case 8:(n=t.sent).length>0?(j(s.target.value),c(0),r(n)):r([]),t.next=13;break;case 12:p(1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),n.length>0&&(0,b.jsx)(Q.Z.Text,{children:(0,b.jsxs)("div",{style:{display:"flex",marginLeft:"20px",border:"1px solid var(--bs-gray-200)"},children:[(0,b.jsx)(f.Z,{size:"sm",variant:"outline-dark",style:{borderRadius:"0.2rem 0 0 0.2rem"},onClick:function(){p(-1)},disabled:1===n.length,children:(0,b.jsx)(B.G,{icon:H.DYF,style:{fontSize:"14px"}})}),(0,b.jsxs)("div",{style:{borderBottom:"1px solid var(--bs-gray-600)",borderTop:"1px solid var(--bs-gray-600)",padding:"5px 15px",margin:"0",cursor:"pointer"},onClick:function(){p(0)},children:[l+1," / ",n.length]}),(0,b.jsx)(f.Z,{size:"sm",variant:"outline-dark",style:{borderRadius:"0 0.2rem 0.2rem 0"},onClick:function(){p(1)},disabled:1===n.length,children:(0,b.jsx)(B.G,{icon:H.irl,style:{fontSize:"12px"}})})]})})]})}var W=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(e){var r;return(0,n.Z)(this,s),(r=t.call(this,e)).state={selectionDetail:null,cTrLst:[]},r}return(0,r.Z)(s,[{key:"render",value:function(){var e=this;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Z,{className:"mainBody",children:(0,b.jsx)(M,{getLst:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getLst();case 1:case"end":return t.stop()}}),t)}))),cTrLst:this.state.cTrLst,listName:this.props.listName,currentElements:this.state.currentElements,count:this.state.count,currentPage:this.state.currentPage,pageMax:this.state.pageMax,gridArea:this.state.selectionDetail?"2/1/2/2":"2/1/2/3",showDetail:function(t){e.setState({item:t})}})}),"mlw"===D.Q.project_name&&D.Q.access("o_edit")&&this.state.item?(0,b.jsx)(F,{item:this.state.item,onUpdate:function(){e.setState({item:null})},onClose:function(){e.setState({item:null})},onReload:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({item:null}),t.next=3,e.getLst();case 3:case"end":return t.stop()}}),t)})))}):null,"tll"===D.Q.project_name&&D.Q.access("o_edit")&&this.state.item?(0,b.jsx)(q,{item:this.state.item,onUpdate:function(){e.setState({item:null})},onClose:function(){e.setState({item:null})},onReload:(0,o.Z)((0,d.Z)().mark((function t(){return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({item:null}),t.next=3,e.getLst();case 3:case"end":return t.stop()}}),t)})))}):null]})}},{key:"componentDidMount",value:function(){this.getLst()}},{key:"componentDidUpdate",value:function(e){this.props.listName!=e.listName&&this.getLst(),this.scrollRef&&this.scrollRef.current.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"getLst",value:function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var t,s,n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({cTrLst:[]}),e.next=3,D.Q[this.props.listName].getAll({count:!0});case 3:return t=e.sent,e.next=6,D.Q[this.props.listName].getAll();case 6:s=e.sent,n=this.createOperaLists(s,this.props.listName),this.setState({cTrLst:n,oMax:Math.floor(t[0].count/this.resultsOnPage)+1,currentPage:1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createOperaLists",value:function(e,t){var s,n=v.forwardRef((function(e,t){var s=e.children,n=e.onClick;return(0,b.jsxs)("span",{style:{cursor:"pointer"},ref:t,onClick:function(e){e.preventDefault(),n(e)},children:[s,(0,b.jsx)(B.G,{style:{color:"#4d565f",marginLeft:"5px"},icon:H.eW2})]})})),r=[],a=(0,l.Z)(e);try{var i=function(){var e=s.value,a=[];if(e.editions_id)for(var i=JSON.parse(e.editions_id),l=JSON.parse(e.editions_url),c=JSON.parse(e.editions_label),d=0;d<i.length;d++){var o="/".concat(D.Q.project_name,"/argos/").concat(i[d]),u="";l&&""!=l[d]&&(o=l[d],u=(0,b.jsxs)("span",{children:[" ",(0,b.jsx)(B.G,{style:{fontSize:"14px"},icon:H.Xjp})]}));var x="FEHLER!";c&&(x=c[d]),a.push((0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:o,target:"_blank",rel:"noreferrer",children:[x,u]})},d))}if("opera_maiora"==t){var h=e.work_id>0&&null===e.author_id?"<span>&nbsp;&nbsp;&nbsp;".concat(e.abbr,"</span>"):"<aut>".concat(e.abbr,"</aut>"),m=null!==e.gnd_id||null!==e.viaf_id||null!==e.gq_work_id||null!=e.gq_author_id?(0,b.jsxs)(z.Z,{children:[(0,b.jsx)(z.Z.Toggle,{as:n,id:"dropdown-custom-components",children:(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.work_id>0&&null===e.author_id?"<span>&nbsp;&nbsp;&nbsp;".concat(e.full,"</span>"):e.full)})}),(0,b.jsxs)(z.Z.Menu,{children:[null!==e.gq_author_id&&(0,b.jsxs)(z.Z.Item,{eventKey:"1",onClick:function(){window.open("https://geschichtsquellen.de/autor/".concat(e.gq_author_id),"_blank")},children:["Geschichtsquelle ",(0,b.jsx)("small",{children:"(Autor)"})]}),null!==e.gq_work_id&&(0,b.jsxs)(z.Z.Item,{eventKey:"2",onClick:function(){window.open("https://geschichtsquellen.de/werk/".concat(e.gq_work_id),"_blank")},children:["Geschichtsquelle ",(0,b.jsx)("small",{children:"(Werk)"})]}),null!==e.viaf_id?(0,b.jsx)(z.Z.Item,{eventKey:"3",onClick:function(){window.open("https://viaf.org/viaf/".concat(e.viaf_id),"_blank")},children:"VIAF"}):null,null!==e.gnd_id?(0,b.jsx)(z.Z.Item,{eventKey:"4",onClick:function(){window.open("https://d-nb.info/gnd/".concat(e.gnd_id),"_blank")},children:"DNB"}):null,null!==e.cc_idno?(0,b.jsx)(z.Z.Item,{eventKey:"5",onClick:function(){window.open("https://www.mlat.uzh.ch/browser?path=".concat(e.cc_idno),"_blank")},children:"Corpus Corporum"}):null,null!==e.wikidata_id?(0,b.jsx)(z.Z.Item,{eventKey:"6",onClick:function(){window.open("https://www.wikidata.org/wiki/".concat(e.wikidata_id),"_blank")},children:"Wikidata"}):null]})]}):(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.work_id>0&&null===e.author_id?"<span>&nbsp;&nbsp;&nbsp;".concat(e.full,"</span>"):e.full)});r.push({o:e,data:[(0,b.jsx)("td",{className:"c1",dangerouslySetInnerHTML:(0,R.rg)(e.date_display)},"0"),(0,b.jsx)("td",{className:"c2",dangerouslySetInnerHTML:(0,R.rg)(h)},"1"),(0,b.jsx)("td",{className:"c3",children:m},"2"),(0,b.jsxs)("td",{className:"c4",children:[(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.bibliography)}),(0,b.jsx)("ul",{className:"noneLst",children:a})]},"3"),(0,b.jsx)("td",{className:"c5",dangerouslySetInnerHTML:(0,R.rg)(e.comment)},"4")]})}else if("opera_minora"===t){var j=null!==e.viaf_id||null!==e.gnd_id||null!==e.gq_work_id||null!=e.gq_author_id?(0,b.jsxs)(z.Z,{children:[(0,b.jsx)(z.Z.Toggle,{as:n,id:"dropdown-custom-components",children:(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.citation)})}),(0,b.jsxs)(z.Z.Menu,{children:[null!==e.gq_author_id&&(0,b.jsxs)(z.Z.Item,{eventKey:"1",onClick:function(){window.open("https://geschichtsquellen.de/autor/".concat(e.gq_author_id),"_blank")},children:["Geschichtsquelle ",(0,b.jsx)("small",{children:"(Autor)"})]}),null!==e.gq_work_id&&(0,b.jsxs)(z.Z.Item,{eventKey:"2",onClick:function(){window.open("https://geschichtsquellen.de/werk/".concat(e.gq_work_id),"_blank")},children:["Geschichtsquelle ",(0,b.jsx)("small",{children:"(Werk)"})]}),null!==e.viaf_id?(0,b.jsx)(z.Z.Item,{eventKey:"3",onClick:function(){window.open("https://viaf.org/viaf/".concat(e.viaf_id),"_blank")},children:"VIAF"}):null,null!==e.gnd_id?(0,b.jsx)(z.Z.Item,{eventKey:"4",onClick:function(){window.open("https://d-nb.info/gnd/".concat(e.gnd_id),"_blank")},children:"DNB"}):null]})]}):(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.citation)});r.push({o:e,data:[(0,b.jsx)("td",{className:"c1_min",dangerouslySetInnerHTML:(0,R.rg)(e.date_display)},"0"),(0,b.jsx)("td",{className:"c2_min",children:j},"1"),(0,b.jsxs)("td",{className:"c5_min",children:[(0,b.jsx)("span",{dangerouslySetInnerHTML:(0,R.rg)(e.bibliography)}),(0,b.jsx)("ul",{className:"noneLst",children:a})]},"2")]})}else{if("tll_index"!==t)throw new Error("listname unknown!");var p="c0_tll",f=null,g=null;null!==e.auctor_id&&(p+=" a_".concat(e.auctor_id),g=(0,b.jsx)("aut",{style:{color:"blue"},children:e.auctor})),null!==e.opus_id&&(p+=" o_".concat(e.opus_id),g=(0,b.jsxs)(b.Fragment,{children:[null!==g?(0,b.jsxs)(b.Fragment,{children:[g," "]}):null,(0,b.jsx)("span",{style:{color:"green"},children:e.opus})]}),f=null!==e.auctor_id?f:"2rem"),null!=e.locus_id&&(p+=" l_".concat(e.locus_id),""!==e.locus&&null!==e.locus&&(g=(0,b.jsxs)(b.Fragment,{children:[null!==g?(0,b.jsxs)(b.Fragment,{children:[g," "]}):null,(0,b.jsxs)("span",{style:{color:"red"},children:[" ",e.locus]})]}),f=null!==e.opus_id?f:"4rem")),1!==e.in_use&&(g=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{style:{color:"orange"},children:"["}),g,(0,b.jsx)("span",{style:{color:"orange"},children:"]"})]})),r.push({o:e,data:[(0,b.jsx)("td",{className:p,dangerouslySetInnerHTML:(0,R.rg)(e.ord)},"0"),(0,b.jsx)("td",{className:"c1_tll",style:{paddingLeft:f},dangerouslySetInnerHTML:(0,R.rg)(e.date_display)},"1"),(0,b.jsx)("td",{className:"c2_tll",style:{paddingLeft:f},children:g},"2"),(0,b.jsx)("td",{className:"c3_tll",style:{paddingLeft:f},children:(0,b.jsx)("span",{onClick:function(){var t=document.querySelector(".".concat(e.ref_target));t&&t.scrollIntoView({behavior:"auto",block:"center"})},style:{textDecoration:e.ref_target?"underline":"",cursor:e.ref_target?"pointer":"default"},dangerouslySetInnerHTML:(0,R.rg)(e.ref_text)})},"3"),(0,b.jsx)("td",{className:"c4_tll",style:{paddingLeft:f},dangerouslySetInnerHTML:(0,R.rg)(e.explicatio)},"4"),(0,b.jsxs)("td",{className:"c5_tll",style:{paddingLeft:f},children:[(0,b.jsx)("div",{dangerouslySetInnerHTML:(0,R.rg)(e.editiones)}),(0,b.jsx)("ul",{className:"noneLst",children:a})]},"5")]})}};for(a.s();!(s=a.n()).done;)i()}catch(c){a.e(c)}finally{a.f()}return r}}]),s}(v.Component)}}]);
//# sourceMappingURL=395.1a9d33ab.chunk.js.map