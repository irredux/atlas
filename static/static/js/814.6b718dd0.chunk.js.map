{"version":3,"file":"static/js/814.6b718dd0.chunk.js","mappings":"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","sources":["changelog.js","editor/overview.js","../node_modules/react-bootstrap/esm/createUtilityClasses.js","../node_modules/react-bootstrap/esm/Stack.js","../node_modules/react-bootstrap/esm/Badge.js","editor/zettel.js","../node_modules/react-bootstrap/esm/types.js","../node_modules/react-bootstrap/esm/DropdownButton.js","editor/outline.js","editor/export.js","editor/editor.js","editor/mainContent.js","settings.js","../node_modules/react-bootstrap/esm/InputGroup.js","../node_modules/react-bootstrap/esm/NavDropdown.js","../node_modules/react-bootstrap/esm/NavLink.js"],"sourcesContent":["import { Alert, Container } from \"react-bootstrap\";\nimport { arachne } from \"./arachne.js\";\nimport { useState } from \"react\";\n\nfunction  ChangeLog(){\n    arachne.changeLog = arachne.changeLog.sort((a,b)=>a.date<b.date);\n    arachne.changeLog = arachne.changeLog.filter(a=>(a.project===undefined||a.project===arachne.project_name));\n    const [displayAll, setDisplayAll] = useState(arachne.changeLog.length>5?false:true);\n    const formatDate = d=>{\n        const numToMonth = {\n            \"01\": \"Januar\",\n            \"02\": \"Februar\",\n            \"03\": \"März\",\n            \"04\": \"April\",\n            \"05\": \"Mai\",\n            \"06\": \"Juni\",\n            \"07\": \"Juli\",\n            \"08\": \"August\",\n            \"09\": \"September\",\n            \"10\": \"Oktober\",\n            \"11\": \"November\",\n            \"12\": \"Dezember\",\n        };\n        return `${d.substring(8,10)}. ${numToMonth[d.substring(5,7)]} ${d.substring(0,4)}`;\n    };\n    return <Container>\n        {arachne.changeLog.map((c,i)=>{if(displayAll||i<5){return <Alert key={i} variant={i===0?\"primary\":\"secondary\"}><Alert.Heading>{c.title}</Alert.Heading><i>{formatDate(c.date)}</i>{c.description}</Alert>}else{return null}})}\n        {displayAll?null:<Alert style={{cursor: \"pointer\", marginTop: \"100px\", textAlign: \"center\"}} variant=\"secondary\" onClick={()=>{setDisplayAll(true)}}>Alle Änderungen anzeigen.</Alert>}\n    </Container>;\n    \n}\n\nexport { ChangeLog };","import { Container, Table, Tabs, Tab, Dropdown, Navbar } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { getSettings, setSetting } from \"./mainContent.js\";\n\nimport { arachne } from \"./../arachne.js\";\nimport { Message, ToolKit } from \"./../elements.js\";\n\nfunction Overview(props){\n    const [sortName, setSortName] = useState(getSettings().projectSort);\n    const [renameId, setRenameId] = useState(0);\n    const [shareId, setShareId] = useState(0);\n    const [renameName, setRenameName] = useState(\"\");\n    const [activeProjects, setActiveProjects] = useState([]);\n    const [archiveProjects, setArchiveProjects] = useState([]);\n    const [sharedProjects, setSharedProjects] = useState([]);\n    const [userLst, setUserLst] = useState([]);\n    useEffect(()=>{\n        refreshPage();\n    }, [sortName]);\n    useEffect(()=>{\n        const fetchData = async () => {\n            await refreshPage();\n            const users = await arachne.user.getAll({order: [\"last_name\"]});\n            setUserLst(users.map(u=>[u.id, `${u.first_name} ${u.last_name}`]))\n        };\n        fetchData();\n    }, [])\n    const refreshPage = async ()=>{\n        setActiveProjects(await arachne.project.get({user_id: arachne.me.id, status: 1}, {order: [sortName]}));\n        setArchiveProjects(await arachne.project.get({status: 2}, {order: [sortName]}));\n        setSharedProjects(await arachne.project.get({shared_id: arachne.me.id}, {order: [sortName]}));\n    };\n    const deleteProject = async id => {\n        if(window.confirm(`Soll das Projekt mit der ID '${id}' wirklich gelöscht werden? Dieser Schritt kann nicht rückgängig gemacht werden.`)){\n            //article\n            const articleLst = await arachne.article.get({project_id: id});\n            if(articleLst.length>0){await arachne.article.delete(articleLst.map(a=>a.id))}\n            //sections\n            const zettelLst = await arachne.sections.get({project_id: id});\n            if(zettelLst.length>0){await arachne.sections.delete(zettelLst.map(z=>z.id))}\n            // tags\n            const tagLst = await arachne.tags.get({project_id: id});\n            if(tagLst.length>0){await arachne.tags.delete(tagLst.map(z=>z.id))}\n            // tag_lnks\n            const tagLnkLst = await arachne.tag_lnks.get({project_id: id});\n            if(tagLnkLst.length>0){await arachne.tag_lnks.delete(tagLnkLst.map(z=>z.id))}\n            //project\n            await arachne.project.delete(id)\n            await refreshPage();\n        }\n    };\n    const copyProject = async oldProjectId => {\n        // copy project\n        let oldProject = await arachne.project.get({id: oldProjectId});\n        oldProject = oldProject[0];\n        delete oldProject.id;\n        oldProject.shared_id = null;\n        oldProject.name = `${oldProject.name}  (Kopie)`;\n        const newProjectId = await arachne.project.save(oldProject);\n        //copy sections\n        const zettelLnk = await arachne.sections.get({project_id: oldProjectId});\n        await arachne.sections.save(zettelLnk.map(z=>{\n            z.project_id = newProjectId;\n            z.shared_id = null;\n            return z;\n        }));\n        //copy article + sections\n        const articleLst = await arachne.article.get({project_id: oldProjectId});\n        await arachne.article.save(articleLst.map(a=>{\n            a.project_id = newProjectId;\n            a.shared_id = null;\n            return a;\n        }));\n        // copy tags and tag_lnks!\n        const oldTags = await arachne.tags.get({project_id: oldProjectId});\n        await arachne.tags.save(oldTags.map(t=>{\n            t.project_id = newProjectId;\n            t.shared_id = null;\n            return t;\n        }))\n        const oldTagLnks = await arachne.tag_lnks.get({project_id: oldProjectId});\n        await arachne.tag_lnks.save(oldTagLnks.map(t=>{\n            t.project_id = newProjectId;\n            t.shared_id = null;\n            return t;\n        }))\n        await refreshPage();\n    };\n    const shareProject = async (newUserId, projectId) => {\n        // to un-share project: newUserId = null\n        let shared_id = null\n        let user_id = null\n\n        if(newUserId){\n            const oldUserId = await arachne.project.get({id:projectId},{select: [\"user_id\"]})\n            user_id = newUserId\n            shared_id = oldUserId[0].user_id\n        }else{\n            const oldUserId = await arachne.project.get({id:projectId},{select: [\"shared_id\"]})\n            shared_id = null\n            user_id = oldUserId[0].shared_id\n        }\n        await arachne.project.save({id: projectId, shared_id: shared_id, user_id: user_id});\n        const articleLst = await arachne.article.get({project_id: projectId});\n        //copy zettelLnk\n        for(const a of articleLst){\n            a.user_id = user_id;\n            a.shared_id = shared_id;\n            const newArticleId = await arachne.article.save(a);\n        }\n        const zettelLnk = await arachne.sections.get({project_id: projectId});\n        for(const z of zettelLnk){\n            z.user_id = user_id;\n            z.shared_id = shared_id;\n            await arachne.sections.save(z)\n        }\n        await refreshPage();\n    };\n    const addToOpenRecent = p_id=>{\n        let openRecentLst = localStorage.getItem(\"openRecentEditor\");\n        if(openRecentLst){\n            openRecentLst=JSON.parse(openRecentLst);\n            openRecentLst = openRecentLst.filter(o=>o!==p_id);\n            openRecentLst.push(p_id);\n        }else{openRecentLst=[p_id]}\n        localStorage.setItem(\"openRecentEditor\", JSON.stringify(openRecentLst))\n    };\n    return <>\n        <Message show={renameId>0?true:false} title=\"Projekt-Name auswählen\" msg=\"Geben Sie einen Namen für das Projekt ein:\" input={renameName} onReplay={async e=>{if(e!=-1 && e!=\"\"){\n            await arachne.project.save({id: renameId, name: e})\n            \n        };\n        await refreshPage();\n        setRenameId(0);\n        }} />\n        <Message show={shareId>0?true:false} title=\"Projekt freigeben\" msg=\"Wem wollen Sie das Projekt freigeben?\" dropDown={userLst} onReplay={async e=>{\n            console.log(e);\n            if(e!=-1 && e!=\"\"){\n                await shareProject(e, shareId);\n            }\n            setShareId(0);\n        }} />\n        <Container>\n        <Tabs defaultActiveKey=\"active\">\n            <Tab eventKey=\"active\" title=\"aktive Projekte\">\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\"></th><th width=\"20%\">Änderungsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {activeProjects.map(p => {\n                                let editMenu = [\n                                    [\"umbenennen\", ()=>{ \n                                        setRenameName(p.name);\n                                        setRenameId(p.id);\n                                    }],\n                                    [\"kopieren\", async ()=>{copyProject(p.id)}],\n                                    [\"ins Archiv\", async ()=>{await arachne.project.save({id: p.id, status:2});await refreshPage();}],\n                                    [\"freigeben\", ()=>{setShareId(p.id)}]\n                                ];\n                                if(p.shared_id>0){\n                                    editMenu = [\n                                        [\"umbenennen\", ()=>{ \n                                            setRenameName(p.name);\n                                            setRenameId(p.id);\n                                        }],\n                                        [\"kopieren\", async ()=>{copyProject(p.id)}],\n                                        [\"freigabe beenden\", async ()=>{await shareProject(null, p.id)}]\n                                    ];\n                                }\n                                return <ProjectRow\n                                key={p.id}\n                                p={p}\n                                openProject={()=>{addToOpenRecent(p.id);props.loadMain(null, \"editor\", p.id)}}\n                                editMenu={editMenu}\n                                deleteProject={async i=>{await deleteProject(i)}}\n                            />;})}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"archive\" title=\"Archiv\" disabled={archiveProjects.length===0?true:false}>\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\"></th><th width=\"20%\">Änderungsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {archiveProjects.map(p => {\n                                return <ProjectRow\n                                key={p.id}\n                                openProject={null}\n                                p={p}\n                                editMenu={[\n                                    [\"zu den aktiven Projekten\", async ()=>{await arachne.project.save({id: p.id, status:1});await refreshPage();}],\n                                ]}\n                                deleteProject={async i=>{await deleteProject(i)}}\n                            />;\n                            })}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"shared\" title=\"freigegebene Projekte\" disabled={sharedProjects.length===0?true:false}>\n                <Container className=\"m-4\" style={{width: \"auto\"}}>\n                    <Table width=\"100%\" hover>\n                        <thead>\n                            <tr><th width=\"30%\">Name</th><th width=\"20%\">freigegeben</th><th width=\"20%\">Änderufrengsdatum</th><th width=\"20%\">Erstelldatum</th><th width=\"10%\"></th></tr>\n                        </thead>\n                        <tbody>\n                            {sharedProjects.map(p => {return <ProjectRow\n                                key={p.id}\n                                p={p}\n                                editMenu={[\n                                    [\"nicht mehr freigeben\", ()=>{shareProject(null, p.id)}]\n                                ]}\n                            />;})}\n                        </tbody>\n                    </Table>\n                </Container>\n            </Tab>\n        </Tabs>\n        </Container>\n        <NavBarBottom refreshPage={refreshPage} setSortName={e=>setSortName(e)} />\n    </>\n};\nfunction ProjectRow(props){\n    const [showEdit, setShowEdit] = useState(false)\n    const [shared, setShared] = useState();\n    const [isShared, setIsShared] = useState(false);\n    useEffect(()=>{\n        const getUserName = async id=>{\n            const userName = await arachne.user.get({id: id});\n            setShared(`${userName[0].first_name} ${userName[0].last_name}`);\n        };\n        if(props.p.shared_id>0&&props.p.status===4){getUserName(props.p.user_id)}\n        else if(props.p.shared_id>0&&props.p.status===1){getUserName(props.p.shared_id);setIsShared(true)}\n    },[]);\n    return <tr style={{height: \"49px\"}} className={isShared?\"text-primary\":null} onMouseEnter={()=>{setShowEdit(true)}} onMouseLeave={()=>{setShowEdit(false)}}><td><b style={{cursor: props.openProject?\"pointer\":\"default\"}} onClick={()=>{if(props.openProject){props.openProject(props.p.id)}}}>{props.p.name}</b></td><td>{shared}</td><td>{props.p.u_date.substring(0, 16)}</td><td>{props.p.c_date.substring(0, 16)}</td><td style={{minWidth: \"115px\"}}>\n    <Dropdown style={{display: showEdit?\"block\":\"none\"}}>\n        <Dropdown.Toggle size=\"sm\" variant=\"outline-primary\">bearbeiten</Dropdown.Toggle>\n        <Dropdown.Menu variant=\"dark\">\n            {props.editMenu.map(e=>{return <Dropdown.Item key={e[0]} onClick={()=>{e[1]()}}>{e[0]}</Dropdown.Item>;})}\n            {props.deleteProject?<>\n                <Dropdown.Divider />\n                <Dropdown.Item onClick={()=>{props.deleteProject(props.p.id)}}>löschen</Dropdown.Item>\n            </>:null}\n        </Dropdown.Menu>\n    </Dropdown>\n    </td></tr>;\n}\nfunction NavBarBottom(props){\n    const [showSort, setShowSort] = useState(false);\n    const [createNewProject, setCreateNewProject] = useState(false);\n    const ToolKitItems = [\n        [\"Sortieren nach\", ()=>{setShowSort(true)}],\n        [\"neues Projekt erstellen\", async ()=>{setCreateNewProject(true)}],\n    ];\n    return <Navbar fixed=\"bottom\" bg=\"light\">\n        <Message show={createNewProject} title=\"Projekt-Name auswählen\" msg=\"Geben Sie einen Namen für das neue Projekt ein:\" input=\"Neues Projekt\" onReplay={async name=>{\n            if(name!=-1 && name!=\"\"){\n                await arachne.project.save({name: name, user_id: arachne.me.id, status: 1})\n            };\n            await props.refreshPage();\n            setCreateNewProject(false);\n        }} />\n        <Message show={showSort} title=\"Sortierung der Projekte\" msg=\"Wie sollen die Projekte sortiert werden? Nach ...\" dropDown={[\n            [\"name\", \"Name\"],\n            [\"u_date\", \"Änderungsdatum\"],\n            [\"c_date\", \"Erstelldatum\"],\n        ]} onReplay={async e=>{\n            setSetting(\"projectSort\", e);\n            props.setSortName(e);\n            setShowSort(false);\n        }} />\n        <Container fluid>\n            <Navbar.Collapse className=\"justify-content-start\"></Navbar.Collapse>\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Navbar.Text>\n                    <ToolKit menuItems={ToolKitItems} />\n                </Navbar.Text>\n            </Navbar.Collapse>\n        </Container>\n    </Navbar>;\n}\n\nexport { Overview };","import PropTypes from 'prop-types';\nimport { DEFAULT_BREAKPOINTS } from './ThemeProvider';\nexport function responsivePropType(propType) {\n  return PropTypes.oneOfType([propType, PropTypes.shape({\n    xs: propType,\n    sm: propType,\n    md: propType,\n    lg: propType,\n    xl: propType,\n    xxl: propType\n  })]);\n}\nexport default function createUtilityClassName(utilityValues, breakpoints = DEFAULT_BREAKPOINTS) {\n  const classes = [];\n  Object.entries(utilityValues).forEach(([utilName, utilValue]) => {\n    if (utilValue != null) {\n      if (typeof utilValue === 'object') {\n        breakpoints.forEach(brkPoint => {\n          const bpValue = utilValue[brkPoint];\n\n          if (bpValue != null) {\n            const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n            classes.push(`${utilName}${infix}-${bpValue}`);\n          }\n        });\n      } else {\n        classes.push(`${utilName}-${utilValue}`);\n      }\n    }\n  });\n  return classes;\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints } from './ThemeProvider';\nimport createUtilityClassName, { responsivePropType } from './createUtilityClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Stack = /*#__PURE__*/React.forwardRef(({\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  direction,\n  gap,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, direction === 'horizontal' ? 'hstack' : 'vstack');\n  const breakpoints = useBootstrapBreakpoints();\n  return /*#__PURE__*/_jsx(Component, { ...props,\n    ref: ref,\n    className: classNames(className, bsPrefix, ...createUtilityClassName({\n      gap,\n      breakpoints\n    }))\n  });\n});\nStack.displayName = 'Stack';\nexport default Stack;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  bg: 'primary',\n  pill: false\n};\nconst Badge = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  bg,\n  pill,\n  text,\n  className,\n  as: Component = 'span',\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'badge');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, prefix, pill && `rounded-pill`, text && `text-${text}`, bg && `bg-${bg}`)\n  });\n});\nBadge.displayName = 'Badge';\nBadge.defaultProps = defaultProps;\nexport default Badge;","import { useEffect, useState, useRef } from \"react\";\nimport { Button, ButtonGroup, Dropdown, Table, Badge, Card, Col, Form, Container, Row, Modal, Accordion, Stack, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGear, faPlusCircle, faXmark, faTimesCircle, faPenToSquare, faTrashCan, faEye, faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { arachne } from \"./../arachne.js\";\nimport { AutoComplete, SearchInput, StatusButton, useIntersectionObserver, Message, sleep, parseHTML } from \"./../elements.js\"\n\nfunction ZettelBox(props){\n    const [currentZettel, setCurrentZettel] = useState(\"?\")\n    const [wideScreen, setWideScreen] = useState(true);\n    const [splitView, setSplitView] = useState(false);\n    const [splitViewURL, setSplitViewURL] = useState(\"\");\n    const setRessourceView = url => {\n        if(!splitView){setSplitView(true)}\n        setSplitViewURL(url)\n    }\n    useEffect(()=>{\n        const resizeObserver = new ResizeObserver(entries=>{\n            if(wideScreen===true&&entries[0].contentRect.width<1000){\n                setWideScreen(false)\n            }\n            if(wideScreen===false&&entries[0].contentRect.width>=1000){\n                setWideScreen(true)\n            }\n        });\n        resizeObserver.observe(document.getElementById(\"cardBox\"));\n        return ()=>{if(document.getElementById(\"cardBox\")){resizeObserver.unobserve(document.getElementById(\"cardBox\"))}};\n    },[wideScreen]);\n    return <>\n    <ImportZettel updateArticles={props.updateArticles} show={props.showImport} project={props.project} onReplay={e=>{\n            if(e){props.updateSections()};\n            props.setShowImport(false);\n        }} />\n    <Container fluid>\n        <Row>\n            <Col id=\"cardBox\">\n                <Stack gap={5}>\n                    {props.filterLst.map(sId=><SectionCard setChangeZettelWork={props.setChangeZettelWork} updateSections={props.updateSections} wideScreen={wideScreen} setRessourceView={url=>{setRessourceView(url)}} project={props.project} sId={sId} key={sId} />)}\n                </Stack>\n            </Col>\n            {splitView?<Col>\n            <iframe src={splitViewURL} style={{position: \"fixed\", top:\"0px\", left: \"50%\", height: \"100%\", width: \"50%\"}}></iframe>\n            <FontAwesomeIcon icon={faTimesCircle} style={{color: \"var(--bs-danger)\", fontSize:\"24px\", zIndex:\"99999999\", position: \"fixed\", top: \"80px\", right: \"30px\"}} onClick={()=>{setSplitView(false)}} />\n            </Col>:null}\n        </Row>\n    </Container>\n    {<MenuLeft setFilterSearchIds={props.setFilterSearchIds} setLimitFilterResults={v=>{props.setLimitFilterResults(v)}} setActiveTabKey={props.setSectionsMenuActiveTabKey} activeTabKey={props.sectionsMenuActiveTabKey} project={props.project} filterTags={props.filterTags} setFilterTags={newTags=>{props.setFilterTags(newTags)}} tagLst={props.tagLst} show={props.sectionsMenuActiveTabKey!=null} onHide={()=>{props.setSectionsMenuActiveTabKey(null)}} updateSections={()=>{props.updateSections()}} />}\n    <div style={{fontSize: \"95%\", position: \"fixed\", display: \"flex\", justifyContent:\"space-between\", bottom: \"0px\", left: 0, right: 0, backgroundColor: \"#f8f9fa\", padding: \"5px 20px\"}}>\n        <div style={{display: \"flex\", justifyContent:\"space-around\", gap: \"10px\"}}>{props.filterSearchIds.length===0&&props.filterTags&&props.filterTags.length>0?props.filterTags.map(t=><div style={{cursor: \"default\", backgroundColor: t.exclude?\"rgb(248,248,248)\":t.color, fontWeight: \"bold\", color: t.exclude?t.color:\"rgba(255,255,255, 0.8)\", border: `1px solid ${t.color}`, margin: \"1px 2px\", padding: \"1px 10px 1px 13px\", borderRadius: \"18px\"}}>{t.name}</div>):props.filterSearchIds.length?<div><small><i>Suchergebnisse</i></small></div>:<div style={{color: \"gray\"}}><small><i>kein Filter</i></small></div>}</div>\n        <div><input style={{background: \"none\", border: \"none\", outline: \"none\", width: \"60px\", textAlign: \"right\"}} id=\"editor_zettel_current_active\" value={currentZettel} onChange={e=>{setCurrentZettel(e.target.value)}} onKeyUp={e=>{\n            if(e.keyCode===13){\n                const els = document.getElementsByClassName(\"editor_zettel_card\");\n                if(els[parseInt(currentZettel)-1]){els[parseInt(currentZettel)-1].scrollIntoView({behavior: \"auto\", block: \"center\"})}\n            }\n        }} /> / {props.filterSearchIds.length>0?props.filterSearchIds.length:props.filterLst.length}</div>\n    </div>\n    </>;\n}\nfunction MenuLeft(props){\n    const [tags, setTags] = useState([]);\n    const [renameId, setRenameId] = useState(0);\n    const [renameName, setRenameName] = useState(\"\");\n    const [query, setQuery] = useState(\"\");\n    const [resultLst, setResultLst] = useState([]);\n    const [queryRef, setQueryRef] = useState(true);\n    const [queryText, setQueryText] = useState(false);\n\n    useEffect(()=>{\n        if(props.show){loadTags()}\n    }, [props.show]);\n    const loadTags = async ()=>{\n        const allTags = await arachne.tags.get({project_id: props.project.id});\n        let enhancedTags = []\n        for(let tag of allTags){\n            const tagCount = await arachne.tag_lnks.get({tag_id: tag.id}, {count: true});\n            tag.sections = tagCount[0].count;\n            enhancedTags.push(tag);\n        }\n        setTags(enhancedTags);\n    };\n    const deleteTag = async tag=>{\n        if(window.confirm(`Soll das Schlagwort '${tag.name}' wirklich gelöscht werden? Es wird aus allen Stellen entfernt!`)){\n            const oldTagLnks = await arachne.tag_lnks.get({tag_id: tag.id}, {select: [\"id\"]});\n            await arachne.tag_lnks.delete(oldTagLnks.map(t=>t.id));\n            await arachne.tags.delete(tag.id);\n            await loadTags();\n        }\n    };\n    return <Offcanvas show={props.show} onHide={()=>{props.updateSections();props.onHide()}}>\n    <Offcanvas.Header closeButton>\n      <Offcanvas.Title></Offcanvas.Title>\n    </Offcanvas.Header>\n    <Offcanvas.Body>\n        <Message show={renameId>0?true:false} title=\"Schlagwort umbenennen\" msg=\"Geben Sie einen neuen Namen für das Schlagwort ein:\" input={renameName} onReplay={async e=>{\n            const tagNames = tags.map(t=>t.name.toLowerCase());\n            if(e!=-1&&e!=\"\"){\n                if(tagNames.includes(e.toLowerCase())){\n                    alert(`Der Name '${e}' wird bereits verwendet!`)\n                }else{\n                    await arachne.tags.save({id: renameId, name: e});\n                    await loadTags();\n                }\n            };\n            setRenameId(0);\n        }} />\n        <Tabs defaultActiveKey=\"filter\" className=\"mb-3\" activeKey={props.activeTabKey} onSelect={k=>{props.setActiveTabKey(k)}}>\n            <Tab eventKey=\"search\" title=\"Suche\">\n                <Container>\n                    <Row><Col>\n                        <div style={{display: \"flex\", gap: \"5px\"}}>\n                            <Form.Control placeholder=\"Suche...\" size=\"sm\" type=\"text\" value={query} onChange={async(e)=>{\n                                setQuery(e.target.value);\n                                if(e.target.value===\"\"){setResultLst([])}\n                                else{\n                                    let searchArray = [{c: \"project_id\", o: \"=\", v: props.project.id}];\n                                    if(queryRef){searchArray.push({c: \"ref\", o: \"LIKE\", v: `*${e.target.value}*`})}\n                                    if(queryText){searchArray.push({c: \"text\", o: \"LIKE\", v: `*${e.target.value}*`})}\n                                    setResultLst(await arachne.sections.search(searchArray, {select: [\"id\", \"ref\", \"text\"]}));\n                                }\n                            }} />\n                            <Dropdown autoClose=\"outside\">\n                                <Dropdown.Toggle size=\"sm\" tabIndex=\"-1\" variant=\"outline-secondary\">\n                                    <FontAwesomeIcon icon={faGear} />\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu>\n                                    <Dropdown.Header>Suchen in:</Dropdown.Header>\n                                    <Dropdown.Item className={queryRef?\"text-primary\":null} onClick={()=>{setQueryRef(!queryRef)}}>Zitiertitel</Dropdown.Item>\n                                    <Dropdown.Item className={queryText?\"text-primary\":null} onClick={()=>{setQueryText(!queryText)}}>Belegtext</Dropdown.Item>\n                                </Dropdown.Menu>\n                            </Dropdown>\n                        </div>\n                    </Col></Row>\n                    {resultLst.length>0?<Row className=\"mt-1\"><Col style={{textAlign: \"right\"}}><small className=\"text-primary\" style={{cursor: \"pointer\"}} onClick={()=>{props.setFilterSearchIds([]);props.setFilterSearchIds(resultLst.map(r=>r.id))}}>Auswahl anzeigen</small></Col></Row>:null}\n                    {resultLst.map(s=><Row><Col><hr /><span dangerouslySetInnerHTML={parseHTML(queryRef?s.ref.replace(new RegExp(`(${query})`, \"gi\"), \"<strong>$1</strong>\"):s.ref)}></span><p><small dangerouslySetInnerHTML={parseHTML(queryText?s.text.replace(new RegExp(`(${query})`, \"gi\"), \"<strong>$1</strong>\"):s.text)}></small></p></Col></Row>)}\n                </Container>\n            </Tab>\n            <Tab eventKey=\"filter\" title=\"Filter\">\n                <Container>\n                    <Row className=\"mb-3\"><Col><FilterBox filterTags={props.filterTags} setFilterTags={newTags=>{props.setFilterTags(newTags)}} project={props.project} /></Col></Row>\n                    <Row className=\"mb-4\"><Col></Col><Col><Button style={{width: \"100%\"}} onClick={()=>{props.updateSections()}}>Stellen filtern</Button></Col></Row>\n                </Container>\n            </Tab>\n            <Tab eventKey=\"tags\" title=\"Schlagworte\">\n                <Table>\n                    <tbody>\n                        {tags.map(t=><tr key={t.id}>\n                            <td><Form.Control\n                                style={{display: \"inline\"}}\n                                size=\"sm\"\n                                type=\"color\"\n                                id=\"exampleColorInput\"\n                                defaultValue={t.color}\n                                title=\"Choose your color\"\n                                onChange={async e=>{await arachne.tags.save({id: t.id, color: e.target.value});await loadTags()}}\n                            /></td>\n                            <td><b style={{marginLeft: \"10px\", color: t.color, cursor: \"pointer\"}} onClick={()=>{props.setFilterTags([t]);props.setActiveTabKey(\"filter\")}}>{t.name}</b></td>\n                            <td>{t.sections}</td>\n                            <td onClick={async()=>{await arachne.tags.save({id: t.id, display: t.display===1?0:1});await loadTags()}}>{t.display===1?<FontAwesomeIcon className=\"text-primary\" style={{cursor: \"pointer\"}} icon={faEye} />:<FontAwesomeIcon className=\"text-secondary\" style={{cursor: \"pointer\"}} icon={faEyeSlash} />}</td>\n                            <td><FontAwesomeIcon icon={faPenToSquare} style={{cursor: \"pointer\", color: \"var(--bs-primary)\"}} onClick={()=>{setRenameName(t.name);setRenameId(t.id)}} /></td>\n                            <td><FontAwesomeIcon icon={faTrashCan} style={{cursor: \"pointer\", color: \"var(--bs-primary)\"}} onClick={()=>{deleteTag(t)}} /></td>\n                        </tr>)}\n                    </tbody>\n                </Table>\n            </Tab>\n        </Tabs>\n    </Offcanvas.Body>\n  </Offcanvas>;\n}\nfunction SectionCard(props){\n    const [ressources, setRessources] = useState([]);\n    const [showComment, setShowComment] = useState(false);\n    const [showDate, setShowDate] = useState(false);\n    const [dateIsValid, setDateIsValid] = useState(false);\n    const [comment, setComment] = useState(\"\");\n    const [img, setImg] = useState(null);\n    const [reference, setReference] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [date, setDate] = useState(9999);\n    const [verso, setVerso] = useState(false);\n    const [tags, setTags] = useState([]);\n    const [unusedTags, setUnusedTags] = useState([]);\n    const [section, setSection] = useState({});\n    const [isVisible, setIsVisible] = useState(false);\n\n    const refImg = useRef();\n    const centerSection = () =>{document.getElementById(\"s_\"+props.sId).scrollIntoView({block: \"center\"})};\n    useIntersectionObserver({\n      target: refImg,\n      onIntersect: ([{ isIntersecting }], observerElement) => {\n        if (isIntersecting) {\n          setIsVisible(true);\n          observerElement.unobserve(refImg.current);\n        }\n      }\n    });\n    useEffect(()=>{\n        if(isVisible){\n            loadSection();\n            loadTags();\n        }else{\n            setImg(null);\n            setTags([]);\n        }\n    },[isVisible]);\n    useEffect(()=>{if(isVisible){setImg(arachne.url+section.img+`${verso?\"v\":\"\"}.jpg`)}}, [verso]);\n    const loadSection = async () =>{\n        const newSection = await arachne.sections.get({id: props.sId});\n        if(newSection[0].img){setImg(arachne.url+newSection[0].img+`${verso?\"v\":\"\"}.jpg`)}\n        else{setImg(null)}\n        setReference(newSection[0].ref);\n        setText(newSection[0].text);\n        setComment(newSection[0].comment);\n        if(newSection[0].comment!=null&&newSection[0].comment!=\"\"){setShowComment(true)}\n        setSection(newSection[0]);\n        setDate(newSection[0].date_sort);\n        setDateIsValid(true);\n        // load ressources\n        setRessources(await arachne.edition.get({work_id: newSection[0].work_id}, {select: [\"id\", \"label\", \"url\"]}));\n    };\n    const loadTags =  async()=>{\n        let cAllTags = await arachne.tags.get({project_id: props.project.id});\n        const cTagLnks = await arachne.tag_lnks.get({section_id: props.sId});\n        let newTags = [];\n        for(const cTagLnk of cTagLnks){\n            const newTagIndex = cAllTags.findIndex(t=>t.id===cTagLnk.tag_id);\n            if(newTagIndex===-1){throw \"ERROR! CANNOT FIND TAG INDEX!\"}\n            else{\n                newTags.push(cAllTags[newTagIndex]);\n                cAllTags.splice(newTagIndex,1);\n            }\n        }\n        setUnusedTags(cAllTags);\n        setTags(newTags);\n    };\n    const openZettelDB = () =>{\n        localStorage.setItem(arachne.project_name+\"_searchBox_zettel\",`[[{\"id\":0,\"c\":\"id\",\"o\":\"=\",\"v\":\"${section.zettel_id}\"}],1,[\"id\"]]`);\n        window.open(`/static/index.html?project=${arachne.project_name}&app=db&site=zettel`);\n    }//style={{ width: '80%', maxWidth: \"600px\", margin: \"auto\" }}>\n    return <Card ref={refImg} className={props.wideScreen?\"largeScreen editor_zettel_card\":\"editor_zettel_card\"} id={\"s_\"+props.sId} style={{ width: \"80%\", margin: \"auto\" }} onFocus={e=>{\n        const el = document.getElementById(\"editor_zettel_current_active\");\n        if(el){\n            const allCards = document.getElementsByClassName(\"editor_zettel_card\");\n            for(let i = 0; i<allCards.length;i++){\n                if(allCards[i].id===\"s_\"+props.sId){\n                    el.value = i+1;\n                    break;\n                }\n            }\n        }\n        }}>\n        {img?<Card.Img style={{aspectRatio: \"10/7\"}} variant=\"top\" src={img} />:null}\n        <Card.Body className=\"editor_zettel_CardBox\">\n            <Row className=\"mb-3\" style={{marginBottom: \"47px\"}}><Col><Form.Control placeholder=\"Zitiertitel...\" onFocus={()=>{centerSection()}} size=\"sm\" type=\"text\" value={reference?reference:\"\"} onChange={e=>{setReference(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, ref: e.target.value})}} /></Col></Row>\n            <Row className=\"mb-3\">\n                <Col>\n                    <Form.Control placeholder=\"Text der Stelle...\" onFocus={()=>{centerSection()}} as=\"textarea\" rows={3} style={{minHeight: \"120px\",fontSize: \"95%\"}} value={text?text:\"\"} onChange={e=>{setText(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, text: e.target.value})}} />\n                    </Col>\n            </Row>\n            {showDate?<Row className=\"mb-3\">\n                <Col><Form.Control value={date} onChange={e=>{if(e.target.value.search(/^\\d+$/g)>-1){setDateIsValid(true)}else{setDateIsValid(false)};setDate(e.target.value)}} style={{textAlign: \"right\"}} isValid={dateIsValid} onBlur={async e=>{if(dateIsValid){await arachne.sections.save({id: props.sId, date_sort: e.target.value})}}} /></Col>\n            </Row>:null}\n            {showComment?<Row className=\"mb-3\">\n                <Col><Form.Control className=\"mt-2\" placeholder=\"Schreiben Sie einen Kommentar...\" onFocus={()=>{centerSection()}} as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={comment?comment:\"\"} onChange={e=>{setComment(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sId, comment: e.target.value})}} /></Col>\n            </Row>:null}\n            <Row style={{marginBottom: \"47px\"}}>\n                <Col>\n            <TagBox isVisible={isVisible} loadTags={async ()=>{await loadTags()}} tags={tags} project={props.project} s={section} unusedTags={unusedTags} centerSection={()=>{centerSection()}} />\n            </Col>\n            </Row>\n            <div style={{display: \"flex\", justifyContent: \"flex-end\", gap: \"15px\", margin: \"0 0.4rem 0 0.4rem\", position: \"absolute\",  bottom: \"10px\", left: \"10px\", right: \"10px\"}}>\n            <RessourcesButtons setRessourceView={url=>{props.setRessourceView(url)}} ressources={ressources} />\n            <Dropdown>\n                <Dropdown.Toggle tabIndex=\"-1\" variant=\"outline-secondary\">\n                    <FontAwesomeIcon icon={faGear} />\n                </Dropdown.Toggle>\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={()=>{openZettelDB()}}>Zettel bearbeiten</Dropdown.Item>\n                    <Dropdown.Item onClick={()=>{setVerso(!verso)}}>Zettel drehen</Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Item onClick={async()=>{\n                        const acWork = await arachne.work.get({id: section.work_id}, {select: [\"ac_web\"]})\n                        props.setChangeZettelWork({value: acWork[0].ac_web, id:section.work_id, section_id: props.sId});\n                    }}>verknpft. Werk ändern</Dropdown.Item>\n                    <Dropdown.Item onClick={()=>{setShowDate(!showDate)}}>{showDate?\"Datierung ausblenden\":\"Datierung anzeigen\"}</Dropdown.Item>\n                    <Dropdown.Item onClick={()=>{setShowComment(true)}}>Kommentar hinzufügen</Dropdown.Item>\n                    <Dropdown.Divider />\n                    <Dropdown.Item onClick={async()=>{\n                        let vals = await arachne.sections.get({id: props.sId});\n                        delete vals.id;\n                        const newId = await arachne.sections.save(vals);\n                        props.updateSections(true);\n                        await sleep(300);\n                        const el = document.getElementById(`s_${newId}`);\n                        if(el){el.scrollIntoView({behavior: \"auto\", block: \"center\"})}\n                    }}>Stelle duplizieren</Dropdown.Item>\n                    <Dropdown.Item onClick={async ()=>{if(window.confirm(\"Soll die Stelle aus dem Projekt entfernt werden? Alle Änderungen gehen verloren.\")){await arachne.sections.delete(props.sId);props.updateSections()}}} className=\"text-danger\">Stelle löschen</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n            {/*<DropdownButton tabIndex=\"-1\" variant=\"outline-secondary\" id=\"dropdown-basic-button\" title={<FontAwesomeIcon icon={faGear} />}>\n                            \n                        </DropdownButton>*/}\n            </div>\n        </Card.Body>\n    </Card>;\n}\nfunction RessourcesButtons(props){\n    const [button, setButton] = useState(null);\n    const [selected, setSelected] = useState(null);\n    const openRessource = (url) => {\n        console.log(url);\n        switch(arachne.options.openExternally){\n            case 0:\n                props.setRessourceView(url);\n                break;\n            case 1:\n                window.open(url);\n                break;\n            case 2:\n                arachne.sendEcho({type: \"edition\", url: url});\n                break;\n            default:\n                props.setRessourceView(url);\n        }\n    }\n    useEffect(()=>{\n        if(props.ressources.length===0){setButton(null)}\n        else if(props.ressources.length===1){setButton(<Button tabIndex=\"-1\" size=\"sm\" variant=\"outline-dark\" onClick={()=>{openRessource(props.ressources[0].url===null||props.ressources[0].url===\"\"?`/static/index.html?project=${arachne.project_name}&app=argos&site=edition&id=${props.ressources[0].id}`:props.ressources[0].url)}}>{props.ressources[0].label}</Button>)}\n        else{\n            setSelected(props.ressources[0]);\n        }\n    }, [props.ressources]);\n    useEffect(()=>{\n        if(selected!=null){\n            setButton(<Dropdown as={ButtonGroup}>\n                <Button size=\"sm\" variant=\"outline-dark\" style={{width: \"100%\"}} onClick={()=>{openRessource(selected.url===null||selected.url===\"\"?`/static/index.html?project=${arachne.project_name}&app=argos&site=edition&id=${selected.id}`:selected.url)}}>{selected.label}</Button>\n                <Dropdown.Toggle split size=\"sm\" variant=\"dark\" id=\"dropdown-split-basic\" />\n                <Dropdown.Menu>\n                    {props.ressources.map(r=><Dropdown.Item key={r.id} onClick={()=>{setSelected(r)}}>{r.label}</Dropdown.Item>)}\n                </Dropdown.Menu>\n            </Dropdown>);\n        }\n    }, [selected])\n    return button;\n}\nfunction FilterBox(props){\n    const [inputMode, setInputMode] = useState(0); // 0 = normal; 1 = remove; 2 = exclude\n    useEffect(()=>{\n    },[props.filterTags]);\n    const removeTag = t => {props.setFilterTags(props.filterTags.filter(ft=>ft.id!==t.id))}\n    const addTag = async tName => {\n        let newTags = structuredClone(props.filterTags); // deep copy\n        const newTag = await arachne.tags.get({project_id: props.project.id, name: tName});\n        if(inputMode===2){newTag[0].exclude=true}\n        newTags.push(newTag[0])\n        props.setFilterTags(newTags);\n    }\n    let borderStyle = \"1px solid #ced4da\"\n    let backgroundColor = null\n    if(inputMode===1){\n        borderStyle = \"1px solid var(--bs-yellow)\"\n        backgroundColor = \"#ffecb1\"\n    }else if(inputMode===2){\n        borderStyle = \"1px solid var(--bs-teal)\"\n        backgroundColor = \"#e2f7ed\"\n    }\n    return <div className=\"mt-2\" id=\"filter_box\" style={{border: borderStyle, backgroundColor: backgroundColor,padding: \"2px 5px\", display: \"flex\", alignContent: \"flex-start\", alignItems: \"flex-start\", flexWrap: \"wrap\", minHeight: \"220px\", borderRadius: \"0.25rem\", fontSize: \"100%\"}} onClick={()=>{\n        let tb = document.getElementById(\"filter_box\");\n        tb.children[tb.children.length-1].children[0].focus()\n        }}>\n            {props.filterTags.map(t=><FilterTag key={t.id} t={t} removeTag={t=>{removeTag(t)}} />)}\n            <FilterBoxInput inputMode={inputMode} setInputMode={v=>{setInputMode(v)}} tags={props.filterTags} addTag={addTag} removeTag={t=>{removeTag(t)}} project={props.project} />\n    </div>;\n}\nfunction FilterBoxInput(props){\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acTags, setACTags] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(-1);\n    const loadACTags = async ()=>{\n        if(props.inputMode===0||props.inputMode===2){\n            const currentTags = props.tags.map(t=>t.name);\n            const newACTags = await arachne.tags.get({project_id: props.project.id});\n            let currentACTags = newACTags.filter(t=>!currentTags.includes(t.name));\n            if(inputValue===\"\"){setACTags(currentACTags)}\n            else{setACTags(currentACTags.filter(t=>t.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1))}\n        }else{\n            if(inputValue===\"\"){setACTags(props.tags)}\n            else{setACTags(props.tags.filter(t=>t.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1))}\n        }\n        setCurrentFocus(-1);\n    };\n    useEffect(()=>{\n        if(acTags.length>0||inputValue!==\"\"){loadACTags()}\n    }, [props.tags,inputValue,props.inputMode]);\n    const onKeyDown = e=>{\n        if(e.keyCode===13&&acTags.length===1){\n            e.preventDefault();\n            createNewTag(acTags[0].name);\n        }else if(e.keyCode===27&&acTags.length>0){ // esc\n            e.preventDefault();\n            setACTags([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n            if(props.inputMode!==2){props.setInputMode(2)}\n            else{props.setInputMode(0)}\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n            if(props.inputMode!==1){props.setInputMode(1)}\n            else{props.setInputMode(0)}\n        }else if (e.keyCode===40) { //down\n            if(currentFocus+1 >= acTags.length){setCurrentFocus(0)}\n            else{setCurrentFocus(currentFocus+1)}\n        } else if (e.keyCode===38) { //up\n            if (currentFocus-1 < 0){setCurrentFocus(acTags.length - 1)}\n            else{setCurrentFocus(currentFocus-1)}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            if (currentFocus > -1) {\n                createNewTag(acTags[currentFocus].name);\n            } else if(e.target.value!==\"\") {\n                createNewTag(e.target.value);\n            }\n        }\n    };\n    const createNewTag = async (newTag, exitInput=false) =>{\n        if(props.inputMode===0||props.inputMode===2){ // save new tag\n            if(!props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase())){\n                await props.addTag(newTag);\n                if(props.inputMode===2){props.setInputMode(0)}\n            }\n        }else{ // remove existing tag\n            const existingTag = props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n            if(existingTag){\n                props.removeTag(existingTag);\n                props.setInputMode(0);\n            }\n        }\n        setInputValue(\"\");\n        if(exitInput){setACTags([])}\n        else{loadACTags()}\n    };\n    let borderStyle = \"#ced4da\"\n    let backgroundColor = null\n    if(props.inputMode===1){\n        borderStyle = \"var(--bs-yellow)\"\n        backgroundColor = \"#ffecb1\"\n    }else if(props.inputMode===2){\n        borderStyle = \"var(--bs-teal)\"\n        backgroundColor = \"#e2f7ed\"\n    }\n    return <div style={{width:\"300px\", position: \"relative\", display: \"inline-block\"}}>\n        <input value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{loadACTags()}} onBlur={()=>{setInputValue(\"\");setACTags([]);if(props.inputMode>0){props.setInputMode(0)}}} type=\"text\" style={{background: \"none\", outline: \"none\", border: \"none\", margin: \"1px 2px\", padding: \"4px 10px\"}} onKeyDown={e=>{onKeyDown(e)}} />\n    {acTags.length>0&&<div className=\"autocomplete-items\" style={{borderColor: borderStyle}}>\n        {acTags.map((t,i)=><div key={t.id} style={{backgroundColor: backgroundColor, borderColor: borderStyle}} onMouseDown={async ()=>{await createNewTag(t.name, true)}} className={i===currentFocus?\"autocomplete-active\":\"\"}>{t.name}</div>)}\n    </div>}\n    </div>;\n}\nfunction FilterTag(props){\n    return <div style={{cursor: \"default\", backgroundColor: props.t.exclude?\"rgb(248,248,248)\":props.t.color, fontWeight: \"bold\", color: props.t.exclude?props.t.color:\"rgba(255,255,255, 0.8)\", border: `1px solid ${props.t.color}`, margin: \"1px 2px\", padding: \"3px 15px 3px 18px\", borderRadius: \"18px\"}}>\n        {props.t.name}\n        <FontAwesomeIcon onClick={async e=>{\n            e.stopPropagation();\n            props.removeTag(props.t);\n            }} style={{cursor: \"pointer\", margin: \"4px 0 0 9px\"}} icon={faXmark} />\n    </div>;\n}\nfunction TagBox(props){\n    const [inputMode, setInputMode] = useState(true);\n    return <div className=\"mt-2\" id={\"tagBox_\"+props.s.id} style={{border: inputMode?\"1px solid #ced4da\":\"1px solid var(--bs-yellow)\", backgroundColor: inputMode?null:\"#ffecb1\",padding: \"2px 5px\", display: \"flex\", alignItems: \"flex-start\", flexWrap: \"wrap\", minHeight: \"110px\", borderRadius: \"0.25rem\", fontSize: \"100%\"}} onClick={e=>{\n        const inputEl = e.target.querySelector(\"input\")\n        if(inputEl){inputEl.focus()};\n        }}>\n        {props.isVisible&&props.tags.map(t=><Tag key={t.id} t={t} sectionId={props.s.id} loadTags={async ()=>{await props.loadTags()}} />)}\n        <TagBoxInput inputMode={inputMode} setInputMode={v=>{setInputMode(!inputMode)}} project={props.project} tags={props.tags} loadTags={async ()=>{await props.loadTags()}} sectionId={props.s.id} centerSection={()=>{props.centerSection()}} />\n    </div>;\n}\nfunction TagBoxInput(props){\n    const [hasFocus, setHasFocus] = useState(false);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acTags, setACTags] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(-1);\n    const loadACTags = async (iValue)=>{\n        if(props.inputMode){\n            const currentTags = props.tags.map(t=>t.name);\n            const newACTags = await arachne.tags.get({project_id: props.project.id});\n            let currentACTags = newACTags.filter(t=>!currentTags.includes(t.name));\n            if(iValue===\"\"){setACTags(currentACTags.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase()))}\n            else{setACTags(currentACTags.filter(t=>t.name.toLowerCase().indexOf(iValue.toLowerCase())>-1).sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase()))}\n        }else{\n            if(iValue===\"\"){setACTags(props.tags.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase()))}\n            else{setACTags(props.tags.filter(t=>t.name.toLowerCase().indexOf(iValue.toLowerCase())>-1).sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase()))}\n        }\n        setCurrentFocus(-1);\n    };\n    useEffect(()=>{\n        if(hasFocus){loadACTags(inputValue)};\n        //if(acTags.length>0||inputValue!==\"\"){loadACTags(inputValue)}\n    }, [hasFocus,props.tags,inputValue,props.inputMode]);\n    const onKeyDown = e=>{\n        if(e.keyCode===13&&acTags.length===1){\n            e.preventDefault();\n            createNewTag(acTags[0].name);\n        }else if(e.keyCode===27){ // esc\n            setACTags([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n            props.setInputMode();\n        }else if (e.keyCode===40) { //down\n            if(currentFocus+1 >= acTags.length){setCurrentFocus(0)}\n            else{setCurrentFocus(currentFocus+1)}\n        } else if (e.keyCode===38) { //up\n            if (currentFocus-1 < 0){setCurrentFocus(acTags.length - 1)}\n            else{setCurrentFocus(currentFocus-1)}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            if (currentFocus > -1) {\n                createNewTag(acTags[currentFocus].name);\n            } else if(e.target.value!==\"\") {\n                createNewTag(e.target.value);\n            }\n        }\n    };\n    const createNewTag = async (newTag, exitInput=false) =>{ //also: removes tag!\n        if(props.inputMode){ // save new tag\n            if(!props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase())){\n                const inTags = acTags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n                let tagId = 0;\n                if(inTags){ // create new tag_lnk\n                    tagId = inTags.id;\n                    await arachne.tag_lnks.save({tag_id: inTags.id, section_id: props.sectionId, project_id: props.project.id});\n                }else{ // create new\n                    const newTagId = await arachne.tags.save({\n                        name: newTag,\n                        color: colorPicker(),\n                        project_id: props.project.id,\n                        user_id: props.project.user_id,\n                        shared_id: props.project.shared_id,\n                        display: 1,\n                    });\n                    tagId = newTagId;\n                    await arachne.tag_lnks.save({tag_id: newTagId, section_id: props.sectionId, project_id: props.project.id});\n                }\n                const articleWithTag = await arachne.tag_lnks.search([{c: \"tag_id\", o: \"=\", v: tagId}, {c: \"article_id\", o: \">\", v: 0}],{select: [\"article_id\"]})\n                if(articleWithTag.length>0){await arachne.sections.save({id: props.sectionId, article_id: articleWithTag[0].article_id})}\n                await props.loadTags();\n            }\n        }else{ // remove existing tag\n            const existingTag = props.tags.find(t=>t.name.toLowerCase()===newTag.toLowerCase());\n            if(existingTag){\n                const currentTagLnk = await arachne.tag_lnks.get({tag_id: existingTag.id, section_id: props.sectionId});\n                await arachne.tag_lnks.delete(currentTagLnk[0].id)\n                const articleWithTag = await arachne.tag_lnks.search([{c: \"tag_id\", o: \"=\", v: existingTag.id}, {c: \"article_id\", o: \">\", v: 0}],{select: [\"article_id\"]})\n                if(articleWithTag.length>0){await arachne.sections.save({id: props.sectionId, article_id: null})}\n                await props.loadTags();\n                props.setInputMode();\n            }\n        }\n        setInputValue(\"\");\n        setACTags([]);\n        /*\n        if(exitInput){}\n        else{\n            setTimeout(()=>{loadACTags(\"\")}, 500);\n            //sleep(1000).then(()=>{})\n        }*/\n    };\n    return <div style={{width:\"300px\", position: \"relative\", display: \"inline-block\"}}>\n        <input value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{setHasFocus(true);props.centerSection()}} onBlur={()=>{setHasFocus(false);setInputValue(\"\");setACTags([]);if(!props.inputMode){props.setInputMode()}}} type=\"text\" style={{background: \"none\", outline: \"none\", border: \"none\", margin: \"1px 2px\", padding: \"4px 10px\"}} onKeyDown={e=>{onKeyDown(e)}} />\n    {acTags.length>0&&<div className=\"autocomplete-items\" style={{borderColor: props.inputMode?null:\"var(--bs-yellow)\"}}>\n        {acTags.map((t,i)=><div key={t.id} style={{backgroundColor: props.inputMode?null:\"#ffecb1\", borderColor: props.inputMode?null:\"var(--bs-yellow)\"}} onMouseDown={async ()=>{await createNewTag(t.name, true)}} className={i===currentFocus?\"autocomplete-active\":\"\"}>{t.name}</div>)}\n    </div>}\n    </div>;\n}\nfunction Tag(props){\n    return <div style={{cursor: \"default\", backgroundColor: props.t.color, fontWeight: \"bold\", color: \"rgba(255,255,255, 0.8)\", margin: \"1px 2px\", padding: \"3px 15px 3px 18px\", borderRadius: \"18px\"}}>\n        {props.t.name}\n        <FontAwesomeIcon onClick={async e=>{\n            e.stopPropagation();\n            const cTagLnk = await arachne.tag_lnks.get({tag_id: props.t.id, section_id: props.sectionId}, {select: [\"id\"]});\n            await arachne.tag_lnks.delete(cTagLnk[0].id);\n            await props.loadTags();\n            }} className=\"removeTagButton\" icon={faXmark} />\n    </div>;\n}\nfunction ImportZettel(props){\n    const [mode, setMode] = useState(\"lemma\")\n    const [lemma, setLemma] =useState(\"\");\n    const [SF, setSF] = useState(null);\n    const [lemmaId, setLemmaId] = useState(null);\n    const [lemmaZettelCount, setLemmaZettelCount] = useState(0);\n    const [zettelZettelCount, setZettelZettelCount] = useState(0);\n    const [searchFields, setSearchFields] = useState([]);\n    const [nextID, setNextID] = useState(1);\n    const [importZettelText, setImportZettelText] = useState(false);\n    useEffect(()=>{\n        const fetchData = async () => {\n            if(lemmaId){\n                const count = await arachne.zettel.get({lemma_id: lemmaId}, {count: true});\n                setLemmaZettelCount(count[0].count);\n            }else{setLemmaZettelCount(0)}\n        };\n        fetchData();\n    }, [lemmaId]);\n\n    const searchOptions = [\n        [\"lemma\", \"Wort\"],\n        [\"type\", \"Typ\"],\n        [\"id\", \"ID\"],\n        [\"ac_web\", \"Werk\"],\n        [\"date_type\", \"Datum-Typ\"],\n        [\"date_own\", \"eigenes Sortierdatum\"],\n        [\"date_own_display\", \"eigenes Anzeigedatum\"],\n    ];\n    const removeSearchFields = id => { setSearchFields(searchFields.filter(s => s.id!==id)) };\n    const addSearchFields = () => {\n        let nSearchFields = searchFields;\n        nSearchFields.push({\n            id: nextID,\n            c: searchOptions[0][0],\n            o: \"=\",\n            v: \"\"\n        });\n        setNextID(nextID+1);\n        setSearchFields(nSearchFields);\n    };\n    const sendQuery = async () => {\n        let exportSF = [];\n        for(const sF of searchFields){\n            if(sF.v !== \"\"){\n                exportSF.push({\n                    c: sF.c,\n                    o: sF.o,\n                    v: sF.v\n                });\n            }\n        }\n\n        if(exportSF.length > 0){\n            setSF(exportSF);\n            const count = await arachne.zettel.search(exportSF, {count:true});\n            setZettelZettelCount(count[0].count);\n        } else {setZettelZettelCount(0)}\n    };\n    let cSF = [];\n    for(const sF of searchFields){\n        cSF.push(<SearchInput searchOptions={searchOptions} removeSearchFields={id => {removeSearchFields(id)}} itemId={sF.id} key={sF.id} c={sF.c} o={sF.o} v={sF.v} clickButton={sendQuery} changeItem={item=>{\n            setSearchFields(searchFields.map(s=>{if(s.id===item.id){return item}else{return s}}));\n        }} />);\n    }\n\n    return <Modal show={props.show} size=\"lg\" onHide={()=>{props.onReplay(false)}} backdrop=\"static\">\n        <Modal.Header closeButton>\n            <Modal.Title>Zettel importieren</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <Container>\n                <Accordion defaultActiveKey=\"0\">\n                    <Accordion.Item eventKey=\"0\" onClick={()=>{setMode(\"lemma\")}}>\n                        <Accordion.Header>Wort-Liste</Accordion.Header>\n                        <Accordion.Body>\n                        <AutoComplete style={{width: \"100%\"}} onChange={(value, id)=>{setLemmaId(id);setLemma(value)}} value={lemma} tbl=\"lemma\" searchCol=\"lemma\" returnCol=\"lemma_ac\" />\n                        {lemmaZettelCount>0?<Badge pill bg=\"success\" className=\"mt-2\">{lemmaZettelCount} Zettel gefunden.</Badge>:null}\n                        </Accordion.Body>\n                    </Accordion.Item>\n                    <Accordion.Item eventKey=\"1\" onClick={()=>{setMode(\"zettel\")}}>\n                        <Accordion.Header>Zettel-Datenbank</Accordion.Header>\n                        <Accordion.Body>\n                        <div className=\"searchBox d-flex flex-wrap\">\n                            {cSF}\n                            <FontAwesomeIcon color=\"LightGray\" icon={faPlusCircle} style={{color: \"var(--mainColor)\", position: \"relative\", top: \"6px\", fontSize: \"25px\", cursor: \"pointer\"}}  onClick={() => {addSearchFields()}}\n                            />\n                        </div>\n                        <div style={{textAlign: \"right\"}}>{zettelZettelCount>0?<Badge pill bg=\"success\" className=\"mt-2\" style={{marginRight: \"15px\"}}>{zettelZettelCount} Zettel gefunden.</Badge>:null}<Button variant=\"light\" onClick={()=>{sendQuery()}}>Suchen</Button></div>\n                        </Accordion.Body>\n                    </Accordion.Item>\n                    </Accordion>\n            </Container>\n        </Modal.Body>\n        <Modal.Footer>\n            <Form.Check\n                style={{position: \"absolute\", left: \"30px\"}}\n                type=\"switch\"\n                id=\"custom-switch\"\n                label=\"Zettel-Text importieren (experimentell)\"\n                onChange={e=>{setImportZettelText(e.target.checked)}}\n            />\n            <Button variant=\"secondary\" onClick={()=>{props.onReplay(false)}}>Abbrechen</Button>\n            <StatusButton variant=\"primary\" onClick={async(progress)=>{\n                const select = [\"id\", \"ac_web\", \"img_path\", \"date_sort\", \"txt\", \"type\", \"work_id\", \"ocr_text_corr\", \"ocr_text\"];\n                let zettelLst = [];\n                progress(0);\n                if(mode===\"lemma\"){\n                    zettelLst=await arachne.zettel.get({lemma_id: lemmaId}, {select: select});\n                    const lemmaArticle=await arachne.article.get({project_id: props.project.id, type: 900});\n                    console.log(lemmaArticle);\n                    if(lemmaArticle.length===0){\n                        await arachne.article.save({name: lemma.replace(/<.*?>/g, \"\"), project_id: props.project.id, type: 900})\n                        const newArticles = await arachne.article.get({project_id: props.project.id});\n                        props.updateArticles(newArticles);\n                    }\n                }\n                else{zettelLst=await arachne.zettel.search(SF, {select:select})}\n                let tagObj = {};\n                const currentTags = await arachne.tags.get({project_id: props.project.id});\n                currentTags.forEach(t=>{tagObj[t.name]=t.id});\n                let zettel_save_lst = []\n                let tag_lnks_save_lst = []\n                progress(25);\n                for(const z of zettelLst){\n                    const cmnts = await arachne.comment.get({zettel_id: z.id}, {select: [\"comment\", \"user\"]});\n                    zettel_save_lst.push({\n                        zettel_id: z.id,\n                        project_id: props.project.id,\n                        ref: z.ac_web,\n                        text: z.txt?z.txt:(z.ocr_text_corr&&importZettelText)?z.ocr_text_corr:(z.ocr_text&&importZettelText)?z.ocr_text:null,\n                        comment: cmnts.length>0?cmnts.map(c=>`${c.user}:\\n${c.comment}\\n`).join(\"\\n\\n\"):null,\n                        date_sort: z.date_sort===0?9999:z.date_sort,\n                        img: z.img_path,\n                        user_id: props.project.user_id,\n                        shared_id: props.project.shared_id,\n                        work_id: z.work_id,\n                    });\n                    let typeTag = \"unbekannter Zetteltyp\";\n                    if(z.type===1){typeTag=\"verzettelt\"}\n                    else if(z.type===2){typeTag=\"Exzerpt\"}\n                    else if(z.type===3){typeTag=\"Index\"}\n                    else if(z.type===4){typeTag=\"Literatur\"}\n                    else if(z.type===6){typeTag=\"Index (unkl. Werk)\"}\n                    else if(z.type===7){typeTag=\"Notiz\"}\n                    if(typeTag){\n                        if(!Object.keys(tagObj).includes(typeTag)){\n                            const newTagId = await arachne.tags.save({\n                                name: typeTag,\n                                color: colorPicker(),\n                                project_id: props.project.id,\n                                user_id: props.project.user_id,\n                                shared_id: props.project.shared_id,\n                                display: 0,\n                            });\n                            tagObj[typeTag] = newTagId;\n                        }\n                        tag_lnks_save_lst.push({\n                            tag_id: tagObj[typeTag],\n                            //section_id: newSecId,\n                            user_id: props.project.user_id,\n                            shared_id: props.project.shared_id,\n                            project_id: props.project.id,\n                        });\n                    }\n                }\n                progress(50);\n                const newSecIds = await arachne.sections.save(zettel_save_lst);\n                tag_lnks_save_lst = tag_lnks_save_lst.map((t,i)=>{\n                    t.section_id = newSecIds[i];\n                    return t;\n                });\n                progress(75);\n                await arachne.tag_lnks.save(tag_lnks_save_lst);\n                progress(100);\n                props.onReplay(true);\n            }} disabled={(mode===\"lemma\"&&lemmaZettelCount>0)||(mode===\"zettel\"&&zettelZettelCount>0)?false:true} value=\"Zettel laden\" />\n        </Modal.Footer>\n    </Modal>;\n}\nfunction colorPicker(){\n    const colors = [\n        \"#023FA5\",\"#7D87A5\",\"#BEC1D4\",\"#D6BCC0\",\"#BB7784\",\"#8E063B\",\n        \"#4A6FE3\",\"#8595E1\",\"#B5BBE3\",\"#E6AFB9\",\"#E07B91\",\"#D33F6A\",\n        \"#11C638\",\"#8DD593\",\"#C6DEC7\",\"#EAD3C6\",\"#F0B98D\",\"#EF9708\",\n        \"#0FCFC0\",\"#9CDED6\",\"#D5EAE7\",\"#F3E1EB\",\"#F6C4E1\",\"#F79CD4\",\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n}\nexport { ZettelBox, RessourcesButtons, TagBox };","import PropTypes from 'prop-types';\nconst alignDirection = PropTypes.oneOf(['start', 'end']);\nexport const alignPropType = PropTypes.oneOfType([alignDirection, PropTypes.shape({\n  sm: alignDirection\n}), PropTypes.shape({\n  md: alignDirection\n}), PropTypes.shape({\n  lg: alignDirection\n}), PropTypes.shape({\n  xl: alignDirection\n}), PropTypes.shape({\n  xxl: alignDirection\n}), PropTypes.object]);","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nimport DropdownToggle from './DropdownToggle';\nimport DropdownMenu from './DropdownMenu';\nimport { alignPropType } from './types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst propTypes = {\n  /**\n   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.\n   * @type {string}\n   */\n  id: PropTypes.string,\n\n  /** An `href` passed to the Toggle component */\n  href: PropTypes.string,\n\n  /** An `onClick` handler passed to the Toggle component */\n  onClick: PropTypes.func,\n\n  /** The content of the non-toggle Button.  */\n  title: PropTypes.node.isRequired,\n\n  /** Disables both Buttons  */\n  disabled: PropTypes.bool,\n\n  /**\n   * Aligns the dropdown menu.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   *\n   * @type {\"start\"|\"end\"|{ sm: \"start\"|\"end\" }|{ md: \"start\"|\"end\" }|{ lg: \"start\"|\"end\" }|{ xl: \"start\"|\"end\"}|{ xxl: \"start\"|\"end\"} }\n   */\n  align: alignPropType,\n\n  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */\n  menuRole: PropTypes.string,\n\n  /** Whether to render the dropdown menu in the DOM before the first time it is shown */\n  renderMenuOnMount: PropTypes.bool,\n\n  /**\n   *  Which event when fired outside the component will cause it to be closed.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   */\n  rootCloseEvent: PropTypes.string,\n\n  /**\n   * Menu color variant.\n   *\n   * Omitting this will use the default light color.\n   */\n  menuVariant: PropTypes.oneOf(['dark']),\n\n  /** @ignore */\n  bsPrefix: PropTypes.string,\n\n  /** @ignore */\n  variant: PropTypes.string,\n\n  /** @ignore */\n  size: PropTypes.string\n};\n/**\n * A convenience component for simple or general use dropdowns. Renders a `Button` toggle and all `children`\n * are passed directly to the default `Dropdown.Menu`. This component accepts all of\n * [`Dropdown`'s props](#dropdown-props).\n *\n * _All unknown props are passed through to the `Dropdown` component._ Only\n * the Button `variant`, `size` and `bsPrefix` props are passed to the toggle,\n * along with menu-related props are passed to the `Dropdown.Menu`\n */\n\nconst DropdownButton = /*#__PURE__*/React.forwardRef(({\n  title,\n  children,\n  bsPrefix,\n  rootCloseEvent,\n  variant,\n  size,\n  menuRole,\n  renderMenuOnMount,\n  disabled,\n  href,\n  id,\n  menuVariant,\n  ...props\n}, ref) => /*#__PURE__*/_jsxs(Dropdown, {\n  ref: ref,\n  ...props,\n  children: [/*#__PURE__*/_jsx(DropdownToggle, {\n    id: id,\n    href: href,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    childBsPrefix: bsPrefix,\n    children: title\n  }), /*#__PURE__*/_jsx(DropdownMenu, {\n    role: menuRole,\n    renderOnMount: renderMenuOnMount,\n    rootCloseEvent: rootCloseEvent,\n    variant: menuVariant,\n    children: children\n  })]\n}));\nDropdownButton.displayName = 'DropdownButton';\nDropdownButton.propTypes = propTypes;\nexport default DropdownButton;","import { useState, useEffect } from \"react\";\nimport { Alert, Spinner, Modal, Card, Col, Container, Form, Row, FormControl, InputGroup, Dropdown, DropdownButton } from \"react-bootstrap\";\nimport { arachne } from \"./../arachne\";\nimport { parseHTML } from \"./../elements\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGear, faRotate, faAngleDown, faXmark } from \"@fortawesome/free-solid-svg-icons\";\nimport { RessourcesButtons, TagBox } from \"./zettel.js\";\n\nconst defaultArticleHeadFields = [\n    [900, \"LEMMA\"],\n    [901, \"VEL\"],\n    [902, \"GRAMMATIK\"],\n    [903, \"ETYMOLOGIE\"],\n    [904, \"SCHREIBWEISE\"],\n    [905, \"FORM\"],\n    [906, \"STRUKTUR\"],\n    [907, \"GEBRAUCH\"],\n    [908, \"METRIK\"],\n    [909, \"VERWECHSELBAR\"],\n];\nfunction OutlineBox(props){\n    const [displayHead, setDisplayHead] = useState(true);\n    const [displayBody, setDisplayBody] = useState(true);\n    const [dragObjectId, setDragObjectId] = useState(null);\n    const [articleHeadFields, setArticleHeadFields] = useState([]);\n    const [articleHeadSelect, setArticleHeadSelect] = useState(\"\");\n    const [articleHeadSelectId, setArticleHeadSelectId] = useState(null);\n    const devider = {\n        borderTop: \"4px dotted transparent\",\n        margin: \"0 20px\",\n        height: \"10px\"\n    }\n    useEffect(()=>{\n        const articleTypes = props.articles.map(a=>a.type);\n        setArticleHeadFields(defaultArticleHeadFields.filter(d=>!articleTypes.includes(d[0])));\n    }, [props.articles]);\n    useEffect(()=>{if(articleHeadFields.length>0){setArticleHeadSelect(articleHeadFields[0][1]);setArticleHeadSelectId(articleHeadFields[0][0])}}, [articleHeadFields]);\n    const maxDepth = props.articlesLst.map(a=>parseInt(a.split(\"-\")[0])).sort()[props.articlesLst.length-1];\n    const displayArticles = (a, depth) => {\n        return <div key={a.id} style={{marginLeft: `${25*depth}px`}}>\n            <div\n                style={devider}\n                onDrop={e=>{props.dropArticle(dragObjectId, a.parent_id, a.sort_nr);e.target.style.borderColor=\"transparent\"}}\n                onDragOver={e=>{e.preventDefault();e.target.style.borderColor=\"var(--bs-primary)\"}}\n                onDragLeave={e=>{e.target.style.borderColor=\"transparent\"}}\n            ></div>\n            <ArticleBox maxDepth={maxDepth} depth={depth} deleteArticle={props.deleteArticle} changeArticle={props.changeArticle} project={props.project} articles={props.articles} a={a} dragObjectId={dragObjectId} setDragObjectId={id=>{setDragObjectId(id)}} dropArticle={(a,b,c)=>{props.dropArticle(a,b,c)}} collapsed={props.collapsedArticlesLst.includes(a.id)} toggleCollapse={a=>{props.toggleCollapse(a)}} />\n        </div>;\n    };\n    return <Container className=\"outlineBox\" fluid>\n            <Row className=\"mb-3\">\n                <Col></Col>\n                <Col xs=\"8\" style={{userSelect: \"none\", textAlign: \"right\", cursor: \"pointer\", color: \"var(--bs-gray-500)\"}} onClick={()=>{setDisplayHead(!displayHead)}}>{displayHead?null:<><FontAwesomeIcon icon={faAngleDown} /> </>}Artikelkopf</Col>\n                <Col></Col>\n            </Row>\n            {displayHead?<>\n                {props.articles.filter(a=>a.type>=900).sort((a,b)=>a.type>b.type).map(a=><Row key={a.id}>\n                    <Col></Col>\n                    <Col xs=\"8\">\n                    <div style={{display: \"flex\", marginBottom: \"20px\"}}>\n                        <div style={{width: \"200px\", fontWeight: \"bold\"}}>{defaultArticleHeadFields.find(d=>d[0]===a.type)[1]}</div>\n                        <input value={a.name} onChange={e=>{props.changeArticle({id: a.id, name: e.target.value})}}\n                            onBlur={async(e)=>{await arachne.article.save({id: a.id, name: e.target.value})}} style={{width: \"100%\", outline: \"none\", border: \"none\", borderBottom: \"1px solid var(--bs-gray-500)\"}} type=\"text\" />\n                    </div>\n                  </Col>\n                    <Col></Col>\n                </Row>)}\n                \n                {articleHeadFields.length>0?<Row>\n                    <Col></Col>\n                    <Col xs=\"8\">\n                    <InputGroup className=\"mb-3\">\n                        <DropdownButton\n                            style={{width: \"165px\"}} \n                            variant=\"outline-secondary\"\n                            title={articleHeadSelect}\n                            id=\"input-group-dropdown-1\"\n                        >\n                            {articleHeadFields.map(f=><Dropdown.Item onClick={()=>{setArticleHeadSelect(f[1]);setArticleHeadSelectId(f[0])}} key={f[0]} value={f[0]}>{f[1]}</Dropdown.Item>)}\n                        </DropdownButton>\n                        <FormControl onKeyUp={e=>{\n                            if(e.keyCode===13){\n                                props.createNewArticle({type: articleHeadSelectId, name: e.target.value, sort_nr: -1});\n                                setArticleHeadFields(articleHeadFields.filter(d=>d[0]!==articleHeadSelectId));\n                                e.target.value = \"\";\n                            }\n                        }} />\n                    </InputGroup>\n                    </Col>\n                    <Col></Col>\n                    \n                </Row>:null}\n            </>:null}\n            <Row>\n                <Col></Col>\n                <Col xs=\"8\" style={{paddingBottom: \"15px\", marginBottom: \"15px\", borderBottom: \"1px solid var(--bs-gray-500)\"}}></Col>\n                <Col></Col>\n            </Row>\n            <Row>\n                <Col></Col>\n                <Col xs=\"8\" style={{userSelect: \"none\", textAlign: \"right\", cursor: \"pointer\", color: \"var(--bs-gray-500)\"}} onClick={()=>{setDisplayBody(!displayBody)}}>{displayBody?null:<><FontAwesomeIcon icon={faAngleDown} /> </>}Stellen</Col>\n                <Col></Col>\n            </Row>\n            {displayBody?<><Row>\n                <Col></Col>\n                <Col xs=\"8\">\n                    {props.articlesLst.map(a=>{\n                        const aSplit = a.split(\"-\");\n                        return displayArticles(props.articles.find(b=>b.id===parseInt(aSplit[1])), aSplit[0]);\n                    })}\n                </Col>\n                <Col></Col>\n            </Row>\n            {props.articles.filter(a=>a.type<900).length===0&&<Row className=\"mt-4\"><Col></Col><Col>\n                            <Alert tabIndex=\"0\" variant=\"secondary\" style={{padding: \"8px 16px\", fontSize: \"90%\", textAlign: \"center\", cursor: \"pointer\"}} onKeyDown={e=>{if(e.keyCode===13){props.createNewArticle()}}} onClick={()=>{props.createNewArticle()}}>Eine neue Bedeutung hinzufügen <small>({arachne.options.action_key.toUpperCase()}+N)</small></Alert>\n                        </Col><Col></Col></Row>}\n            </>:null}\n        </Container>;\n}\nfunction ArticleBox(props){\n    const [displaySections, setDisplaySections] = useState(false);\n    const [sectionCount, setSectionCount] = useState(0);\n    useEffect(()=>{\n        const fetchData=async()=>{\n            const sCount = await arachne.sections.get({article_id: props.a.id}, {count: true});\n            setSectionCount(sCount[0].count)\n        };\n        fetchData();\n    },[]);\n    const dblClickCallback = e => {\n        const target = e.target.closest(\".articleBox\");\n        const el = target.getElementsByClassName(\"articleBoxName\")[0];\n        el.contentEditable = true;\n        el.focus();\n    };\n    const cDepth = props.maxDepth<3?parseInt(props.depth)+2:props.depth<5?props.depth:4\n    const ordNumber = ordNumbers[cDepth][props.a.sort_nr-1];\n\n    return <><div\n        className=\"articleBox\"\n        id={`articleBox_${props.a.id}`}\n        draggable\n        onDragStart={()=>{props.setDragObjectId(props.a.id)}}\n        onDrop={e=>{if(props.dragObjectId!==props.a.id){props.dropArticle(props.dragObjectId, props.a.id, 1)}; e.target.style.borderColor=\"transparent\"}}\n        onDragOver={e=>{e.preventDefault();if(props.dragObjectId!==props.a.id){e.target.style.borderColor=\"var(--bs-primary)\"}}}\n        onDragLeave={e=>{e.target.style.borderColor=\"transparent\"}}\n        tabIndex=\"0\"\n        onClick={e=>{e.target.focus()}}\n        onDoubleClick={e=>{dblClickCallback(e)}}\n        onKeyDown={e=>{\n            if(e.target.className===\"articleBox\"){\n                if(e.keyCode!==9){e.preventDefault()}\n                if(e.keyCode===8||e.keyCode===46){ // delete\n                    props.deleteArticle(props.a.id);\n                }else if(e.keyCode===13){ // enter\n                    dblClickCallback(e);\n                }else if(e.keyCode===37&&e.shiftKey){ // left+shift\n                    if(props.a.parent_id>0){\n                        const parentArticle = props.articles.find(a=>a.id===props.a.parent_id);\n                        props.dropArticle(props.a.id, parentArticle.parent_id, parentArticle.sort_nr+1);\n                    }\n                    \n                }else if(e.keyCode===37&&e.shiftKey===false){ // left\n                    const children = props.articles.filter(a=>a.parent_id===props.a.id);\n                    if(children.length>0){props.toggleCollapse(props.a.id)}\n                }else if(e.keyCode===38&&e.shiftKey){ // up+shift\n                    let previousArticles = props.articles.filter(a=>a.parent_id===props.a.parent_id&&a.sort_nr<props.a.sort_nr).sort((a,b)=>a.sort_nr>b.sort_nr);\n                    if(previousArticles.length>0){\n                        props.dropArticle(props.a.id, props.a.parent_id, previousArticles[previousArticles.length-1].sort_nr);\n                    }\n                }else if(e.keyCode===38&&e.shiftKey===false){ // up\n                    const articleBoxes = document.getElementsByClassName(\"articleBox\");\n                    for(let i = 0; i<articleBoxes.length;i++){\n                        if(articleBoxes[i].id === e.target.id){\n                            if(i===0){articleBoxes[articleBoxes.length-1].focus()}\n                            else{articleBoxes[i-1].focus()}\n                            break;\n                        }\n                    }\n                }else if(e.keyCode===39&&e.shiftKey){ // right+shift\n                    let previousArticles = props.articles.filter(a=>a.parent_id===props.a.parent_id&&a.sort_nr<props.a.sort_nr).sort((a,b)=>a.sort_nr>b.sort_nr);\n                    if(previousArticles.length>0){\n                        const previousArticleChildren = props.articles.filter(a=>a.parent_id===previousArticles[previousArticles.length-1].id).sort((a,b)=>a.sort_nr>b.sort_nr);\n                        if(previousArticleChildren.length>0){props.dropArticle(props.a.id, previousArticles[previousArticles.length-1].id, previousArticleChildren[previousArticleChildren.length-1].sort_nr+1)}\n                        else{props.dropArticle(props.a.id, previousArticles[previousArticles.length-1].id, 1)}\n                    }\n                }else if(e.keyCode===39&&e.shiftKey===false){ // right\n                    setDisplaySections(!displaySections);\n                }else if(e.keyCode===40&&e.shiftKey){ // down+shift\n                    const nextArticle = props.articles.find(a=>a.parent_id===props.a.parent_id&&a.sort_nr>props.a.sort_nr);\n                    if(nextArticle){props.dropArticle(props.a.id, props.a.parent_id, props.a.sort_nr+1)};\n                }else if(e.keyCode===40&&e.shiftKey===false){ // down\n                    const articleBoxes = document.getElementsByClassName(\"articleBox\");\n                    for(let i = 0; i<articleBoxes.length;i++){\n                        if(articleBoxes[i].id === e.target.id){\n                            if(i===articleBoxes.length-1){articleBoxes[0].focus()}\n                            else{articleBoxes[i+1].focus()}\n                            break;\n                        }\n                    }\n                }\n            }\n        }}\n    >{ordNumber}. <span\n        className=\"articleBoxName\"\n        onBlur={async e=>{\n            e.target.contentEditable=false;\n            e.target.parentElement.focus();\n            let newText = e.target.innerText;\n            if(newText.search(/:$/)===-1){newText += \":\"}\n            await arachne.article.save({id: props.a.id, name: newText})\n            props.changeArticle({id: props.a.id, name: newText});\n        }}\n        onKeyDown={e=>{\n            if(e.keyCode===13){\n                e.preventDefault();\n                e.target.blur();\n            }else if(e.keyCode===39){\n                if(window.getSelection().focusOffset+1===e.target.textContent.length){\n                    e.preventDefault();\n                }\n            }\n        }}\n    >{props.a.name}</span> {sectionCount>0?<small className=\"text-primary\" style={{marginLeft: \"20px\"}}>{sectionCount}</small>:null}{props.collapsed?<span className=\"text-primary\" style={{marginLeft: \"15px\"}}>...</span>:null}\n        <Dropdown style={{float: \"right\"}} className=\"EditArticleDropdown\">\n            <Dropdown.Toggle size=\"sm\" tabIndex=\"-1\" variant=\"outline-secondary\">\n                <FontAwesomeIcon icon={faGear} />\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n                <Dropdown.Item onClick={e=>{setTimeout(()=>{dblClickCallback(e)}, 200)}}>bearbeiten</Dropdown.Item>\n                <Dropdown.Item onClick={()=>{setDisplaySections(!displaySections)}}>{displaySections?\"einklappen\":\"ausklappen\"}</Dropdown.Item>\n                <Dropdown.Divider />\n                <Dropdown.Item onClick={()=>{props.deleteArticle(props.a.id)}} className=\"text-danger\">Bedeutung löschen</Dropdown.Item>\n            </Dropdown.Menu>\n        </Dropdown>\n    </div>\n    {displaySections?<ArticleBoxSections articles={props.articles} setSectionCount={setSectionCount} setSectionDetailId={id=>{props.setSectionDetailId(id)}} inputMode={1} project={props.project} articleId={props.a.id} />:null}\n    </>;\n}\nfunction ArticleBoxSections(props){\n    const [sections, setSections] = useState([]);\n    const [inputMode, setInputMode] = useState(0);\n    const [inputValue, setInputValue] = useState(\"\");\n    const [acLst, setACLst] = useState([]);\n    const [currentFocus, setCurrentFocus] = useState(0);\n    const [sectionDetailId, setSectionDetailId] = useState(0);\n    const [tagLst, setTagLst] = useState([]);\n    const [hasFocus, setHasFocus] = useState(false);\n    const [loading, setLoading] = useState(false);\n    useEffect(()=>{loadSections()}, []);\n    useEffect(()=>{loadACLst()},[inputValue, inputMode, hasFocus, tagLst]);\n    const loadACLst=async()=>{\n        if(hasFocus){\n            if(inputMode<3){\n                let allSections = await arachne.sections.get({project_id: props.project.id})\n                allSections = allSections.filter(a=>(inputMode===0&&!(a.article_id>0)||(inputMode===1&&a.article_id===props.articleId)||(inputMode===2))&&a.ref!==null&&a.ref.toLowerCase().indexOf(inputValue.toLowerCase())>-1);\n                allSections = allSections.map(a=>{\n                    return {id: a.id, type: \"section\", name: `${a.ref}; ${a.text!==null?a.text.substring(0, 10):\"\"}...`, articleName: inputMode===2&&a.article_id!==props.articleId?props.articles.find(a=>a.id===props.articleId).name:null}\n                });\n                const currentTags = tagLst.map(t=>t.id) // could be moved outside loop\n                let allTags = await arachne.tags.get({project_id: props.project.id, display: 1});\n                allTags = allTags.filter(a=>((inputMode===0&&currentTags.indexOf(a.id)===-1)||(inputMode===1&&currentTags.indexOf(a.id)>-1)||(inputMode===2))&&a.name.toLowerCase().indexOf(inputValue.toLowerCase())>-1);\n                allTags = allTags.map(t=>{return {id: t.id, type: \"tag\", name: t.name}});\n                allSections = allSections.concat(allTags);\n                allSections.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase());\n                setACLst(allSections);\n            }else{\n                if(inputValue.length>3){\n                    setLoading(true);\n                    setACLst([]);\n                    const pages = await arachne.scan_lnk.search([{c: \"full_text\", o: \"LIKE\", v:`%${inputValue}%`}], {limit: \"10\", select: [\"id\", \"edition_id\", \"full_text\", \"ac_web\"]});\n                    let pages_from_sections = [];\n                    pages.forEach(p=>{\n                        let loopCount = 0\n                        for(const hit of p.full_text.matchAll(new RegExp(inputValue, \"g\"))){\n                            pages_from_sections.push({\n                                id: `${p.id}-${loopCount}`,\n                                edition_id: p.edition_id,\n                                type: \"full_text\",\n                                ac_web: p.ac_web,\n                                name: `...${p.full_text.substring(hit.index-100, hit.index+hit.length+100)}...`\n                            })\n                            loopCount ++;\n                        }\n                    })\n                    setACLst(pages_from_sections);\n                    setLoading(false);\n                }else{\n                    setACLst([]);\n                }\n            }\n        }\n    }\n    const addSections=async(item)=>{\n        // also: removes section if inputMode === 1\n        if(item.type===\"tag\"){\n            if(inputMode===0||(inputMode===2&&tagLst.map(t=>t.id).indexOf(item.id)===-1)){\n                await arachne.tag_lnks.save({tag_id: item.id, article_id: props.articleId});\n                const sectionLst = await arachne.tag_lnks.search([{c: \"tag_id\", o: \"=\", v: item.id}, {c: \"section_id\", o: \">\", v: 0}], {select: [\"section_id\"]});\n                await arachne.sections.save(sectionLst.map(s=>{return {id: s.section_id, article_id: props.articleId}}));\n            }else if(inputMode===1){\n                await removeTagFromArticle(props.articleId, item.id);\n            }\n        } else if(item.type===\"full_text\"){\n            // add full-text\n            const edition = await arachne.edition.get({id: item.edition_id}, {select: [\"work_id\"]});\n            const work = await arachne.work.get({id: edition[0].work_id}, {select: [\"date_sort\"]})\n            await arachne.sections.save({\n                project_id: props.project.id,\n                ref: item.ac_web,\n                text: item.name,\n                date_sort: work[0].date_sort,\n                user_id: props.project.user_id,\n                shared_id: props.project.shared_id,\n                work_id: edition[0].work_id,\n                article_id: props.articleId\n            });\n            setACLst([]);\n        }else{\n            // add section\n            let saveValue = true;\n            if(inputMode===2&&item.articleName!==null){\n                const allSectionTags = await arachne.tag_lnks.get({section_id: item.id}, {select: [\"tag_id\"]});\n                for(const sectionTag of allSectionTags){\n                    const articleTag = await arachne.tag_lnks.search([{c: \"tag_id\", o: \"=\", v: sectionTag.tag_id}, {c: \"article_id\", o: \">\", v: 0}]);\n                    if(articleTag.length>0){\n                        alert(\"Achtung: Die Stelle wurde durch ein Schlagwort automatisch zugewiesen. Entfernen Sie es von der Stelle, um sie dieser Bedeutung zuweisen zu können.\");\n                        saveValue = false;\n                        break;\n                    }\n                }\n            }\n            if(saveValue){await arachne.sections.save({id: item.id, article_id: inputMode===1?null:props.articleId})}\n        }\n        await loadSections();\n        await loadACLst();\n    };\n    const loadSections=async()=>{\n        const articleSections = await arachne.sections.get({article_id: props.articleId}, {order: [\"date_sort\"]});\n        setSections(articleSections);\n        props.setSectionCount(articleSections.length);\n        const articleTagLnkLst = await arachne.tag_lnks.get({article_id: props.articleId}, {select: [\"tag_id\"]});\n        let articleTagLst = [];\n        for(const atl of articleTagLnkLst){\n            const newTag=await arachne.tags.get({id: atl.tag_id});\n            articleTagLst.push(newTag[0]);\n        }\n\n        setTagLst(articleTagLst.sort((a,b)=>a.name>b.name));\n    };\n    const removeTagFromArticle=async(article_id, tag_id)=>{\n        const cTagLnk = await arachne.tag_lnks.get({tag_id: tag_id, article_id: article_id}, {select: [\"id\"]});\n        await arachne.tag_lnks.delete(cTagLnk[0].id);\n        const sectionLst = await arachne.tag_lnks.search([{c: \"tag_id\", o: \"=\", v: tag_id}, {c: \"section_id\", o: \">\", v: 0}], {select: [\"section_id\"]});\n        await arachne.sections.save(sectionLst.map(s=>{return {id: s.section_id, article_id: null}}));\n    };\n    const onKeyDown=e=>{\n        if(e.keyCode===9&&acLst.length===1){\n            e.preventDefault();\n            //createNewTag(acTags[0].name);\n        }else if(e.keyCode===27){ // esc\n            setInputValue(\"\");\n            setACLst([]);\n        }else if(e.keyCode===190&&e.target.value===\"\"){ // .\n            e.preventDefault();\n            if(inputMode!==2){setInputMode(2)}\n            else{setInputMode(0)}\n        }else if(e.keyCode===173&&e.target.value===\"\"){ // -\n            e.preventDefault();\n            if(inputMode!==1){setInputMode(1)}\n            else{setInputMode(0)}\n        }else if(e.keyCode===60&&e.shiftKey===false&&e.target.value===\"\"){ // <\n            e.preventDefault();\n            if(inputMode!==3){setInputMode(3)}\n            else{setInputMode(0)}\n        }else if (e.keyCode===40) { //down\n            e.preventDefault();\n            if(acLst.length>0){\n                if(currentFocus+1 >= acLst.length){setCurrentFocus(0)}\n                else{setCurrentFocus(currentFocus+1)}\n            }else{e.target.parentNode.parentNode.firstChild.firstChild.focus()}\n        } else if (e.keyCode===38) { //up\n            e.preventDefault();\n            if(acLst.length>0){\n                if (currentFocus-1 < 0){setCurrentFocus(acLst.length - 1)}\n                else{setCurrentFocus(currentFocus-1)}\n            }else{e.target.parentNode.parentNode.firstChild.lastChild.focus()}\n        } else if (e.keyCode===13) {\n            e.preventDefault();\n            addSections(acLst[currentFocus]);\n        }\n    }\n    let borderStyle = \"0.5px solid #ced4da\"\n    let backgroundColor = \"white\"\n    if(inputMode===1){\n        borderStyle = \"1px solid var(--bs-yellow)\"\n        backgroundColor = \"#ffecb1\"\n    }else if(inputMode===2){\n        borderStyle = \"1px solid var(--bs-teal)\"\n        backgroundColor = \"#e2f7ed\"\n    }else if(inputMode===3){\n        borderStyle = \"1px solid #074297\"\n        backgroundColor = \"#e6f0fe\"\n    }\n    return <>\n    <SectionDetailEdit project={props.project} handleClose={()=>{loadSections();setSectionDetailId(0)}} sectionDetailId={sectionDetailId} />\n    <div className=\"ArticleBoxSections\">\n        <div className=\"outlineSectionTagBox\">{tagLst.map(t=><div key={t.id} className=\"outlineSectionTags\" style={{backgroundColor: t.color, padding: \"0 7px 2px 7px\"}}>\n            <span style={{position: \"relative\", top: \"-1px\"}}>{t.name}</span>\n            <FontAwesomeIcon onClick={async e=>{\n                e.stopPropagation();\n                await removeTagFromArticle(props.articleId, t.id);\n                await loadSections();\n            }} className=\"removeTagButton\" icon={faXmark} />\n            </div>)}</div>\n        <div>{sections.map(s=><SectionBox key={s.id} s={s} setSectionDetailId={setSectionDetailId} loadSections={loadSections} articleTagLst={tagLst} />)}</div>\n        <div style={{width:\"100%\", position: \"relative\", display: \"inline-block\"}}>\n            <input className=\"tagBoxOutlineSection\" value={inputValue} onChange={e=>{setInputValue(e.target.value)}} onFocus={()=>{setHasFocus(true)}} onBlur={()=>{setHasFocus(false);setInputValue(\"\");setACLst([]);/*if(!props.inputMode){props.setInputMode()}*/}} type=\"text\" onKeyDown={e=>{onKeyDown(e)}} />{loading?<Spinner style={{position: \"absolute\", top: \"12px\", right: \"4px\"}} variant=\"primary\" animation=\"border\" size=\"sm\" />:null}\n            {acLst.length>0&&<div className=\"autocomplete-items\" style={{border: borderStyle}}>\n                {acLst.map((t,i)=>\n                    <div key={t.id} style={{fontWeight: t.type===\"tag\"?\"bold\":null, fontStyle: t.type===\"tag\"?\"italic\":null, backgroundColor: backgroundColor, border: borderStyle}} onMouseDown={async ()=>{await addSections(t)}} className={i===currentFocus?\"autocomplete-active\":\"\"}>\n                        {t.ac_web?<><b>{t.ac_web}</b>:</>:null}\n                        <p style={{marginLeft: t.ac_web?\"15px\":null}} dangerouslySetInnerHTML={parseHTML(t.name.replace(new RegExp(`(${inputValue})`, \"gi\"), \"<u>$1</u>\"))}></p>\n                        {t.articleName?<small>{t.articleName}</small>:null}\n                    </div>)}\n            </div>}\n        </div>\n\n    </div></>;\n}\nfunction SectionBox(props){\n    const [tagLst, setTagLst] = useState([]);\n    useEffect(()=>{\n        const fetchData = async()=>{\n            const tagLnks = await arachne.tag_lnks.get({section_id: props.s.id}, {select: [\"tag_id\"]});\n            let newTags = [];\n            for (const tl of tagLnks){\n                const t = await arachne.tags.get({id: tl.tag_id, display: 1});\n                if(t.length>0){newTags.push(t[0])}\n            }\n            newTags.sort((a,b)=>a.name.toLowerCase()>b.name.toLowerCase());\n            setTagLst(newTags);\n        }\n        fetchData();\n    }, []);\n    const removeFromArticle=async()=>{\n        // check if section is connected by tag!\n        const tagNameLst = tagLst.map(t=>t.name);\n        if(props.articleTagLst.filter(a=>tagNameLst.includes(a.name)).length>0){\n            alert(\"Diese Stelle kann nicht einzeln entfernt werden. Entfernen Sie das Schlagwort, um die Stelle zu entfernen.\")\n        } else if(window.confirm(\"Soll die Stelle von der Bedeutung entfernt werden?\")){\n            await arachne.sections.save({id: props.s.id, article_id: null});\n            props.loadSections();\n        }\n    };\n    return <div key={props.s.id} className=\"sectionBox\" tabIndex=\"0\" onClick={e=>{\n            e.target.closest(\".sectionBox\").focus();\n        }} onKeyDown={e=>{\n            if(e.keyCode===8||e.keyCode===46){ // remove from article\n                removeFromArticle();\n            }else if(e.keyCode===38){ // up\n                e.preventDefault();\n                if(e.target.previousSibling){e.target.previousSibling.focus()}\n                else(e.target.parentNode.parentNode.lastChild.lastChild.focus())\n            }else if(e.keyCode===40){ // down\n                e.preventDefault();\n                if(e.target.nextSibling){e.target.nextSibling.focus()}\n                else{e.target.parentNode.parentNode.lastChild.lastChild.focus()}\n                \n            }else if(e.keyCode===13){\n                e.preventDefault();\n                props.setSectionDetailId(props.s.id);\n            }\n        }}><span className=\"sectionBoxTitle\">{props.s.ref}</span> {props.s.text}\n        <div className=\"outlineSectionTagBox\">{tagLst.map(t=><div key={t.id} className=\"outlineSectionTags\" style={{backgroundColor: t.color}}>{t.name}</div>)}</div>\n        <Dropdown style={{float: \"right\"}} className=\"EditSectionDropdown\">\n            <Dropdown.Toggle size=\"sm\" tabIndex=\"-1\" variant=\"outline-secondary\">\n                <FontAwesomeIcon icon={faGear} />\n            </Dropdown.Toggle>\n            <Dropdown.Menu>\n                <Dropdown.Item onClick={e=>{props.setSectionDetailId(props.s.id)}}>bearbeiten</Dropdown.Item>\n                <Dropdown.Divider />\n                <Dropdown.Item onClick={()=>{removeFromArticle()}} className=\"text-danger\">Stelle aus Gliederung entfernen</Dropdown.Item>\n            </Dropdown.Menu>\n        </Dropdown>\n    </div>;\n}\nfunction SectionDetailEdit(props) {\n    const [ressources, setRessources] = useState([]);\n    const [showComment, setShowComment] = useState(false);\n    const [comment, setComment] = useState(\"\");\n    const [img, setImg] = useState(null);\n    const [reference, setReference] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [verso, setVerso] = useState(false);\n    const [tags, setTags] = useState([]);\n    const [unusedTags, setUnusedTags] = useState([]);\n    const [section, setSection] = useState({});\n    useEffect(()=>{setImg(section.img+`${verso?\"v\":\"\"}.jpg`)}, [verso]);\n    useEffect(()=>{if(props.sectionDetailId>0){loadSection();if(document.getElementById(\"sectionDetailEditFirstInput\")){document.getElementById(\"sectionDetailEditFirstInput\").focus()}}}, [props.sectionDetailId]);\n    const loadSection = async () =>{\n        const newSection = await arachne.sections.get({id: props.sectionDetailId});\n        setImg(arachne.url+newSection[0].img+`${verso?\"v\":\"\"}.jpg`);\n        setReference(newSection[0].ref);\n        setText(newSection[0].text);\n        setComment(newSection[0].comment);\n        if(newSection[0].comment!==null&&newSection[0].comment!==\"\"){setShowComment(true)}\n        setSection(newSection[0]);\n        // load ressources\n        setRessources(await arachne.edition.get({work_id: newSection[0].work_id}, {select: [\"id\", \"label\", \"url\"]}));\n    };\n    const loadTags =  async () =>{\n        let cAllTags = await arachne.tags.get({project_id: props.project.id});\n        const cTagLnks = await arachne.tag_lnks.get({section_id: props.sectionDetailId});\n        let newTags = [];\n        for(const cTagLnk of cTagLnks){\n            const newTagIndex = cAllTags.findIndex(t=>t.id===cTagLnk.tag_id);\n            if(newTagIndex===-1){throw \"ERROR! CANNOT FIND TAG INDEX!\"}\n            else{\n                newTags.push(cAllTags[newTagIndex]);\n                cAllTags.splice(newTagIndex,1);\n            }\n        }\n        setUnusedTags(cAllTags);\n        setTags(newTags);\n    };\n    return <Modal show={props.sectionDetailId>0} onHide={props.handleClose} size=\"xl\">\n        <Modal.Header closeButton>\n            <Modal.Title></Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            <Card className=\"largeScreen\" id={\"s_\"+props.sectionDetailId} style={{ margin: \"auto\" }}>\n                <Card.Img style={{aspectRatio: \"10/7\"}} variant=\"top\" src={img} />\n                <Card.Body>\n                    <div style={{position: \"absolute\", top:\"5px\", left: \"10px\", right: \"430px\", opacity: \"0.5\"}}><a onClick={()=>{setVerso(!verso)}} title=\"Zettel drehen\"><FontAwesomeIcon icon={faRotate} /></a></div>\n                    <Row className=\"mb-2\"><Col><Form.Control id=\"sectionDetailEditFirstInput\" placeholder=\"Zitiertitel...\" size=\"sm\" type=\"text\" value={reference?reference:\"\"} onChange={e=>{setReference(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, ref: e.target.value})}} /></Col><Col style={{textAlign: \"right\"}} xs={4}><RessourcesButtons setRessourceView={url=>{props.setRessourceView(url)}} ressources={ressources} /></Col></Row>\n                \n                    <Form.Control placeholder=\"Text der Stelle...\" as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={text?text:\"\"} onChange={e=>{setText(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, text: e.target.value})}} />\n                    {showComment?<div><Form.Control className=\"mt-2\" placeholder=\"Schreiben Sie einen Kommentar...\" as=\"textarea\" rows={3} style={{fontSize: \"95%\"}} value={comment?comment:\"\"} onChange={e=>{setComment(e.target.value)}} onBlur={async e=>{await arachne.sections.save({id: props.sectionDetailId, comment: e.target.value})}} /></div>:<div style={{textAlign: \"right\"}}><a style={{fontSize: \"90%\"}} className=\"link-secondary\" onClick={()=>{setShowComment(true)}}>Kommentar hinzufügen</a></div>}\n                    <TagBox centerSection={()=>{}} loadTags={async ()=>{await loadTags()}} tags={tags} project={props.project} s={section} unusedTags={unusedTags} />\n                </Card.Body>\n            </Card>\n        </Modal.Body>\n        {/*<Modal.Footer></Modal.Footer>*/}\n    </Modal>;\n}\n\nconst ordNumbers = [\n    [\"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\", \"X\", \"XI\", \"XII\", \"XIII\", \"XIV\", \"XV\", \"XVI\", \"XVII\", \"XVIII\", \"XIX\", \"XX\", \"XXI\", \"XXII\", \"XXIII\", \"XXIV\", \"XXV\", \"XXVI\", \"XXVII\", \"XXVIII\", \"XXIX\", \"XXX\"],\n    [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"],\n    [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\", \"30\"],\n    [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\"],\n    [\"α\", \"β\", \"γ\", \"δ\", \"ε\", \"ζ\", \"η\", \"θ\", \"ι\", \"κ\", \"λ\", \"μ\", \"ν\", \"ξ\", \"ο\", \"π\", \"ρ\", \"σ\", \"τ\", \"υ\", \"φ\", \"χ\", \"ψ\", \"ω\"]\n];\n\nexport { OutlineBox, defaultArticleHeadFields }","import { useState, useEffect } from \"react\";\nimport { arachne } from \"./../arachne\";\nimport { defaultArticleHeadFields } from \"./outline.js\";\nimport { Button, ButtonGroup, Dropdown, Table, Badge, Card, Col, Form, Container, Navbar, Nav, Row, Modal, Accordion, Stack, Spinner, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\nimport { parseHTML, downloadFile } from \"./../elements\";\n\nfunction ExportBox(props){\n\tconst [exportTxt, setExportTxt] = useState(\"\");\n\tconst [exportFileName, setExportFileName] = useState(\"\");\n\tconst [exportComment, setExportComment] = useState(true);\n\tconst [exportTags, setExportTags] = useState(true);\n\tconst [preview, setPreview] = useState(null);\n\tconst [loadPreview, setLoadPreview] = useState(0); // 0 = not jet loaded; 1 = loading; 2 = loaded.\n\tuseEffect(()=>{\n\t\tconst fetchData=async()=>{\n\t\t\tlet exportLst = [];\n\t\t\tconst articles = await arachne.article.get({project_id: props.project.id});\n\t\t\tconst sections = await arachne.sections.get({project_id: props.project.id});\n\t\t\tconst lemmaName = articles.find(a=>a.type===900);\n\t\t\tsetExportFileName(lemmaName!==undefined?lemmaName.name:\"export\")\n\t\t\tlet tags = [];\n\t\t\tlet tag_lnks = [];\n\t\t\tif(exportTags){\n\t\t\t\ttags = await arachne.tags.get({project_id: props.project.id});\n\t\t\t\ttag_lnks = await arachne.tag_lnks.get({project_id: props.project.id});\n\t\t\t}\n\t\t\texportLst=exportLst.concat(articles.filter(a=>a.type>=900).map(a=>`${defaultArticleHeadFields.find(d=>d[0]===a.type)[1]} ${a.name}`))\n\t\t\tconst getArticle = (article, depth) => {\n\t\t\t\tif(depth===0){\n\t\t\t\t\texportLst.push(`BEDEUTUNG ${article.name}`);\n\t\t\t\t}else if(depth===1){\n\t\t\t\t\texportLst.push(`    UNTER_BEDEUTUNG ${article.name}`);\n\t\t\t\t}else if(depth===2){\n\t\t\t\t\texportLst.push(`        UNTER_UNTER_BEDEUTUNG ${article.name}`);\n\t\t\t\t}else{\n\t\t\t\t\texportLst.push(`${\"    \".repeat(depth)}${\"U\".repeat(depth)}_BEDEUTUNG ${article.name}`);\n\t\t\t\t}\n\t\t\t\tsections.filter(s=>s.article_id===article.id).forEach(s=>{\n\t\t\t\t\tlet tagLst = [];\n\t\t\t\t\tif(exportTags){\n\t\t\t\t\t\ttagLst = tag_lnks.filter(tl=>tl.section_id===s.id).map(tl=>tags.find(t=>t.id===tl.tag_id).name);\n\t\t\t\t\t}\n\t\t\t\t\texportLst.push(`${\"    \".repeat(depth+1)}* ${s.ref} \"${s.text?s.text:\"\"}\"${tagLst.length>0?\" // \"+tagLst.join(\", \"):\"\"}`);\n\t\t\t\t\tif(exportComment&&s.comment){exportLst.push(`${\"    \".repeat(depth+2)}/*\\n${\"    \".repeat(depth+3)}${s.comment.replace(new RegExp(\"\\n\", \"g\"), `\\n${\"    \".repeat(depth+3)}`)}\\n${\"    \".repeat(depth+2)}*/`)}\n\t\t\t\t});\n\n\t\t\t\tarticles.filter(a=>a.parent_id===article.id).forEach(a=>{getArticle(a,depth+1)});\n\t\t\t}\n\t\t\tarticles.filter(a=>a.parent_id===0&&a.type<900).forEach(a=>{getArticle(a,0)});\n\t\t\texportLst.push(`AUTORIN ${arachne.me.last_name}`)\n\t\t\tsetExportTxt(exportLst.join(\"\\n\"));\n\n\t\t\t//get preview\n\t\t\tsetLoadPreview(1);\n\t\t\tconst exportTxt = exportLst.join(\"\\n\");\n\t\t\tconst previewResponse = await arachne.exec(\"mlw_preview\", true, exportTxt);\n\t\t\t//console.log(previewResponse.html)\n\t\t\tsetPreview(previewResponse.html);\n\t\t\tsetLoadPreview(2);\n\t\t};\n\t\tfetchData();\n\t}, [exportComment, exportTags]);\n\treturn <Container>\n\t\t<Row className=\"mb-4\">\n\t\t\t<Col style={{padding: \"0 10em 0 10em\"}}>\n\t\t\t\t<Form.Check\n                    type=\"switch\"\n                    id=\"custom-switch\"\n                    label=\"Kommentare in Export aufnehmen.\"\n                    checked={exportComment}\n                    value={exportComment}\n                    onChange={e=>{setExportComment(!exportComment)}}\n                />\n                <Form.Check\n                    type=\"switch\"\n                    id=\"custom-switch\"\n                    label=\"Tags in Export aufnehmen.\"\n                    checked={exportTags}\n                    value={exportTags}\n                    onChange={e=>{setExportTags(!exportTags)}}\n                />\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<Button onClick={()=>{downloadFile(`${exportFileName}.mlw`, exportTxt)}}>.mlw-Datei herunterladen</Button>\n\t\t\t</Col>\n\t\t</Row>\n\t\t<Tabs defaultActiveKey=\"text\" className=\"mb-4\">\n\t\t\t<Tab eventKey=\"text\" title=\"Exporttext\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col></Col>\n\t\t\t\t\t<Col xs={11}><textarea className=\"exportTextBox\" value={exportTxt} onChange={()=>{}}></textarea></Col>\n\t\t\t\t\t<Col></Col>\n\t\t\t\t</Row>\n\t\t\t</Tab>\n\t\t\t{loadPreview>0&&<Tab eventKey=\"preview\" title={<span>Vorschau{loadPreview===1?<Spinner style={{marginLeft: \"10px\"}} variant=\"primary\" animation=\"border\" size=\"sm\" />:null}</span>}>\n\t\t\t\t<Row><Col><div>\n\t\t\t\t\t<iframe style={{width: \"100%\", height: \"500px\"}} srcDoc={preview}></iframe>\n\t\t\t\t</div></Col></Row>\n\t\t\t</Tab>}\n\t\t</Tabs>\n\t</Container>;\n}\n\nexport { ExportBox }","import { useEffect, useState, useRef } from \"react\";\nimport { Button, ButtonGroup, Dropdown, Table, Badge, Card, Col, Form, Container, Navbar, Nav, Row, Modal, Accordion, Stack, Spinner, Offcanvas, Tabs, Tab } from \"react-bootstrap\";\nimport { arachne } from \"./../arachne.js\";\nimport { AutoComplete, SearchInput, ToolKit, useIntersectionObserver, Message, useShortcuts, sleep } from \"./../elements.js\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlusCircle, faMinusCircle, faTimesCircle, faRotate, faTrashCan } from \"@fortawesome/free-solid-svg-icons\";\nimport { ZettelBox } from \"./zettel.js\";\nimport { OutlineBox } from \"./outline.js\";\nimport { ExportBox } from \"./export.js\";\n\nfunction Editor(props){\n    const [mode, setMode] = useState(\"zettel\")\n    const [project, setProject] = useState(null);\n    const [articles, setArticles] = useState([]);\n    const [articlesLst, setArticlesLst] = useState([]); // because react only checks shallow copies!\n    const [collapsedArticlesLst, setCollapsedArticlesLst] = useState([])\n    const [filterLst, setFilterLst] = useState([]);\n    const [filterTags, setFilterTags] = useState([]);\n    const [filterSearchIds, setFilterSearchIds] = useState([]);\n    const [toolKitItems, setToolKitItems] = useState([]);\n    const [limitFilterResults,setLimitFilterResults] = useState(false);\n    //const [showMenuLeft, setShowMenuLeft] = useState(false);\n    const [sectionsMenuActiveTabKey, setSectionsMenuActiveTabKey] = useState(null);\n    const [showImport, setShowImport] = useState(false);\n    const [changeZettelWork, setChangeZettelWork] = useState({})\n    const scSetup = [\n        [\"ACTION+ESC\", ()=>{props.loadMain(null, null)}],\n        [\"ACTION+f\", ()=>{if(mode===\"zettel\"){setSectionsMenuActiveTabKey(\"filter\")}}],\n        [\"ACTION+t\", ()=>{if(mode===\"zettel\"){setSectionsMenuActiveTabKey(\"tags\")}}],\n        [\"ACTION+q\", ()=>{if(mode===\"zettel\"){setSectionsMenuActiveTabKey(\"search\")}}],\n        [\"ACTION+i\", ()=>{if(mode===\"zettel\"){setShowImport(!showImport)}}],\n        [\"ACTION+r\", ()=>{if(mode===\"zettel\"){setFilterLst([]);updateSections()}}],\n        [\"ACTION+1\", ()=>{setMode(\"zettel\")}],\n        [\"ACTION+2\", ()=>{setMode(\"outline\")}],\n        [\"ACTION+3\", ()=>{setMode(\"export\")}],\n        [\"ACTION+n\", ()=>{if(mode===\"zettel\"){setChangeZettelWork({value: \"\", id: 0, section_id: 0})}else if(mode===\"outline\"){createNewArticle()}}]\n    ];\n    useShortcuts(scSetup, false);\n    useEffect(()=>{\n        if(mode===\"zettel\"){setToolKitItems([\n            [`Zettel importieren <small>(${arachne.options.action_key.toUpperCase()}+I)</small>`, ()=>{setShowImport(true)}],\n            [`Seitenleiste einblenden <small>(${arachne.options.action_key.toUpperCase()}+Q/F/T)</small>`, ()=>{setSectionsMenuActiveTabKey(\"filter\")}],\n            [`Filter neu laden <small>(${arachne.options.action_key.toUpperCase()}+R)</small>`, ()=>{setFilterLst([]);updateSections()}],\n            [`Neue Stelle erstellen <small>(${arachne.options.action_key.toUpperCase()}+N)</small>`, ()=>{setChangeZettelWork({value: \"\", id: 0, section_id: 0})}],\n        ])}else if(mode===\"outline\"){\n            setToolKitItems([\n                [`Neue Bedeutung hinzufügen <small>(${arachne.options.action_key.toUpperCase()}+N)</small>`, ()=>{createNewArticle()}],\n            ]);\n        }else{setToolKitItems([])}\n    },[mode])\n    const updateArticles = inArticles => {\n        setArticles(inArticles);\n        const returnChildIds = (parentId, depth) => {\n            const childArticles = inArticles.filter(a=>a.parent_id===parentId&&a.type<900).sort((a,b)=>a.sort_nr>b.sort_nr);\n            let returnLst = [];\n            childArticles.forEach(a=>{\n                returnLst.push(`${depth}-${a.id}`)\n                if(!collapsedArticlesLst.includes(a.id)){\n                    const newChildLst = returnChildIds(a.id, depth+1);\n                    if(newChildLst.length>0){returnLst=returnLst.concat(newChildLst)}\n                }\n            });\n            return returnLst;\n        };\n        setArticlesLst(returnChildIds(0,0));\n    };\n    useEffect(()=>{\n        updateArticles(articles);\n    }, [collapsedArticlesLst])\n    useEffect(()=>{\n        const fetchData = async ()=>{\n            const newProject = await arachne.project.get({id: props.resId})\n            setProject(newProject[0])\n            const newArticles = await arachne.article.get({project_id: props.resId});\n            updateArticles(newArticles);\n        };\n        fetchData();\n        updateSections();\n    }, []);\n    const deleteArticle = async(id)=>{\n        if(window.confirm(\"Soll die Bedeutung wirklich gelöscht werden? Alle Unterbedeutungen werden ebenfalls gelöscht.\")){\n            const getChildIds = id=>{\n                let returnIds = [id];\n                const childIds = articles.filter(a=>a.parent_id===id).map(a=>a.id);\n                childIds.forEach(a=>{returnIds=returnIds.concat(getChildIds(a))})\n                return returnIds;\n            }\n            const artIdLst = getChildIds(id);\n\n            let sectionLst = [];\n            for(const artId of artIdLst){ // can we use an user-side list here?\n                const newSectionsId = await arachne.sections.get({article_id:artId}, {select: [\"id\"]});\n                newSectionsId.forEach(s=>sectionLst.push({id: s.id, article_id: null}));\n            }\n            //console.log(sectionLst);\n            await arachne.article.delete(artIdLst);\n            await arachne.sections.save(sectionLst);\n            updateArticles(articles.filter(a=>!artIdLst.includes(a.id)));\n        }\n    }\n    const createNewArticle = async (newArt={}) =>{\n        let newArticle = newArt;\n        newArticle.type = newArticle.type?newArticle.type:0;\n        newArticle.project_id = project.id;\n        newArticle.parent_id = 0;\n        newArticle.name = newArticle.name?newArticle.name:\"Neue Bedeutung:\";\n        newArticle.sort_nr = newArticle.sort_nr?newArticle.sort_nr:articles.length>0?Math.max(...articles.filter(a=>a.parent_id===0).map(a=>a.sort_nr))+1:1;\n        const newId=await arachne.article.save(newArticle);\n        newArticle.id = newId;\n        let newArticles = articles.map(i=>i); // necessary?\n        newArticles.push(newArticle);\n        updateArticles(newArticles);\n    };\n    const changeArticle=a=>{\n        updateArticles(articles.map(l=>{\n            if(l.id!==a.id){return l}\n            else{\n                return {...l, ...a}\n            }\n        }));\n    };\n    const dropArticle = async (id, parent_id, sort_nr) => {\n        let newArticles = articles;\n\n        // close gap in old position\n        const currentArticle = articles.find(a=>a.id===id);\n        let save_old_lst = articles.filter(a=>a.parent_id===currentArticle.parent_id&&a.sort_nr>currentArticle.sort_nr).map(a=>{return {id: a.id, sort_nr: a.sort_nr-1}});\n        save_old_lst.forEach(a=>{ // is there a faster way?\n            const i = newArticles.findIndex(na=>na.id===a.id);\n            //newArticles[i].parent_id = parent_id;\n            newArticles[i].sort_nr = a.sort_nr;\n        });\n        // make gap in new position\n        const save_new_lst = newArticles.filter(a=>a.parent_id===parent_id&&a.sort_nr>=sort_nr).map(a=>{return {id: a.id, parent_id: parent_id, sort_nr: a.sort_nr+1}});\n        save_new_lst.push({id: id, parent_id: parent_id, sort_nr: sort_nr});\n        save_new_lst.forEach(a=>{ // is there a faster way?\n            const i = newArticles.findIndex(na=>na.id===a.id);\n            newArticles[i].parent_id = parent_id;\n            newArticles[i].sort_nr = a.sort_nr;\n        });\n        await arachne.article.save(save_new_lst.concat(save_old_lst.filter(a=>save_new_lst.findIndex(b=>a.id===b.id)===-1)));\n        updateArticles(newArticles);\n    };\n    const toggleCollapse = aId => {\n        if(collapsedArticlesLst.includes(aId)){setCollapsedArticlesLst(collapsedArticlesLst.filter(a=>a!==aId))}\n        else{setCollapsedArticlesLst(collapsedArticlesLst.concat([aId]))}\n    };\n\n    const updateSections = async () => {\n        let foundSections = await arachne.sections.get({project_id: props.resId}, {select: [\"id\"], order: [\"date_sort\"]});\n        if(filterSearchIds.length>0){\n            setFilterLst(filterSearchIds);\n        }else if(filterTags.length === 0){\n            setFilterLst(foundSections.map(s=>s.id));\n        } else {\n            const allTags = await arachne.tags.get({project_id: props.resId}, {select: [\"id\"]});\n            const allTagLnks = await arachne.tag_lnks.get({tag_id: allTags.map(at=>at.id)});\n            foundSections = foundSections.map(fs=>{\n                fs.tags = allTagLnks.filter(atl=>atl.section_id===fs.id).map(atl=>atl.tag_id);\n                return fs;\n            });\n            for(const filter of filterTags){\n                if(filter.exclude){foundSections = foundSections.filter(fs=>!fs.tags.includes(filter.id))}\n                else{foundSections = foundSections.filter(fs=>fs.tags.includes(filter.id))}\n            }\n            setFilterLst(foundSections.map(s=>s.id));\n        }\n    };\n    let modeBox = null;\n    switch(mode){\n        case \"zettel\":\n            modeBox = <ZettelBox filterSearchIds={filterSearchIds} setFilterSearchIds={setFilterSearchIds} updateArticles={updateArticles} changeZettelWork={changeZettelWork} setChangeZettelWork={setChangeZettelWork} setLimitFilterResults={v=>{setLimitFilterResults(v)}} showImport={showImport} sectionsMenuActiveTabKey={sectionsMenuActiveTabKey} filterTags={filterTags} setFilterTags={newTags=>{setFilterTags(newTags)}} setSectionsMenuActiveTabKey={m=>{setSectionsMenuActiveTabKey(m)}} setShowImport={v=>{setShowImport(v)}} project={project} filterLst={filterLst} updateSections={(force=false)=>{if(force){setFilterLst([])};updateSections()}} />;\n            break;\n        case \"outline\":\n            modeBox = <OutlineBox deleteArticle={deleteArticle} createNewArticle={createNewArticle} changeArticle={changeArticle} project={project} dropArticle={(a,b,c)=>{dropArticle(a,b,c)}} articlesLst={articlesLst} articles={articles} collapsedArticlesLst={collapsedArticlesLst} toggleCollapse={a=>{toggleCollapse(a)}} />;\n            break;\n        case \"export\":\n            modeBox = <ExportBox project={project} />;\n            break;\n        default:\n        modeBox = <div>Modus '{mode}' nicht gefunden.</div>;\n    }\n    return <>\n    <Message show={Object.keys(changeZettelWork).length>0?true:false} title=\"verknpft. Werk auswählen\" msg=\"Mit welchem Werk soll die Stelle verknüpft werden?\" AutoComplete={{value: changeZettelWork.value, id: changeZettelWork.id, tbl: \"work\", searchCol: \"ac_web\", returnCol: \"ac_web\"}} onReplay={async e=>{\n            if(e){\n                let nValues = {work_id: e.id}  \n\n                if(changeZettelWork.section_id>0){\n                    nValues.id = changeZettelWork.section_id;\n                    const cSection = await arachne.sections.get({id: changeZettelWork.section_id}, {select: [\"ref\"]});\n                    if(cSection[0][\"ref\"]!=e.value&&window.confirm(\"Soll auch der Zitiertitel geändert werden?\")){\n                        nValues.ref = e.value+\";\";\n                    }\n                }else{\n                    const cWork = await arachne.work.get({id: e.id}, {select: [\"date_sort\"]})\n                    nValues.ref = e.value+\";\";\n                    nValues.project_id = project.id;                  \n                    nValues.user_id = project.user_id;\n                    nValues.shared_id = project.shared_id;\n                    nValues.date_sort = cWork[0][\"date_sort\"];\n                }             \n                const rId = await arachne.sections.save(nValues);\n                if(changeZettelWork.section_id===0){\n                    sleep(300).then(()=>{\n                        const el = document.getElementById(`s_${rId}`);\n                        if(el){el.scrollIntoView({behavior: \"auto\", block: \"center\"})}\n                    });\n                    \n                }\n                updateSections(true);\n            }\n            setChangeZettelWork({});\n        }} />\n    <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\" style={{top: \"0px\"}}>\n        <Container fluid style={{height: \"40px\"}}>\n            <Navbar.Brand style={{cursor: \"pointer\"}} onClick={e=>{props.loadMain(e, null)}}>Editor</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav style={{fontSize: \"110%\"}}>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"zettel\"?\"underline\":null}} onClick={()=>{setMode(\"zettel\")}}>Stellen</Nav.Link>\n                    <Navbar.Text style={{width: \"80px\", borderBottom: \"3px solid white\", height: \"25px\"}}></Navbar.Text>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"outline\"?\"underline\":null}} onClick={()=>{setMode(\"outline\")}}>Gliederung</Nav.Link>\n                    <Navbar.Text style={{width: \"80px\", borderBottom: \"3px solid white\", height: \"25px\"}}></Navbar.Text>\n                    <Nav.Link className=\"text-white\" style={{textDecoration: mode===\"export\"?\"underline\":null}} onClick={()=>{setMode(\"export\")}}>Export</Nav.Link>\n                </Nav>\n                <Nav>\n                    <Navbar.Text><ToolKit menuItems={toolKitItems} direction={\"down\"} /></Navbar.Text>\n                </Nav>\n            </Navbar.Collapse>\n        </Container>\n    </Navbar>\n    {project!=null?<Container style={{marginTop: \"120px\"/*position: \"absolute\", overflow: \"scroll\", backgroundColor: \"red\", padding:\"10px 0 10px 0\", top: \"56px\", bottom: \"80px\"*/}} fluid>\n        {modeBox}\n    </Container>:<Container><Row>Project wird geladen...</Row></Container>}\n    </>;\n}\nexport { Editor }","import { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { Container, Navbar, Nav, NavDropdown } from \"react-bootstrap\";\n\nimport { Overview } from \"./overview.js\";\nimport { Editor } from \"./editor.js\";\nimport { ChangeLog } from \"./../changelog.js\";\nimport { Account } from \"./../settings.js\";\nimport { arachne } from \"./../arachne.js\";\n\nfunction getSettings(){\n    let settings = JSON.parse(localStorage.getItem(\"editor_settings\"));\n    if(settings===null){settings = {}}\n    if(!settings.hasOwnProperty(\"projectSort\")){settings.projectSort = \"name\"}\n    if(!settings.hasOwnProperty(\"openExternal\")){settings.openExternal=false}\n    return settings;\n}\nfunction getSetting(name){\n    const settings = getSettings();\n    return settings[name];\n}\nfunction setSetting(key, value){\n    let settings = getSettings()\n    settings[key] = value;\n    localStorage.setItem(\"editor_settings\", JSON.stringify(settings))\n}\n\nfunction MainBody(props){\n    arachne.changeLog = dbChangeLog;\n    let main = null;\n    switch(props.res){\n        case null:\n            main = <Overview loadMain={(...params)=>{props.loadMain(...params)}} />;\n            break;\n        case \"editor\":\n            main = <Editor loadMain={(...params)=>{props.loadMain(...params)}} resId={props.resId} />;\n            break;\n        case \"changelog\":\n            main = <ChangeLog />;\n            break;\n        case \"settings\":\n            main = <Account />;\n            break;\n        default:\n            main = <div>Unbekannter Menü-Punkt: \"{props.res}\"</div>;\n    }\n    return <>\n        {main}\n        \n    </>;\n}\nfunction MainNavBar(props){\n    const [editions, setEditions] = useState([]);\n    const [editionTxt, setEditionTxt] = useState(\"zuletzt geöffnet\");\n    useEffect(()=>{\n        const fetchData=async()=>{\n            let openRecentLst = localStorage.getItem(\"openRecentEditor\")\n            if(openRecentLst){\n                openRecentLst = JSON.parse(openRecentLst).reverse();\n                const projectNames = await arachne.project.getAll({select:[\"id\", \"name\"]});\n                // check if there are deleted projects! remove and save to localStorage\n                openRecentLst = openRecentLst.filter(o=>projectNames.find(p=>p.id===o)!==undefined);\n                localStorage.setItem(\"openRecentEditor\", openRecentLst);\n                setEditions(openRecentLst.map(o=>{\n                   const p = projectNames.find(p=>p.id===o);\n                   return <NavDropdown.Item key={p.id} onClick={e=>{props.loadMain(e, \"editor\", p.id)}}>{p.name}</NavDropdown.Item>\n                }));\n            }\n        };\n        fetchData();\n    }, []);\n    return <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\">\n        <Container fluid>\n            <Navbar.Brand style={{cursor: \"pointer\"}} onClick={e=>{props.loadMain(e, null)}}>Editor</Navbar.Brand>\n            <Navbar.Toggle />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav>\n                    <NavDropdown title={editionTxt}>{editions}\n                    </NavDropdown>\n                    <NavDropdown title=\"Einstellungen\">\n                    <NavDropdown.Item onClick={e=>{props.loadMain(e,\"settings\")}}>Konto</NavDropdown.Item>\n                        <NavDropdown.Item onClick={e=>{props.loadMain(e,\"changelog\")}}>Änderungen</NavDropdown.Item>\n                    </NavDropdown>\n                    <Nav.Link>\n                        <FontAwesomeIcon icon={faSignOutAlt} onClick={e => {props.loadMain(e, \"logout\")}} title=\"abmelden\" />\n                    </Nav.Link>\n                </Nav>\n            </Navbar.Collapse>\n        </Container>\n</Navbar>;\n}\nconst dbChangeLog = [\n    {\n        title: \"Beta 1.0\",\n        date: \"2022-06-10\",\n        description: <><p>Beta Version online!</p></>\n    },\n]\nexport { MainBody, MainNavBar, getSettings, getSetting, setSetting };","import { Row, Col, Form, Container } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\n\nimport { arachne } from \"./arachne.js\";\nimport { StatusButton } from \"./elements.js\";\n\nfunction Account(){\n    const [firstName, setFirstName] = useState(arachne.me.first_name);\n    const [lastName, setLastName] = useState(arachne.me.last_name);\n    const [email, setEmail] = useState(arachne.me.email);\n    const [oldPassword, setOldPassword] = useState(\"\");\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [zWidth, setZWidth] = useState(arachne.options.z_width);\n    const [actionKey, setActionKey] = useState(arachne.options.action_key);\n    const [openExternally, setOpenExternally]=useState(arachne.options.openExternally);\n    const displaySettings = [\n        <Row key={1} className=\"mb-2\">\n            <Col xs={2}>Breite der Zettel:</Col>\n            <Col><Form.Range min=\"400\" max=\"600\" size=\"sm\" value={zWidth} onChange={e=>{\n                arachne.setOptions(\"z_width\", e.target.value);\n                arachne.setOptions(\"z_height\", 350/500*parseInt(e.target.value));\n                setZWidth(e.target.value);\n            }}/></Col>\n        </Row>,\n        <Row key={2} className=\"mb-2\">\n            <Col xs={4}>Öffnen der Ressourcen (Zettel im Editor):</Col>\n            <Col><Form.Select size=\"sm\" value={openExternally} onChange={e=>{arachne.setOptions(\"openExternally\", parseInt(e.target.value));setOpenExternally(e.target.value)}}>\n                    <option value=\"0\">im gleichen Fenster</option>\n                    <option value=\"1\">in einem neuen Fenster</option>\n                    <option value=\"2\">in Echo</option>\n                </Form.Select></Col>\n        </Row>\n    ];\n    return <Container style={{padding: \"0 10% 0 10%\"}}>\n        <Row><Col><h3>Persönliche Daten</h3></Col></Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>Vorname:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={firstName} onChange={e=>{setFirstName(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>Nachname:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={lastName} onChange={e=>{setLastName(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}>Email-Adresse:</Col>\n            <Col><Form.Control type=\"text\" size=\"sm\" value={email} onChange={e=>{setEmail(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}></Col>\n            <Col><StatusButton value=\"speichern\" onClick={async ()=>{\n                    await arachne.user.save({\n                        id: arachne.me.id,\n                        first_name: firstName,\n                        last_name: lastName,\n                        email: email,\n                    });\n                    const reUser = await arachne.getUser();\n                    arachne.me = reUser;\n                    return {status: 1};\n                }} /></Col>\n        </Row>\n\n\n        <Row><Col><h3>Passwort</h3></Col></Row>\n        <Row className=\"mb-2\">\n            <Col xs={2}>altes Passwort:</Col>\n            <Col><Form.Control type=\"password\" size=\"sm\" value={oldPassword} onChange={e=>{setOldPassword(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}>neues Passwort:</Col>\n            <Col><Form.Control type=\"password\" size=\"sm\" value={newPassword} onChange={e=>{setNewPassword(e.target.value)}} /></Col>\n        </Row>\n        <Row className=\"mb-4\">\n            <Col xs={2}></Col>\n            <Col><StatusButton value=\"speichern\" onClick={async ()=>{\n                    await arachne.user.save({\n                        id: arachne.me.id,\n                        old_password: oldPassword,\n                        new_password: newPassword\n                    });\n                    return {status: 1};\n                }} /></Col>\n        </Row>\n\n\n        <Row><Col><h3>Darstellung und Benutzung</h3></Col></Row>\n        <Row className=\"mb-4\">\n            <Col xs={4}>Funktionstaste für Tastenkürzel</Col>\n            <Col>\n                <Form.Select size=\"sm\" value={actionKey} onChange={e=>{arachne.setOptions(\"action_key\", e.target.value);setActionKey(e.target.value)}}>\n                    <option value=\"alt\">Alt</option>\n                    <option value=\"ctrl\">Strg</option>\n                    <option value=\"cmd\">Befehlstaste</option>\n                </Form.Select>\n                <small>Eine Liste mit Tastenkürzeln finden Sie <a className=\"text-primary\" rel=\"noreferrer\" href=\"https://gitlab.lrz.de/haeberlin/dmlw/-/wikis/06-Argos#tastenkürzel\" target=\"_blank\">hier</a>.</small>\n            </Col>\n        </Row>\n        {displaySettings}\n    </Container>;\n}\n\nexport { Account };","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport FormCheckInput from './FormCheckInput';\nimport InputGroupContext from './InputGroupContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst InputGroupText = createWithBsPrefix('input-group-text', {\n  Component: 'span'\n});\n\nconst InputGroupCheckbox = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"checkbox\",\n    ...props\n  })\n});\n\nconst InputGroupRadio = props => /*#__PURE__*/_jsx(InputGroupText, {\n  children: /*#__PURE__*/_jsx(FormCheckInput, {\n    type: \"radio\",\n    ...props\n  })\n});\n\n/**\n *\n * @property {InputGroupText} Text\n * @property {InputGroupRadio} Radio\n * @property {InputGroupCheckbox} Checkbox\n */\nconst InputGroup = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  size,\n  hasValidation,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'input-group'); // Intentionally an empty object. Used in detecting if a dropdown\n  // exists under an input group.\n\n  const contextValue = useMemo(() => ({}), []);\n  return /*#__PURE__*/_jsx(InputGroupContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(Component, {\n      ref: ref,\n      ...props,\n      className: classNames(className, bsPrefix, size && `${bsPrefix}-${size}`, hasValidation && 'has-validation')\n    })\n  });\n});\nInputGroup.displayName = 'InputGroup';\nexport default Object.assign(InputGroup, {\n  Text: InputGroupText,\n  Radio: InputGroupRadio,\n  Checkbox: InputGroupCheckbox\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Dropdown from './Dropdown';\nimport NavLink from './NavLink';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst NavDropdown = /*#__PURE__*/React.forwardRef(({\n  id,\n  title,\n  children,\n  bsPrefix,\n  className,\n  rootCloseEvent,\n  menuRole,\n  disabled,\n  active,\n  renderMenuOnMount,\n  menuVariant,\n  ...props\n}, ref) => {\n  /* NavItem has no additional logic, it's purely presentational. Can set nav item class here to support \"as\" */\n  const navItemPrefix = useBootstrapPrefix(undefined, 'nav-item');\n  return /*#__PURE__*/_jsxs(Dropdown, {\n    ref: ref,\n    ...props,\n    className: classNames(className, navItemPrefix),\n    children: [/*#__PURE__*/_jsx(Dropdown.Toggle, {\n      id: id,\n      eventKey: null,\n      active: active,\n      disabled: disabled,\n      childBsPrefix: bsPrefix,\n      as: NavLink,\n      children: title\n    }), /*#__PURE__*/_jsx(Dropdown.Menu, {\n      role: menuRole,\n      renderOnMount: renderMenuOnMount,\n      rootCloseEvent: rootCloseEvent,\n      variant: menuVariant,\n      children: children\n    })]\n  });\n});\nNavDropdown.displayName = 'NavDropdown';\nexport default Object.assign(NavDropdown, {\n  Item: Dropdown.Item,\n  ItemText: Dropdown.ItemText,\n  Divider: Dropdown.Divider,\n  Header: Dropdown.Header\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport Anchor from '@restart/ui/Anchor';\nimport { useNavItem } from '@restart/ui/NavItem';\nimport { makeEventKey } from '@restart/ui/SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  disabled: false\n};\nconst NavLink = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  as: Component = Anchor,\n  active,\n  eventKey,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'nav-link');\n  const [navItemProps, meta] = useNavItem({\n    key: makeEventKey(eventKey, props.href),\n    active,\n    ...props\n  });\n  return /*#__PURE__*/_jsx(Component, { ...props,\n    ...navItemProps,\n    ref: ref,\n    className: classNames(className, bsPrefix, props.disabled && 'disabled', meta.isActive && 'active')\n  });\n});\nNavLink.displayName = 'NavLink';\nNavLink.defaultProps = defaultProps;\nexport default NavLink;"],"names":["ChangeLog","arachne","a","b","date","undefined","project","useState","displayAll","setDisplayAll","c","i","variant","title","d","substring","description","style","cursor","marginTop","textAlign","onClick","Overview","props","getSettings","projectSort","sortName","setSortName","renameId","setRenameId","shareId","setShareId","renameName","setRenameName","activeProjects","setActiveProjects","archiveProjects","setArchiveProjects","sharedProjects","setSharedProjects","userLst","setUserLst","useEffect","refreshPage","fetchData","order","users","map","u","id","first_name","last_name","user_id","status","shared_id","deleteProject","window","confirm","project_id","articleLst","length","zettelLst","z","tagLst","tagLnkLst","copyProject","oldProjectId","oldProject","name","newProjectId","zettelLnk","oldTags","t","oldTagLnks","shareProject","newUserId","projectId","select","oldUserId","show","msg","input","onReplay","e","dropDown","console","log","Container","Tabs","defaultActiveKey","Tab","eventKey","className","width","Table","hover","p","editMenu","ProjectRow","openProject","p_id","openRecentLst","localStorage","getItem","JSON","parse","filter","o","push","setItem","stringify","addToOpenRecent","loadMain","disabled","NavBarBottom","showEdit","setShowEdit","shared","setShared","isShared","setIsShared","getUserName","userName","height","onMouseEnter","onMouseLeave","u_date","c_date","minWidth","Dropdown","display","size","showSort","setShowSort","createNewProject","setCreateNewProject","ToolKitItems","Navbar","fixed","bg","setSetting","fluid","menuItems","createUtilityClassName","utilityValues","breakpoints","DEFAULT_BREAKPOINTS","classes","Object","entries","forEach","utilName","utilValue","brkPoint","bpValue","infix","Stack","React","ref","as","Component","bsPrefix","direction","gap","useBootstrapPrefix","useBootstrapBreakpoints","_jsx","classNames","displayName","Badge","pill","text","prefix","defaultProps","ZettelBox","currentZettel","setCurrentZettel","wideScreen","setWideScreen","splitView","setSplitView","splitViewURL","setSplitViewURL","resizeObserver","ResizeObserver","contentRect","observe","document","getElementById","unobserve","ImportZettel","updateArticles","showImport","updateSections","setShowImport","Row","Col","filterLst","sId","SectionCard","setChangeZettelWork","setRessourceView","url","src","position","top","left","icon","faTimesCircle","color","fontSize","zIndex","right","MenuLeft","setFilterSearchIds","setLimitFilterResults","v","setActiveTabKey","setSectionsMenuActiveTabKey","activeTabKey","sectionsMenuActiveTabKey","filterTags","setFilterTags","newTags","onHide","justifyContent","bottom","backgroundColor","padding","filterSearchIds","exclude","fontWeight","border","margin","borderRadius","background","outline","value","onChange","target","onKeyUp","keyCode","els","getElementsByClassName","parseInt","scrollIntoView","behavior","block","tags","setTags","query","setQuery","resultLst","setResultLst","queryRef","setQueryRef","queryText","setQueryText","loadTags","allTags","enhancedTags","tag","tag_id","count","tagCount","sections","deleteTag","Offcanvas","closeButton","tagNames","toLowerCase","includes","alert","activeKey","onSelect","k","Form","placeholder","type","searchArray","autoClose","tabIndex","faGear","r","s","dangerouslySetInnerHTML","parseHTML","replace","RegExp","FilterBox","Button","defaultValue","marginLeft","faEye","faEyeSlash","faPenToSquare","faTrashCan","ressources","setRessources","showComment","setShowComment","showDate","setShowDate","dateIsValid","setDateIsValid","comment","setComment","img","setImg","reference","setReference","setText","setDate","verso","setVerso","unusedTags","setUnusedTags","section","setSection","isVisible","setIsVisible","refImg","useRef","centerSection","useIntersectionObserver","onIntersect","observerElement","isIntersecting","current","loadSection","newSection","date_sort","work_id","cAllTags","section_id","cTagLnks","cTagLnk","newTagIndex","findIndex","splice","Card","onFocus","el","allCards","aspectRatio","marginBottom","onBlur","rows","minHeight","search","isValid","TagBox","RessourcesButtons","zettel_id","open","acWork","ac_web","vals","newId","sleep","button","setButton","selected","setSelected","openRessource","label","ButtonGroup","split","inputMode","setInputMode","removeTag","ft","addTag","tName","structuredClone","newTag","borderStyle","alignContent","alignItems","flexWrap","tb","children","focus","FilterTag","FilterBoxInput","inputValue","setInputValue","acTags","setACTags","currentFocus","setCurrentFocus","loadACTags","currentTags","newACTags","currentACTags","indexOf","createNewTag","exitInput","find","existingTag","onKeyDown","preventDefault","borderColor","onMouseDown","stopPropagation","faXmark","inputEl","querySelector","Tag","sectionId","TagBoxInput","hasFocus","setHasFocus","iValue","sort","inTags","tagId","colorPicker","newTagId","articleWithTag","article_id","currentTagLnk","mode","setMode","lemma","setLemma","SF","setSF","lemmaId","setLemmaId","lemmaZettelCount","setLemmaZettelCount","zettelZettelCount","setZettelZettelCount","searchFields","setSearchFields","nextID","setNextID","importZettelText","setImportZettelText","lemma_id","searchOptions","removeSearchFields","sendQuery","exportSF","sF","cSF","itemId","clickButton","changeItem","item","Modal","backdrop","Accordion","tbl","searchCol","returnCol","faPlusCircle","nSearchFields","addSearchFields","marginRight","checked","progress","lemmaArticle","newArticles","tagObj","zettel_save_lst","tag_lnks_save_lst","cmnts","txt","ocr_text_corr","ocr_text","user","join","img_path","typeTag","keys","newSecIds","colors","Math","floor","random","alignDirection","PropTypes","alignPropType","sm","md","lg","xl","xxl","propTypes","href","align","menuRole","renderMenuOnMount","rootCloseEvent","menuVariant","DropdownButton","_jsxs","DropdownToggle","childBsPrefix","DropdownMenu","role","renderOnMount","defaultArticleHeadFields","OutlineBox","displayHead","setDisplayHead","displayBody","setDisplayBody","dragObjectId","setDragObjectId","articleHeadFields","setArticleHeadFields","articleHeadSelect","setArticleHeadSelect","articleHeadSelectId","setArticleHeadSelectId","devider","borderTop","articleTypes","articles","maxDepth","articlesLst","xs","userSelect","faAngleDown","changeArticle","borderBottom","InputGroup","f","FormControl","createNewArticle","sort_nr","paddingBottom","aSplit","depth","onDrop","dropArticle","parent_id","onDragOver","onDragLeave","ArticleBox","deleteArticle","collapsed","collapsedArticlesLst","toggleCollapse","displayArticles","Alert","displaySections","setDisplaySections","sectionCount","setSectionCount","sCount","dblClickCallback","closest","contentEditable","cDepth","ordNumber","ordNumbers","draggable","onDragStart","onDoubleClick","shiftKey","parentArticle","previousArticles","articleBoxes","previousArticleChildren","parentElement","newText","innerText","blur","getSelection","focusOffset","textContent","float","setTimeout","ArticleBoxSections","setSectionDetailId","articleId","setSections","acLst","setACLst","sectionDetailId","setTagLst","loading","setLoading","loadSections","loadACLst","allSections","articleName","concat","limit","pages","pages_from_sections","loopCount","full_text","matchAll","hit","edition_id","index","addSections","sectionLst","removeTagFromArticle","edition","work","saveValue","allSectionTags","sectionTag","articleSections","articleTagLnkLst","articleTagLst","atl","SectionDetailEdit","handleClose","SectionBox","parentNode","firstChild","lastChild","Spinner","animation","fontStyle","tagLnks","tl","removeFromArticle","tagNameLst","previousSibling","nextSibling","opacity","faRotate","ExportBox","exportTxt","setExportTxt","exportFileName","setExportFileName","exportComment","setExportComment","exportTags","setExportTags","preview","setPreview","loadPreview","setLoadPreview","exportLst","lemmaName","tag_lnks","getArticle","article","repeat","previewResponse","html","downloadFile","srcDoc","Editor","setProject","setArticles","setArticlesLst","setCollapsedArticlesLst","setFilterLst","toolKitItems","setToolKitItems","changeZettelWork","scSetup","useShortcuts","inArticles","returnChildIds","parentId","childArticles","returnLst","newChildLst","resId","newProject","getChildIds","returnIds","artIdLst","artId","newArt","newArticle","max","currentArticle","save_old_lst","na","save_new_lst","foundSections","at","allTagLnks","fs","modeBox","m","force","l","aId","AutoComplete","nValues","cWork","rId","then","Nav","textDecoration","settings","hasOwnProperty","openExternal","getSetting","key","MainBody","dbChangeLog","main","res","MainNavBar","editions","setEditions","editionTxt","reverse","projectNames","NavDropdown","faSignOutAlt","Account","firstName","setFirstName","lastName","setLastName","email","setEmail","oldPassword","setOldPassword","newPassword","setNewPassword","zWidth","setZWidth","actionKey","setActionKey","openExternally","setOpenExternally","displaySettings","min","reUser","old_password","new_password","rel","InputGroupText","createWithBsPrefix","hasValidation","contextValue","useMemo","InputGroupContext","assign","Text","Radio","FormCheckInput","Checkbox","active","navItemPrefix","NavLink","Item","ItemText","Divider","Header","Anchor","useNavItem","makeEventKey","navItemProps","meta","isActive"],"sourceRoot":""}