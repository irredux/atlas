(this["webpackJsonpmlw-react"]=this["webpackJsonpmlw-react"]||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(3),i=a(4),c=a(5),l=a(8),o=a(7),d=a(2),u=a.n(d),p=a(15),h=a.n(p),j=a(10),b=a(11),m=(a(27),a(9)),x=function(){function e(t,a,n){Object(i.a)(this,e),this.tblName=t,this.url=a,this.key=n}return Object(c.a)(e,[{key:"getAll",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,this.search([{c:"id",o:">",v:0}],t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=i.length>1&&void 0!==i[1]?i[1]:{},n=[],t)n.push({c:r,o:"=",v:t[r]});return e.next=5,this.search(n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},n="".concat(this.url,"/data/").concat(this.tblName,"?query=").concat(JSON.stringify(t)),!0===a.count&&(n+="&count=1"),a.limit&&(n+="&limit="+a.limit),a.offset&&(n+="&offset="+a.offset),a.select&&(n+="&select="+JSON.stringify(a.select)),a.order&&(n+="&order="+JSON.stringify(a.order)),n=encodeURI(n),e.next=10,fetch(n,{headers:{Authorization:"Bearer ".concat(this.key)}}).then((function(e){if(200===e.status)return e.json();var t=new CustomEvent("arachneError",{detail:{method:"search",status:e.status}});window.dispatchEvent(t)}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="POST",n="",r=1,Array.isArray(t)?n="".concat(this.url,"/data_batch/").concat(this.tblName):(n="".concat(this.url,"/data/").concat(this.tblName),r=t.id,null!=t.id&&(n+="/".concat(t.id),a="PATCH",delete t.id)),e.next=6,fetch(n,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.key)},body:JSON.stringify(t)});case 6:if(201!==(i=e.sent).status||"POST"!==a){e.next=21;break}if(!Array.isArray(t)){e.next=14;break}return e.next=11,r;case 11:return e.abrupt("return",e.sent);case 14:return e.t0=parseInt,e.next=17,i.text();case 17:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 19:e.next=27;break;case 21:if(200!==i.status||"PATCH"!==a){e.next=25;break}return e.abrupt("return",r);case 25:c=new CustomEvent("arachneError",{detail:{method:"save",status:i.status}}),window.dispatchEvent(c);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(i.a)(this,e),this.url=t,this.key=null}return Object(c.a)(e,[{key:"open",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,i,c,l,o,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>2&&void 0!==d[2]?d[2]:null,e.next=3,fetch(this.url+"/session",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t,password:a})});case 3:if(200!==(r=e.sent).status){e.next=27;break}return e.next=7,r.text();case 7:return this.key=e.sent,e.next=10,fetch(this.url+"/session",{headers:{Authorization:"Bearer ".concat(this.key)}});case 10:if(i=e.sent,200!==r.status){e.next=17;break}return e.next=14,i.json();case 14:this.user=e.sent,e.next=18;break;case 17:return e.abrupt("return",!1);case 18:if(null!=n){e.next=22;break}return e.next=21,this.tables();case 21:n=e.sent;case 22:c=Object(m.a)(n);try{for(c.s();!(l=c.n()).done;)this[o=l.value]=new x(o,this.url,this.key)}catch(s){c.e(s)}finally{c.f()}return e.abrupt("return",!0);case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.key=null;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url+"/data/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.abrupt("return",a.status);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"importScans",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url+"/file/scan",{method:"POST",headers:{Authorization:"Bearer ".concat(this.key)},body:t});case 2:return a=e.sent,e.t0=a.status,e.next=6,a.json();case 6:return e.t1=e.sent,e.abrupt("return",{status:e.t0,body:e.t1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),g=a(16),v=a.n(g),y=a(0),O=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{id:"navBox",children:[Object(y.jsx)("div",{id:"navScreen",onClick:function(){window.scrollTo(0,0)},children:Object(y.jsx)(j.a,{icon:b.b})}),Object(y.jsxs)("div",{id:"navPage",children:[Object(y.jsx)("span",{onClick:function(){window.scrollTo(0,0),e.props.loadPage(-1)},children:"<"}),Object(y.jsxs)("span",{id:"navSelect",children:[this.props.currentPage," von ",this.props.maxPage]}),Object(y.jsx)("span",{onClick:function(){window.scrollTo(0,0),e.props.loadPage(1)},children:">"})]})]})}}]),a}(u.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:n.props.status.id,visible:!1},n.statusBox=u.a.createRef(),n.timeOutHandle=null,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(this.state.visible){var t="",a=null;switch(this.state.type){case"searching":a=Object(y.jsx)("div",{style:{display:"inline-block",backgroundColor:"#246EB9"},children:Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",fontSize:"40px"},icon:b.i,spin:!0})}),t="Suche l\xe4uft...",null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle);break;case"found":a=Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",backgroundColor:"#4CB944",fontSize:"40px"},icon:b.f}),t="Eintr\xe4ge gefunden!",null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=setTimeout((function(){e.statusBox.current.style.opacity="0",setTimeout((function(){e.setState({visible:!1})}),500)}),3e3);break;case"notFound":a=Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",backgroundColor:"#353535",fontSize:"40px"},icon:b.c}),t="Keine Eintr\xe4ge gefunden!",null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=setTimeout((function(){e.statusBox.current.style.opacity="0",setTimeout((function(){e.setState({visible:!1})}),500)}),3e3);break;case"saved":a=Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",backgroundColor:"#4CB944",fontSize:"40px"},icon:b.d}),t="Speichern erfolgreich.",null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=setTimeout((function(){e.statusBox.current.style.opacity="0",setTimeout((function(){e.setState({visible:!1})}),500)}),2e3);break;case"error":a=Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",backgroundColor:"#F06543",fontSize:"40px"},icon:b.j}),t="Ein Fehler ist aufgetreten.",null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=setTimeout((function(){e.statusBox.current.style.opacity="0",setTimeout((function(){e.setState({visible:!1})}),500)}),3e3);break;case"saving":t="Eintr\xe4ge werden gespeichert.",a=Object(y.jsx)("div",{style:{display:"inline-block",backgroundColor:"#246EB9"},children:Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",fontSize:"40px"},icon:b.i,spin:!0})}),null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=null;break;default:t="Programm arbeitet.",a=Object(y.jsx)(j.a,{color:"#FDFFFC",style:{padding:"3px",backgroundColor:"#F5EE9E",fontSize:"40px"},icon:b.e}),null!=this.timeOutHandle&&clearTimeout(this.timeOutHandle),this.timeOutHandle=setTimeout((function(){e.statusBox.current.style.opacity="0",setTimeout((function(){e.setState({visible:!1})}),500)}),2e3)}return null!=this.state.value&&(t=this.state.value),Object(y.jsxs)("div",{ref:this.statusBox,style:{position:"fixed",bottom:"30px",left:"30px",backgroundColor:"white",boxShadow:"0 2px 5px #d9d9d9",transition:"opacity 0.5s",opacity:"1",borderRadius:"3px",overflow:"hidden",zIndex:9e6},children:[a,Object(y.jsx)("span",{style:{position:"relative",top:"-10px",padding:"10px 20px"},children:t})]})}return null}},{key:"componentDidUpdate",value:function(){this.props.status.id!=this.state.id&&this.setState({id:this.props.status.id,visible:!0,type:this.props.status.type,value:this.props.status.value})}}]),a}(u.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this,a=[],n=Object(m.a)(this.props.options);try{for(n.s();!(e=n.n()).done;){var s=e.value;a.push(Object(y.jsx)("option",{value:s[0],children:s[1]},s[0]))}}catch(r){n.e(r)}finally{n.f()}return Object(y.jsxs)("div",{style:this.props.style,children:[Object(y.jsx)("select",{value:this.props.value,style:{width:"100%"},onChange:function(e){t.props.onChange(e)},children:a}),Object(y.jsx)("div",{style:{pointerEvents:"none",textAlign:"right",margin:"-26px 10px 0 0"},children:Object(y.jsx)(j.a,{color:"LightGray",icon:b.a})})]})}},{key:"componentDidUpdate",value:function(){}}]),a}(u.a.Component),S=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={options:[],currentOptionId:null,userSelected:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=[];if(this.state.options.length>0&&!1===this.state.userSelected){var a,n=-1,s=Object(m.a)(this.state.options);try{for(s.s();!(a=s.n()).done;){var r=a.value;n++,t.push(Object(y.jsx)("div",{id:n,"data-id":r.id,"data-value":r[this.props.col],onClick:function(t){e.props.onChange(t.target.dataset.value,t.target.dataset.id),e.setState({userSelected:!0})},style:{cursor:"default",color:this.state.currentOptionId===n?"#2364AA":"inherit"},children:r[this.props.col]},r.id))}}catch(i){s.e(i)}finally{s.f()}}return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"text",value:this.props.value,onBlur:function(){setTimeout((function(){e.setState({userSelected:!0})}),100)},onChange:function(t){e.changeInputValue(t.target.value)},onKeyDown:function(t){e.changeSelectedOption(t)}}),t.length>0?Object(y.jsx)("div",{style:{position:"absolute",backgroundColor:"white",boxShadow:"0 1px 5px #d9d9d9",padding:"10px 15px",zIndex:1e6},children:t}):null]})}},{key:"changeInputValue",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.onChange(t,null),""==t){e.next=10;break}return(a={})[this.props.col]=t+"*",e.next=6,f[this.props.tbl].get(a,{select:["id",this.props.col],limit:10,order:[this.props.col]});case 6:n=e.sent,this.setState({currentOptionId:n.length>0?0:null,options:n,userSelected:!1}),e.next=11;break;case 10:this.setState({currentOptionId:null,options:[],userSelected:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeSelectedOption",value:function(e){38===e.keyCode&&this.state.currentOptionId>0?this.setState({currentOptionId:this.state.currentOptionId-1}):40===e.keyCode&&this.state.currentOptionId<this.state.options.length-1?this.setState({currentOptionId:this.state.currentOptionId+1}):13===e.keyCode&&(this.props.onChange(this.state.options[this.state.currentOptionId][this.props.col],this.state.options[this.state.currentOptionId].id),this.setState({userSelected:!0}))}}]),a}(u.a.Component),_=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{className:"selectWrapper",style:this.props.style,id:this.props.children.props.id,ref:this.element,onClick:function(e){e.stopPropagation()},onMouseUp:function(t){e.props.onSelect(e.props.children,{shift:t.shiftKey,meta:t.metaKey,ctrl:t.ctrlKey})},children:this.props.children})}}]),a}(u.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(i.a)(this,a);var s={};return(n=t.call(this,e)).props.multiSelect&&(s.userSelect="none",s.msUserSelect="none",s.WebkitUserSelect="none"),n.state={currentId:0,ids:[],style:s},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{style:this.state.style,className:this.props.className,onClick:function(){e.select(null,{})},children:u.a.Children.map(this.props.children,(function(t){return Object(y.jsx)(_,{style:{boxShadow:e.state.ids.includes(t.props.id)?"0px 3px 18px var(--shadowBG)":null,transition:"box-shadow 0.3s",margin:"10px 5px"},onSelect:function(t,a){e.select(t,a)},children:t})}))})}},{key:"select",value:function(e,t){var a=this;if(null===e)this.setState({currentId:0,ids:[]}),this.props.selectCallback(null,{currentId:0,ids:[]});else{var n=e.props.id;if(this.props.multiSelect&&t.shift){var s=!1,r=[];u.a.Children.forEach(this.props.children,(function(t){0!=s||t.props.id!==n&&t.props.id!==a.state.currentId?s&&t.props.id!==n&&t.props.id!==a.state.currentId?r.push(t.props.id):s&&(s=!1,r.push(t.props.id)):(s=!0,r.push(t.props.id)),a.setState({currentId:n,ids:r}),a.props.selectCallback(e,{currentId:n,ids:r})}))}else if(this.props.multiSelect&&t.meta){var i=this.state.ids;i.includes(n)?i=i.filter((function(e){return e!=n})):i.push(n),this.setState({currentId:n,ids:i}),this.props.selectCallback(e,{currentId:n,ids:i})}else this.setState({currentId:n,ids:[n]}),this.props.selectCallback(e,{currentId:n,ids:[n]})}}}]),a}(u.a.Component);function A(e){return null==e?{__html:null}:{__html:v.a.sanitize(e.replace(/&lt;/g,"<").replace(/&gt;/g,">"),{ADD_TAGS:["aut","gruen","gelb","rot","blau"]})}}var L=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsx)("div",{children:"Seite"})}}]),a}(u.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={oLst:[]},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=[],a=0,n=Object(m.a)(this.state.oLst);try{for(n.s();!(e=n.n()).done;){var s=e.value,r=[];if(s.editions_id)for(var i=JSON.parse(s.editions_id),c=JSON.parse(s.editions_url),l=JSON.parse(s.editions_label),o=0;o<i.length;o++){var d="/site/viewer/"+i[o];c&&""!=c[o]&&(d=c[o]);var u="FEHLER!";l&&(u=l[o]),r.push(Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:d,target:"_blank",children:u})},o))}if(a++,"opera_maiora"==this.state.listName){var p=Object(y.jsx)("aut",{children:s.abbr});s[1]>0&&(p=Object(y.jsxs)("span",{children:["\xa0\xa0\xa0",s.abbr]})),t.push(Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"c1",dangerouslySetInnerHTML:A(s.date_display)}),Object(y.jsx)("td",{className:"c2",children:p}),Object(y.jsx)("td",{className:"c3",dangerouslySetInnerHTML:A(s.full)}),Object(y.jsxs)("td",{className:"c4",children:[s.bibliography,Object(y.jsx)("ul",{className:"noneLst",children:r})]}),Object(y.jsx)("td",{className:"c5",dangerouslySetInnerHTML:A(s.comment)})]},a))}else"opera_minora"===this.state.listName&&t.push(Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"c1_min",dangerouslySetInnerHTML:A(s.date_display)}),Object(y.jsx)("td",{className:"c2_min",dangerouslySetInnerHTML:A(s.citation)}),Object(y.jsxs)("td",{className:"c5_min",children:[Object(y.jsx)("span",{dangerouslySetInnerHTML:A(s.bibliography)}),Object(y.jsx)("ul",{className:"noneLst",children:r})]})]},a))}}catch(h){n.e(h)}finally{n.f()}return Object(y.jsxs)("div",{style:{gridArea:this.props.gridArea},children:[Object(y.jsx)(O,{maxPage:this.state.oMax}),Object(y.jsx)("div",{className:"operaBox",children:Object(y.jsx)("table",{children:Object(y.jsx)("tbody",{children:t})})})]})}},{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(r.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f[e.props.listName].getAll({count:!0});case 2:return a=t.sent,t.next=5,f[e.props.listName].getAll({limit:30,offset:0});case 5:n=t.sent,e.setState({listName:e.props.listName,oLst:n,oMax:Math.floor(a[0].count/30)+1});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.listName!=e.listName&&function(){var e=Object(r.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f[t.props.listName].getAll({limit:30,offset:0});case 2:a=e.sent,t.setState({oLst:a,listName:t.props.listName});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}}]),a}(u.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={selectionDetail:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{style:{padding:"0 10px",display:"grid",gridTemplateColumns:"auto 420px",gridTemplateRows:"auto",rowGap:"15px"},children:[Object(y.jsx)(T,{listName:this.props.listName,loadPage:function(t){e.loadPage(t)},currentElements:this.state.currentElements,count:this.state.count,currentPage:this.state.currentPage,pageMax:this.state.pageMax,gridArea:this.state.selectionDetail?"2/1/2/2":"2/1/2/3"}),this.state.selectionDetail?Object(y.jsx)(L,{status:this.props.status,selection:this.state.selectionDetail,item:this.state.itemDetail,onUpdate:function(t){e.reloadZettel(t)}}):""]})}}]),a}(u.a.Component),N=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsx)("div",{children:"opera-Listen aktualisieren."})}}]),a}(u.a.Component),I=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={tab:"res",workLst:[],editionLst:[],scanWork:1,scanType:1,scanEditor:null,scanYear:null,scanVolume:null,scanVolumeContent:null,scanSerie:null,scanLibrary:null,scanLocation:null,scanSignature:null,scanFiles:null,ocrRessource:1,ocrFiles:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={boxShadow:"0px 2px 7px rgb(217, 217, 217)",padding:"40px 10% 20px 10%",display:"grid",gridTemplateColumns:"200px auto",gridTemplateRows:"1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr auto",gridGap:"15px"},a=Object(y.jsx)("div",{style:t});switch(this.state.tab){case"res":a=Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:"Werk:"}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)(k,{options:this.state.workLst,onChange:function(t){e.setState({scanWork:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"2/1/2/2"},children:"Ressource:"}),Object(y.jsx)("div",{style:{gridArea:"2/2/2/3"},children:Object(y.jsx)(k,{options:[[0,"Edition (relevant)"],[1,"Edition (veraltet)"],[2,"Handschrift"],[3,"Alter Druck (relevant)"],[4,"Alter Druck (veraltet)"],[5,"Sonstiges"]],onChange:function(t){e.setState({scanType:parseInt(t.target.value)})}})}),0===this.state.scanType||1===this.state.scanType||5===this.state.scanType?[Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Editor:"},"0"),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanEditor:t.target.value})}})},"1"),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Jahr:"},"2"),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanYear:t.target.value})}})},"3"),Object(y.jsx)("div",{style:{gridArea:"5/1/5/2"},children:"Band:"},"4"),Object(y.jsx)("div",{style:{gridArea:"5/2/5/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanVolume:t.target.value})}})},"5"),Object(y.jsx)("div",{style:{gridArea:"6/1/6/2"},children:"Bandinhalt:"},"6"),Object(y.jsx)("div",{style:{gridArea:"6/2/6/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanVolumeContent:t.target.value})}})},"7"),Object(y.jsx)("div",{style:{gridArea:"7/1/7/2"},children:"Reihe:"},"8"),Object(y.jsx)("div",{style:{gridArea:"7/2/7/3"},children:Object(y.jsx)(k,{options:[[0,""],[1,"Migne PL"],[2,"ASBen."],[3,"ASBoll."],[4,"AnalBoll."],[5,"Mon. Boica"],[6,"Ma. Schatzverzeichnisse"],[7,"Ma. Bibliothekskataloge"]],onChange:function(t){e.setState({scanSerie:parseInt(t.target.value)})}})},"9")]:null,2===this.state.scanType?[Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Stadt:"},"0"),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanLocation:t.target.value})}})},"1"),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Bibliothek:"},"2"),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanLibrary:t.target.value})}})},"3"),Object(y.jsx)("div",{style:{gridArea:"5/1/5/2"},children:"Signatur:"},"4"),Object(y.jsx)("div",{style:{gridArea:"5/2/5/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanSignature:t.target.value})}})},"5")]:null,3===this.state.scanType||4===this.state.scanType?[Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Drucker:"},"0"),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanEditor:t.target.value})}})},"1"),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Ort:"},"2"),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanLocation:t.target.value})}})},"3"),Object(y.jsx)("div",{style:{gridArea:"5/1/5/2"},children:"Jahr:"},"4"),Object(y.jsx)("div",{style:{gridArea:"5/2/5/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanYear:t.target.value})}})},"5")]:null,Object(y.jsx)("div",{style:{gridArea:"9/1/9/2"},children:"Dateipfad:"}),Object(y.jsx)("div",{style:{gridArea:"9/2/9/3"},children:Object(y.jsx)("input",{type:"text",style:{width:"96%"},onChange:function(t){e.setState({scanPath:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"10/1/10/2"},children:".png-Dateien:"}),Object(y.jsx)("div",{style:{gridArea:"10/2/10/3"},children:Object(y.jsx)("input",{type:"file",name:"files",accept:"image/png",multiple:!0,onChange:function(t){e.setState({scanFiles:t.target.files})}})}),Object(y.jsx)("div",{style:{gridArea:"12/2/12/3"},children:Object(y.jsx)("input",{type:"button",value:"hochladen",onClick:Object(r.a)(s.a.mark((function t(){var a,n,r,i,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.state.scanFiles){t.next=4;break}e.props.status("error","Geben Sie Dateien zum Hochladen an."),t.next=30;break;case 4:if(0!==e.state.scanType&&1!==e.state.scanType&&5!==e.state.scanType||e.state.scanEditor&&e.state.scanYear){t.next=8;break}e.props.status("error","Geben Sie den Editor und das Jahr ein."),t.next=30;break;case 8:if(!e.state.scanPath||!e.state.scanWork){t.next=29;break}return e.props.status("saving","Die Dateien werden hochgeladen."),t.next=12,f.edition.save({work_id:e.state.scanWork,ressource:e.state.scanType,editor:e.state.scanEditor,year:e.state.scanYear,volume:e.state.scanVolume,vol_cont:e.state.scanVolumeContent,serie:e.state.scanSerie,location:e.state.scanLocation,library:e.state.scanLibrary,signature:e.state.scanSignature});case 12:if(a=t.sent,console.log("new edition id:",a),!(a>0)){t.next=26;break}for((n=new FormData).append("edition_id",a),n.append("path",e.state.scanPath),r=e.state.scanFiles.length,i=0;i<r;i++)n.append("files",e.state.scanFiles[i]);return t.next=22,f.importScans(n);case 22:400===(c=t.sent).status?e.props.status("error","Fehler beim Hochladen der Dateien."):1==c.body.length?(e.props.status("saved","Das Hochladen war erfolgreich. Eine Datei wurde \xfcbersprungen (s. Konsole)."),console.log("Bereits auf dem Server und deshalb \xfcbersprungen: ".concat(c.body.join(", ")))):c.body.length>0?(e.props.status("saved","Das Hochladen war erfolgreich. ".concat(c.body.length," Dateien wurden \xfcbersprungen (s. Konsole).")),console.log("Bereits auf dem Server und deshalb \xfcbersprungen: ".concat(c.body.join(", ")))):e.props.status("saved","Das Hochladen war erfolgreich."),t.next=27;break;case 26:e.props.status("error","Edition konnte nicht erstellt werden.");case 27:t.next=30;break;case 29:e.props.status("error","Geben Sie einen g\xfcltigen Pfad ein!");case 30:case"end":return t.stop()}}),t)})))})})]});break;case"ocr":t.gridTemplateRows="1fr 1fr 1fr 1fr auto",a=Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{children:"Ressource:"}),Object(y.jsx)("div",{children:Object(y.jsx)(k,{options:this.state.editionLst,onChange:function(){var t=Object(r.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({ocrRessource:a.target.value});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}),Object(y.jsx)("div",{children:".txt-Dateien:"}),Object(y.jsx)("div",{children:Object(y.jsx)("input",{type:"file",accept:"text/plain",multiple:!0,onChange:function(t){e.setState({ocrFiles:t.target.files})}})}),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)("input",{type:"button",value:"hochladen",onClick:Object(r.a)(s.a.mark((function t(){var a,n,r,i,c,l,o,d,u,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.state.ocrFiles){t.next=4;break}e.props.status("error","Geben Sie Dateien zum Hochladen an."),t.next=46;break;case 4:return e.props.status("saving","Die Dateien werden hochgeladen."),t.next=7,f.scan_lnk.get({edition_id:e.state.ocrRessource});case 7:a=t.sent,n=[],r=Object(m.a)(a),t.prev=10,r.s();case 12:if((i=r.n()).done){t.next=20;break}return c=i.value,t.next=16,f.scan.get({id:c.scan_id});case 16:l=t.sent,n.push(l[0]);case 18:t.next=12;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(10),r.e(t.t0);case 25:return t.prev=25,r.f(),t.finish(25);case 28:o=[],d=Object(m.a)(e.state.ocrFiles),t.prev=30,p=s.a.mark((function e(){var t,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,a=t.name.substring(0,t.name.length-4),!(r=n.find((function(e){return e.filename==a})))){e.next=12;break}return console.log(r),e.next=7,t.text();case 7:return i=e.sent,e.next=10,f.scan.save({id:r.id,full_text:i});case 10:e.next=13;break;case 12:o.push(t.name);case 13:case"end":return e.stop()}}),e)})),d.s();case 33:if((u=d.n()).done){t.next=37;break}return t.delegateYield(p(),"t1",35);case 35:t.next=33;break;case 37:t.next=42;break;case 39:t.prev=39,t.t2=t.catch(30),d.e(t.t2);case 42:return t.prev=42,d.f(),t.finish(42);case 45:o.length>1?(e.props.status("saved","Dateien wurden hochgeladen. ".concat(o.length," Dateien konnten nicht zugewiesen werden (s. Konsole).")),console.log("\xfcbersprungene Dateien: ".concat(o.join(", ")))):1==o.length?(e.props.status("saved","Dateien wurden hochgeladen. 1 Datei konnte nicht zugewiesen werden (s. Konsole)."),console.log("\xfcbersprungene Dateien: ".concat(o.join(", ")))):e.props.status("saved","Dateien wurden hochgeladen.");case 46:case"end":return t.stop()}}),t,null,[[10,22,25,28],[30,39,42,45]])})))})})]})}var n={padding:"5px 10px",cursor:"default"},i={padding:"5px 10px",borderBottom:"1px solid red",cursor:"default"};return Object(y.jsxs)("div",{style:{padding:"20px 20% 0 20%"},children:[Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",border:"1px solid white",padding:"10px 20px"},children:[Object(y.jsx)("div",{style:"res"===this.state.tab?i:n,onClick:function(){e.setState({tab:"res"})},children:"Ressource"}),Object(y.jsx)("div",{style:"ocr"===this.state.tab?i:n,onClick:function(){e.setState({tab:"ocr"})},children:"ocr-Dateien"}),Object(y.jsx)("div",{style:"zettel"===this.state.tab?i:n,onClick:function(){e.setState({tab:"zettel"})},children:"Zettel"})]}),a]})}},{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(r.a)(s.a.mark((function t(){var a,n,r,i,c,l,o,d,u,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.work.getAll({select:["id","ac_web"]});case 2:a=t.sent,n=[],r=Object(m.a)(a);try{for(r.s();!(i=r.n()).done;)c=i.value,n.push([c.id,c.ac_web])}catch(s){r.e(s)}finally{r.f()}return e.setState({workLst:n}),t.next=9,f.edition.getAll({select:["id","label"]});case 9:l=t.sent,o=[],d=Object(m.a)(l);try{for(d.s();!(u=d.n()).done;)p=u.value,o.push([p.id,p.label])}catch(s){d.e(s)}finally{d.f()}e.setState({editionLst:o});case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}]),a}(u.a.Component),F=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{style:{padding:"20px 40px"},children:[Object(y.jsxs)("p",{children:[Object(y.jsx)("a",{href:"https://gitlab.lrz.de/haeberlin/dmlw/-/wikis/00-Start",children:"Hilfe und Informationen"})," zu dMLW finden Sie auf unsererer ",Object(y.jsx)("a",{href:"https://gitlab.lrz.de/haeberlin/dmlw",children:"GitLab-Seite"}),"."]}),Object(y.jsxs)("p",{children:["Informationen zu der aktuellen Version von dMLW und den Ver\xe4nderungen finden Sie ",Object(y.jsx)("a",{href:"https://gitlab.lrz.de/haeberlin/dmlw/-/blob/master/CHANGELOG.md",children:"in unserem Changelog"}),"."]}),Object(y.jsxs)("p",{children:["Informationen zum W\xf6rterbuch-Projekt auf ",Object(y.jsx)("a",{href:"www.mlw.badw.de",children:"www.mlw.badw.de"})]})]})}}]),a}(u.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).item=e.item,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"searchFields",style:{boxShadow:"rgb(217, 217, 217) 0px 0px 2px",marginRight:"10px",marginBottom:"10px",padding:"10px 15px 10px 15px",backgroundColor:"white"},children:[Object(y.jsxs)("select",{style:{width:"100px",marginRight:"0px",border:"none",color:"#284b63"},children:[Object(y.jsx)("option",{value:"lemma",children:"Lemma"}),Object(y.jsx)("option",{value:"type",children:"Typ"}),Object(y.jsx)("option",{value:"id",children:"ID"}),Object(y.jsx)("option",{value:"opus",children:"Werk"})]}),Object(y.jsxs)("select",{style:{width:"40px",marginRight:"0px",border:"none",color:"#284b63"},children:[Object(y.jsx)("option",{value:"=",children:"="}),Object(y.jsx)("option",{value:"!=",children:"\u2260"}),Object(y.jsx)("option",{value:">",children:">"}),Object(y.jsx)("option",{value:">=",children:"\u2265"}),Object(y.jsx)("option",{value:"<",children:"<"}),Object(y.jsx)("option",{value:"<=",children:"\u2264"})]}),Object(y.jsx)("input",{type:"text",placeholder:"...",style:{width:"100px",marginRight:"22px",border:"none"}}),Object(y.jsx)(j.a,{color:"LightGray",icon:b.g,onClick:function(){e.props.removeSearchFields(e.props.item.id)}})]})}}]),a}(u.a.Component),E=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).queryTxt="",n.state={nextID:1,searchFields:[{id:0,c:"lemma",o:"=",v:""}]},n.sOrder=null,n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this,a=[],n=Object(m.a)(this.state.searchFields);try{for(n.s();!(e=n.n()).done;){var s=e.value;a.push(Object(y.jsx)(z,{removeSearchFields:function(e){t.removeSearchFields(e)},item:s},s.id))}}catch(r){n.e(r)}finally{n.f()}return Object(y.jsxs)("div",{style:{gridArea:this.props.gridArea},children:[Object(y.jsxs)("div",{style:{boxShadow:"0 0 2px #d9d9d9",backgroundColor:"rgb(253, 253, 253)",margin:"0 -20px 0 -20px",padding:"12px 24px",display:"flex",flexWrap:"wrap",alignItems:"center"},children:[a,Object(y.jsx)(j.a,{color:"LightGray",icon:b.h,style:{color:"var(--mainColor)",backgroundColor:"var(--mainBG)",position:"relative",top:"-5px",fontSize:"25px"},onClick:function(){t.addSearchFields()}})]}),Object(y.jsxs)("div",{style:{float:"right",marginTop:"10px",marginRight:"20px"},children:[Object(y.jsx)("input",{type:"button",value:"suchen",onClick:function(){t.sendQuery()}}),Object(y.jsx)("span",{style:{marginLeft:"50px",marginRight:"10px"},className:"minorTxt",children:"sortieren:"}),Object(y.jsx)(k,{style:{display:"inline-block",width:"100px"},options:[['["id"]',"ID"],['["lemma", "lemma_nr", "date_sort", "date_type"]',"Datum"]],onChange:function(e){t.sOrder=JSON.parse(e.target.value)}})]})]})}},{key:"removeSearchFields",value:function(e){var t=this.state.searchFields.filter((function(t){return t.id!==e}));this.setState({searchFields:t})}},{key:"addSearchFields",value:function(){var e=this.state.searchFields;e.push({id:this.state.nextID,c:"lemma",o:"=",v:""}),this.setState({nextID:this.state.nextID+1,searchFields:e})}},{key:"sendQuery",value:function(){var e,t=[],a=document.querySelectorAll(".searchFields"),n=Object(m.a)(a);try{for(n.s();!(e=n.n()).done;){var s=e.value;""!==s.children[2].value&&t.push({c:s.children[0].value,o:s.children[1].value,v:s.children[2].value})}}catch(r){n.e(r)}finally{n.f()}t.length>0?this.props.searchQuery(t,this.sOrder):alert("Geben Sie einen Suchtext ein!")}}]),a}(u.a.Component),P=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={count:0,selectionDetail:{ids:[],currentId:null}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{style:{padding:"0 10px",display:"grid",gridTemplateColumns:"auto 420px",gridTemplateRows:"min-content auto",rowGap:"15px"},children:[Object(y.jsx)(E,{searchQuery:function(t,a){e.searchQuery(t,a)},gridArea:this.state.selectionDetail.ids.length>0?"1/1/1/2":"1/1/1/3"}),Object(y.jsx)(H,{loadPage:function(t){e.loadPage(t)},currentElements:this.state.currentElements,count:this.state.count,currentPage:this.state.currentPage,maxPage:this.state.maxPage,gridArea:this.state.selectionDetail.ids.length>0?"2/1/2/2":"2/1/2/3",showDetail:function(t){e.setState({selectionDetail:t.selection,itemDetail:t.item})}}),this.state.selectionDetail.ids.length>0?Object(y.jsx)(R,{status:this.props.status,selection:this.state.selectionDetail,item:this.state.itemDetail,onUpdate:function(t){e.reloadZettel(t)}}):""]})}},{key:"reloadZettel",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(m.a)(t),e.prev=1,r=s.a.mark((function e(){var a,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.value,e.next=3,f.zettel.get({id:a});case 3:r=(r=e.sent)[0],c=i.state.currentElements,l=c.findIndex((function(e){return e.id===r.id})),c[l]=r,i.setState({currentElements:c,selectionDetail:{ids:t},itemDetail:r});case 9:case"end":return e.stop()}}),e)})),a.s();case 4:if((n=a.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),a.e(e.t1);case 13:return e.prev=13,a.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"searchQuery",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.status("searching"),e.next=3,f.zettel.search(t,{count:!0,order:a});case 3:return n=e.sent,e.next=6,f.zettel.search(t,{limit:50,order:a});case 6:r=e.sent,console.log(n),n[0].count>1?this.props.status("found","".concat(n[0].count," Eintr\xe4ge gefunden.")):1===n[0].count?this.props.status("found","1 Eintrag gefunden."):this.props.status("notFound"),this.setState({query:t,queryOrder:a,count:n[0].count,maxPage:Math.floor(n[0].count/50)+1,currentPage:1,currentElements:r,selectionDetail:{ids:[]}});case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.currentPage+t>0&&this.state.currentPage+t<=this.state.maxPage)){e.next=5;break}return e.next=3,f.zettel.search(this.state.query,{limit:50,offset:50*(this.state.currentPage+t-1),order:this.state.queryOrder});case 3:a=e.sent,this.setState({currentPage:this.state.currentPage+t,currentElements:a,selectionDetail:{ids:[]}});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(u.a.Component),H=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={selection:{currentId:null,ids:[]}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(this.props.count>0){var t,a=[],n=Object(m.a)(this.props.currentElements);try{for(n.s();!(t=n.n()).done;){var s=t.value;a.push(Object(y.jsx)(M,{testProp:s.id+"_test",id:s.id,item:s},s.id))}}catch(r){n.e(r)}finally{n.f()}return Object(y.jsxs)("div",{style:{gridArea:this.props.gridArea,padding:"0 10px"},children:[Object(y.jsx)(O,{loadPage:function(t){e.props.loadPage(t)},currentPage:this.props.currentPage,maxPage:this.props.maxPage}),Object(y.jsx)(C,{multiSelect:!0,className:"zettel_box",selectCallback:function(t,a){e.selectCallback(t,a)},children:a})]})}return null}},{key:"selectCallback",value:function(e,t){e?this.props.showDetail({selection:t,item:e.props.item}):this.props.showDetail({selection:t,item:null})}}]),a}(u.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.item,t={width:"500px"};if(null!=e.img_path){var a="";return 0===e.in_use?a+="zettel_img no_use":a+="zettel_img in_use",Object(y.jsxs)("div",{className:"zettel",id:e.id,style:t,children:[Object(y.jsx)("img",{className:a,src:e.img_path+".jpg"}),Object(y.jsx)("div",{className:"zettel_msg"}),Object(y.jsxs)("div",{className:"zettel_menu",children:[Object(y.jsx)("span",{style:{float:"left"},dangerouslySetInnerHTML:A(e.lemma_display)}),Object(y.jsx)("span",{style:{float:"right"},dangerouslySetInnerHTML:A(e.opus)})]})]})}return Object(y.jsx)("div",{className:"zettel",id:e.id,style:t,children:Object(y.jsxs)("div",{className:"digitalZettel",children:[Object(y.jsx)("div",{className:"digitalZettelLemma",dangerouslySetInnerHTML:A(e.lemma_display)}),Object(y.jsx)("div",{className:"digitalZettelDate",dangerouslySetInnerHTML:A(e.date_display)}),Object(y.jsx)("div",{className:"digitalZettelWork",dangerouslySetInnerHTML:A(e.opus)}),Object(y.jsx)("div",{className:"digitalZettelText",dangerouslySetInnerHTML:A(e.txt)})]})})}}]),a}(u.a.Component),R=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={addLemma:!1,ressources:[],batchType:1,id:n.props.item.id,type:n.props.item.type,date_type:n.props.item.date_type,lemma_id:n.props.item.lemma_id,lemma_ac:n.props.item.lemma_ac,work_id:n.props.item.work_id,ac_web:n.props.item.ac_web,date_own:n.props.item.date_own,date_own_display:n.props.item.date_own_display,newLemma_Lemma:"",newLemma_LemmaDisplay:"",batch_lemma_id:null,batch_lemma_ac:"",batch_work_id:null,batch_ac_web:"",batch_type:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={position:"fixed",top:0,bottom:0,right:0,width:"400px",padding:"10px 15px",backgroundColor:"white",boxShadow:"rgb(60, 110, 113) 0px 0px 2px"};if(this.state.addLemma)return Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{style:{margin:"50px 0 10px 0"},children:Object(y.jsxs)("p",{children:[Object(y.jsx)("b",{children:"Soll ein neues Lemma erstellt werden?"}),Object(y.jsx)("br",{}),Object(y.jsxs)("span",{className:"minorTxt",children:[Object(y.jsx)("a",{href:"https://gitlab.lrz.de/haeberlin/dmlw/-/wikis/10-WikiHow:-Neues-Lemma-erstellen#3-maske-ausf\xfcllen",target:"_blank",children:"Hier"})," finden Sie Informationen zum Erstellen neuer Lemmata."]})]})}),Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr 1fr",rowGap:"10px",margin:"50px 0"},children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:"Lemma:"}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)("input",{type:"text",value:this.state.newLemma_Lemma,onChange:function(t){e.setState({newLemma_Lemma:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"2/1/2/2"},children:"Lemma-Anzeige:"}),Object(y.jsx)("div",{style:{gridArea:"2/2/2/3"},children:Object(y.jsx)("input",{type:"text",value:this.state.newLemma_LemmaDisplay,onChange:function(t){e.setState({newLemma_LemmaDisplay:t.target.value})}})})]}),Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr 1fr 1fr 1fr",rowGap:"10px",margin:"50px 0"},children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:"Zahlzeichen:"}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)(k,{options:[[0,""],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]],onChange:function(t){e.setState({newLemma_Homonym:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"2/1/2/2"},children:"im W\xf6rterbuch:"}),Object(y.jsx)("div",{style:{gridArea:"2/2/2/3"},children:Object(y.jsx)(k,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(t){e.setState({newLemma_MLW:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Stern:"}),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)(k,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(t){e.setState({newLemma_Stern:t.target.value})}})}),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Fragezeichen:"}),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)(k,{options:[[0,"Nein"],[1,"Ja"]],onChange:function(t){e.setState({newLemma_LemmaFrage:t.target.value})}})})]}),Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr",rowGap:"10px",margin:"50px 0"},children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:Object(y.jsx)("input",{type:"button",value:"erstellen",onClick:Object(r.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""===e.state.newLemma_Lemma||e.state.newLemma_Lemma.indexOf(" ")>-1)){t.next=4;break}e.props.status("error","Bitte ein g\xfcltiges Lemma eintragen!"),t.next=15;break;case 4:if(""!==e.state.newLemma_LemmaDisplay){t.next=8;break}e.props.status("error","Bitte tragen Sie eine g\xfcltige Lemma-Anzeige ein!"),t.next=15;break;case 8:return a={lemma:e.state.newLemma_Lemma,lemma_display:e.state.newLemma_LemmaDisplay,MLW:e.state.newLemma_MLW,Fragezeichen:e.state.newLemma_LemmaFrage,Stern:e.state.newLemma_Stern},e.state.newLemma_Homonym>0&&(a.lemma_nr=e.state.newLemma_Homonym),t.next=12,f.lemma.save(a);case 12:n=t.sent,e.props.status("saved","Neue ID: ".concat(n)),e.setState({lemma_ac:e.state.newLemma_Lemma,lemma_id:n,addLemma:!1});case 15:case"end":return t.stop()}}),t)})))})}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)("input",{type:"button",value:"abbrechen",onClick:function(){e.setState({addLemma:!1})}})})]})]});if(1===this.props.selection.ids.length){var a=[];if(this.state.ressources.length>0){var n,i=-1,c=Object(m.a)(this.state.ressources);try{for(c.s();!(n=c.n()).done;){var l=n.value;i++;var o=l.url;null!==o&&""!==o||(o="/site/viewer/".concat(l.id)),a.push(Object(y.jsx)("div",{children:Object(y.jsx)("a",{href:o,target:"_blank",children:l.label})},i))}}catch(h){c.e(h)}finally{c.f()}}var d="",u={borderTop:"1px solid #f2f2f2",paddingTop:"30px",display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr",rowGap:"10px",margin:"10px 0 30px 0"};return 9===this.state.date_type&&(u.gridTemplateRows="1fr 1fr 1fr 1fr",d=[Object(y.jsx)("div",{style:{gridArea:"2/1/2/3"},children:Object(y.jsxs)("span",{className:"minorTxt",children:[Object(y.jsx)("b",{children:"Achtung:"})," Dieser Zettel ben\xf6tigt eine ",Object(y.jsx)("a",{href:"https://gitlab.lrz.de/haeberlin/dmlw/-/wikis/10-WikiHow:-Zettel-verkn\xfcpfen#datierung-der-zettel",target:"_blank",children:"eigene Datierung"}),"."]})},"1"),Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Sortierdatum:"},"2"),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)("input",{type:"text",value:this.state.date_own?this.state.date_own:"",onChange:function(t){isNaN(t.target.value)||""===t.target.value||" "===t.target.value?e.props.status("error","Sortierdatum muss eine Ganzzahl sein!"):e.setState({date_own:parseInt(t.target.value)})}})},"3"),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Anzeigedatum:"},"4"),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)("input",{type:"text",value:this.state.date_own_display?this.state.date_own_display:"",onChange:function(t){e.setState({date_own_display:t.target.value})}})},"5")]),Object(y.jsxs)("div",{style:t,children:[Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr 5px 1fr 1fr 1fr",rowGap:"10px",margin:"35px 0 30px 0"},children:[Object(y.jsx)("div",{className:"minorTxt",style:{gridArea:"1/1/1/3",textAlign:"right"},children:Object(y.jsxs)("i",{children:["ID ",this.state.id]})}),Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:"Zetteltyp:"}),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:Object(y.jsx)(k,{style:{width:"86%"},value:this.state.type?this.state.type:0,options:[[0,"..."],[1,"verzettelt"],[2,"Exzerpt"],[3,"Index"],[4,"Literatur"],[6,"Index (unkl. Werk)"],[7,"Notiz"]],onChange:function(t){e.setState({type:parseInt(t.target.value)})}})}),Object(y.jsx)("div",{style:{gridArea:"4/1/4/2"},children:"Lemma:"}),Object(y.jsx)("div",{style:{gridArea:"4/2/4/3"},children:Object(y.jsx)(S,{onChange:function(t,a){e.setState({lemma_ac:t,lemma_id:a,newLemma_Lemma:t,newLemma_LemmaDisplay:t})},value:this.state.lemma_ac?this.state.lemma_ac:"",tbl:"lemma",col:"lemma_ac"})}),4!==this.state.type&&this.state.type<6?Object(y.jsx)("div",{style:{gridArea:"5/1/5/2"},children:"Werk:"}):null,4!==this.state.type&&this.state.type<6?Object(y.jsx)("div",{style:{gridArea:"5/2/5/3"},children:Object(y.jsx)(S,{value:this.state.ac_web?this.state.ac_web:"",tbl:"work",col:"ac_web",onChange:function(t,a){e.setState({ac_web:t,work_id:a})}})}):null]}),4!==this.state.type&&this.state.type<6&&this.state.work_id>0?Object(y.jsxs)("div",{style:u,children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:"Datierung:"}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)("span",{dangerouslySetInnerHTML:A(this.state.date_display)})}),d]}):null,this.state.ressources.length>0&&4!==this.state.type&&this.state.type<6?Object(y.jsxs)("div",{style:{borderTop:"1px solid #f2f2f2",paddingTop:"30px",display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr",rowGap:"10px",margin:"10px 0 30px 0"},children:[Object(y.jsx)("div",{style:{gridArea:"1/1/1/2"},children:"Ressourcen:"}),Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:a})]}):null,Object(y.jsx)("div",{style:{borderTop:"1px solid #f2f2f2",paddingTop:"30px",display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr",rowGap:"10px",margin:"10px 0 30px 0"},children:Object(y.jsx)("div",{style:{gridArea:"1/2/1/3"},children:Object(y.jsx)("input",{type:"button",value:"speichern",onClick:Object(r.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(9!==e.state.date_type||Number.isInteger(e.state.date_own)){t.next=4;break}e.props.status("error","Sortierdatum muss eine Ganzzahl sein!"),t.next=12;break;case 4:return a={id:e.state.id,type:e.state.type,work_id:e.state.work_id,user_id:f.user.id},e.props.status("saving"),null==e.state.lemma_id&&""!=e.state.newLemma_Lemma?e.setState({addLemma:!0}):a.lemma_id=e.state.lemma_id,9===e.state.date_type&&Number.isInteger(e.state.date_own)&&(a.date_own=e.state.date_own,a.date_own_display=e.state.date_own_display),t.next=10,f.zettel.save(a);case 10:e.props.status("saved"),e.props.onUpdate([e.state.id]);case 12:case"end":return t.stop()}}),t)})))})})})]})}var p="";switch(this.state.batchType){case 1:p=Object(y.jsx)(S,{onChange:function(t,a){e.setState({batch_lemma_ac:t,batch_lemma_id:a})},value:this.state.batch_lemma_ac,tbl:"lemma",col:"lemma_ac"});break;case 2:p=Object(y.jsx)(S,{value:this.state.batch_ac_web,tbl:"work",col:"ac_web",onChange:function(t,a){e.setState({batch_ac_web:t,batch_work_id:a})}});break;case 3:p=Object(y.jsx)(k,{style:{width:"86%"},options:[[0,"..."],[1,"verzettelt"],[2,"Exzerpt"],[3,"Index"],[4,"Literatur"],[6,"Index (unkl. Stelle)"],[7,"Notiz"]],onChange:function(t){e.setState({batch_type:t.target.value})}})}return Object(y.jsx)("div",{style:t,children:Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px auto",gridTemplateRows:"1fr 25px 1fr 15px 1fr",rowGap:"10px",margin:"35px 0 30px 0"},children:[Object(y.jsx)("span",{style:{gridArea:"1/1/1/3",textAlign:"right"},className:"minorTxt",children:Object(y.jsxs)("i",{children:[this.props.selection.ids.length," Zettel"]})}),Object(y.jsx)("div",{style:{gridArea:"3/1/3/2"},children:Object(y.jsx)(k,{style:{width:"86%"},options:[[1,"Lemma"],[2,"Zitiertitel"],[3,"Zettel-Typ"]],onChange:function(t){e.setState({batchType:parseInt(t.target.value)})}})}),Object(y.jsx)("div",{style:{gridArea:"3/2/3/3"},children:p}),Object(y.jsx)("div",{style:{gridArea:"5/2/5/3"},children:Object(y.jsx)("input",{type:"button",value:"f\xfcr alle \xfcbernehmen",onClick:Object(r.a)(s.a.mark((function t(){var a,n,r,i,c,l,o,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,n="",r="",1===e.state.batchType&&null!=e.state.batch_lemma_id?(r="lemma_id",n=e.state.batch_lemma_id):2===e.state.batchType&&null!=e.state.batch_work_id?(r="work_id",n=e.state.batch_work_id):3===e.state.batchType&&null!=e.state.batch_type?(r="type",n=e.state.batch_type):(a=!0,e.props.status("error","Bitte tragen Sie einen g\xfcltigen Wert ein.")),!1!==a){t.next=13;break}i=[],c=Object(m.a)(e.props.selection.ids);try{for(c.s();!(l=c.n()).done;)o=l.value,(d={id:o,user_id:f.user.id})[r]=n,i.push(d)}catch(h){c.e(h)}finally{c.f()}return e.props.status("saving"),t.next=11,f.zettel.save(i);case 11:e.props.status("saved"),e.props.onUpdate(e.props.selection.ids);case 13:case"end":return t.stop()}}),t)})))})})]})})}},{key:"componentDidMount",value:function(){var e=this;this.state.work_id>0&&f.edition.get({work_id:this.state.work_id}).then((function(t){e.setState({ressources:t})})).catch((function(e){throw e}))}},{key:"componentDidUpdate",value:function(){var e=this;this.state.id!==this.props.item.id&&(this.props.item.work_id>0?f.edition.get({work_id:this.props.item.work_id}).then((function(t){e.setState({addLemma:!1,id:e.props.item.id,type:e.props.item.type,date_type:e.props.item.date_type,lemma_id:e.props.item.lemma_id,lemma_ac:e.props.item.lemma_ac,work_id:e.props.item.work_id,ac_web:e.props.item.ac_web,date_own:e.props.item.date_own,date_own_display:e.props.item.date_own_display,ressources:t})})).catch((function(e){throw e})):this.setState({addLemma:!1,id:this.props.item.id,type:this.props.item.type,date_type:this.props.item.date_type,lemma_id:this.props.item.lemma_id,lemma_ac:this.props.item.lemma_ac,work_id:this.props.item.work_id,ac_web:this.props.item.ac_web,date_own:this.props.item.date_own,date_own_display:this.props.item.date_own_display,ressources:[]}))}}]),a}(u.a.Component),B="#3c6e71",G=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(i.a)(this,a);return(n=t.call(this,e)).state={menuEntries:{"Zettel- und Wortmaterial":{visible:!1,items:{"Zettel-Datenbank":"zettel"}},Einstellungen:{visible:!1,items:{Hilfe:"help",Server:"server",Import:"import",abmelden:"logout"}}},currentSubmenu:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t={position:"fixed",top:0,left:0,boxShadow:"0 0 2px ".concat(B),padding:"10px 15px",zIndex:1e6,backgroundColor:"white"},a=[];if(1===this.props.onTop){t.right=0,t.display="flex",t.position="absolute",t.justifyContent="space-evenly";var n=-1,s=function(t){n++;var s="";if(e.state.currentSubmenu===t){var r=[],i=function(a){r.push(Object(y.jsx)("div",{style:{margin:"10px 0 10px 10px"},onClick:function(){e.setState({currentSubmenu:""}),e.props.loadMain(e.state.menuEntries[t].items[a])},children:Object(y.jsx)("span",{style:{cursor:"pointer"},children:a})},a))};for(var c in e.state.menuEntries[t].items)i(c);s=Object(y.jsx)("div",{style:{position:"absolute",boxShadow:"rgb(60, 110, 113) 0px 0px 2px",backgroundColor:"white",top:"43px",padding:"10px 25px",marginLeft:"-10px"},children:r},r)}a.push(Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{style:{cursor:"pointer"},onClick:function(){e.setState({currentSubmenu:t})},children:t}),s]},n))};for(var r in this.state.menuEntries)s(r)}else{t.transition="left 0.5s",this.state.hidden&&(t.left="-290px"),t.bottom="0",t.width="300px";var i=-1,c=function(t){a.push(Object(y.jsx)("div",{style:{marginTop:"15px",cursor:"default"},children:t},t));var n=function(n){i++,a.push(Object(y.jsx)("div",{style:{marginLeft:"15px",display:"inline-block",cursor:"pointer"},onClick:function(){e.props.loadMain(e.state.menuEntries[t].items[n])},children:n},n)),a.push(Object(y.jsx)("br",{},i))};for(var s in e.state.menuEntries[t].items)n(s)};for(var l in this.state.menuEntries)c(l)}return Object(y.jsx)("nav",{className:"mainMenu",style:t,onClick:function(){1!==e.props.onTop&&(e.state.hidden?e.setState({hidden:!1}):e.setState({hidden:!0}))},children:a})}}]),a}(u.a.Component),W=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(i.a)(this,a);n=t.call(this,e);var s=1;return window.innerWidth<1e3&&(s=0),n.state={mode:"login",res:null,mainMenuPos:s,status:{}},window.addEventListener("resize",(function(){window.innerWidth<1e3?n.setState({mainMenuPos:0}):n.setState({mainMenuPos:1})})),window.addEventListener("arachneError",(function(e){401===e.detail.status?n.newStatus("error","Der Server hat die Zugangsdaten abgelehnt. Melden Sie sich neu an!"):n.newStatus("error","Die Verbindung zum Server ist unterbrochen.")})),n}return Object(c.a)(a,[{key:"loadMain",value:function(e){"logout"===e?(f.close(),this.setState({mode:"login",res:null})):this.setState({res:e})}},{key:"render",value:function(){var e=this;if("main"===this.state.mode){var t=null;switch(this.state.res){case null:break;case"server":t=Object(y.jsx)(N,{});break;case"maiora":t=Object(y.jsx)(D,{listName:"opera_maiora"});break;case"minora":t=Object(y.jsx)(D,{listName:"opera_minora"});break;case"help":t=Object(y.jsx)(F,{});break;case"import":t=Object(y.jsx)(I,{status:function(t,a){e.newStatus(t,a)}});break;case"zettel":t=Object(y.jsx)(P,{status:function(t,a){e.newStatus(t,a)}});break;default:throw new Error("ARGOS: unknown res in 'loadMain': ".concat(this.state.res))}return Object(y.jsxs)("div",{style:1===this.state.mainMenuPos?{marginTop:"60px"}:{marginLeft:"40px"},children:[Object(y.jsx)(G,{onTop:this.state.mainMenuPos,loadMain:function(t){e.loadMain(t)}}),t,Object(y.jsx)(w,{status:this.state.status})]})}return"create"===this.state.mode?Object(y.jsxs)("div",{style:{position:"absolute",display:"grid",height:"100%",width:"100%",gridTemplateColumns:"1fr 2fr 1fr",gridTemplateRows:"1fr 2fr 1fr"},children:[Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"auto 100px 50px 50px 50px 50px 50px auto",gridColumn:"2",gridRow:"2",padding:"10px 15px",borderRadius:"5px",boxShadow:"0 1.2px 6px ".concat(B)},children:[Object(y.jsx)("h1",{style:{textAlign:"center",gridArea:"2/2/2/4"},children:"Konto erstellen"}),Object(y.jsx)("span",{style:{gridArea:"3/2/3/3"},children:"Vorname:"}),Object(y.jsx)("div",{style:{gridArea:"3/3/3/4"},children:Object(y.jsx)("input",{type:"text",value:this.state.createFirstName?this.state.createFirstName:"",onChange:function(t){e.setState({createFirstName:t.target.value})}})}),Object(y.jsx)("span",{style:{gridArea:"4/2/4/3"},children:"Nachname:"}),Object(y.jsx)("div",{style:{gridArea:"4/3/4/4"},children:Object(y.jsx)("input",{type:"text",value:this.state.createLastName?this.state.createLastName:"",onChange:function(t){e.setState({createLastName:t.target.value})}})}),Object(y.jsx)("span",{style:{gridArea:"5/2/5/3"},children:"E-Mail:"}),Object(y.jsx)("div",{style:{gridArea:"5/3/5/4"},children:Object(y.jsx)("input",{type:"text",value:this.state.createEmail?this.state.createEmail:"",onChange:function(t){e.setState({createEmail:t.target.value})}})}),Object(y.jsx)("span",{style:{gridArea:"6/2/6/3"},children:"Passwort:"}),Object(y.jsx)("div",{style:{gridArea:"6/3/6/4"},children:Object(y.jsx)("input",{type:"password",value:this.state.createPassword?this.state.createPassword:"",onChange:function(t){e.setState({createPassword:t.target.value})}})}),Object(y.jsxs)("div",{style:{gridArea:"8/3/8/4"},children:[Object(y.jsx)("input",{type:"button",value:"registrieren",onClick:Object(r.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.createFirstName&&e.state.createFirstName&&e.state.createEmail&&e.state.createPassword)){t.next=19;break}return e.newStatus("saving"),a={first_name:e.state.createFirstName,last_name:e.state.createLastName,email:e.state.createEmail,password:e.state.createPassword},t.next=5,f.createAccount(a);case 5:n=t.sent,t.t0=n,t.next=201===t.t0?9:409===t.t0?12:406===t.t0?14:16;break;case 9:return e.newStatus("saved","Der Account wurde erfolgreich erstellt."),setTimeout((function(){e.setState({mode:"login"})}),2100),t.abrupt("break",17);case 12:return e.newStatus("error","Die Email-Adresse ist bereits vorhanden."),t.abrupt("break",17);case 14:return e.newStatus("error","Bitte f\xfcllen Sie alle Felder aus."),t.abrupt("break",17);case 16:e.newStatus("error","Die Registrierung is fehlgeschlagen. Versuchen Sie es erneut.");case 17:t.next=20;break;case 19:e.newStatus("error","Bitte f\xfcllen Sie alle Felder aus!");case 20:case"end":return t.stop()}}),t)})))})," ",Object(y.jsx)("span",{className:"minorTxt",style:{marginLeft:"20px"},children:Object(y.jsx)("a",{onClick:function(){e.setState({mode:"login"})},children:"zur\xfcck"})})]}),Object(y.jsx)("span",{style:{gridArea:"7/2/7/3"}})]}),Object(y.jsx)(w,{status:this.state.status})]}):Object(y.jsxs)("div",{style:{position:"absolute",display:"grid",height:"100%",width:"100%",gridTemplateColumns:"1fr 2fr 1fr",gridTemplateRows:"1fr 2fr 1fr"},children:[Object(y.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"auto 100px 50px 50px 50px 25px 50px auto",gridColumn:"2",gridRow:"2",padding:"10px 15px",borderRadius:"5px",boxShadow:"0 1.2px 6px ".concat(B)},children:[Object(y.jsx)("h1",{style:{textAlign:"center",gridArea:"2/2/2/4"},children:"dMLW"}),Object(y.jsx)("span",{style:{gridArea:"3/2/3/3"},children:"Email:"}),Object(y.jsx)("div",{style:{gridArea:"3/3/3/4"},children:Object(y.jsx)("input",{type:"text",name:"email",style:{width:"300px"}})}),Object(y.jsx)("span",{style:{gridArea:"4/2/4/3"},children:"Passwort:"}),Object(y.jsx)("div",{style:{gridArea:"4/3/4/4"},children:Object(y.jsx)("input",{type:"password",name:"password",style:{width:"300px"}})}),Object(y.jsx)("div",{style:{gridArea:"5/3/5/4"},children:Object(y.jsx)("input",{type:"submit",value:"anmelden",onClick:function(){e.login()}})}),Object(y.jsxs)("span",{style:{gridArea:"7/2/7/4"},className:"minorTxt",children:["Noch kein Konto? Klicken Sie ",Object(y.jsx)("a",{onClick:function(){e.setState({mode:"create"})},children:"hier"}),"."]})]}),Object(y.jsx)("div",{className:"cat",children:Object(y.jsx)(j.a,{color:"black",icon:b.c})})]})}},{key:"login",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector("input[name=email]").value,a=document.querySelector("input[name=password]").value,n=["edition","lemma","opera_maiora","opera_minora","scan","scan_lnk","work","zettel"],e.t0=""!==t&&""!==a,!e.t0){e.next=8;break}return e.next=7,f.open(t,a,n);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=12;break}this.setState({mode:"main"}),e.next=13;break;case 12:alert("Geben Sie eine g\xfcltige Email-Adresse und Passwort ein!");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({status:{id:Date.now(),visible:!0,type:e,value:t}})}}]),a}(u.a.Component);h.a.render(Object(y.jsx)(W,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.59e0905d.chunk.js.map